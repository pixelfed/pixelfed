(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"+WV8":function(t,e,s){(t.exports=s("I1BE")(!1)).push([t.i,"\n.momentui .bg-dark[data-v-0993a4c2] {\n\tbackground: #000 !important;\n}\n.momentui .carousel.slide[data-v-0993a4c2],\n.momentui .carousel-item[data-v-0993a4c2] {\n\tbackground: #000 !important;\n}\n.reply-btn[disabled][data-v-0993a4c2] {\n\topacity: .3;\n\tcolor: #3897f0;\n}\n",""])},"/jad":function(t,e,s){"use strict";var i=s("1gDp"),n=s("ngXG"),o={props:{status:{type:Object},recommended:{type:Boolean,default:!1},reactionBar:{type:Boolean,default:!0},hasTopBorder:{type:Boolean,default:!1},size:{type:String,validator:function(t){return["regular","small"].includes(t)},default:"regular"}},components:{"context-menu":i.a,"poll-card":n.a},data:function(){return{config:window.App.config,profile:{},loading:!0,replies:[],replyId:null,lightboxMedia:!1,showSuggestions:!0,showReadMore:!0,replyStatus:{},replyText:"",replyNsfw:!1,emoji:window.App.util.emoji}},mounted:function(){this.profile=window._sharedData.curUser},methods:{formatCount:function(t){return App.util.format.count(t)},statusUrl:function(t){return 1==t.local?t.url:"/i/web/post/_/"+t.account.id+"/"+t.id},profileUrl:function(t){return 1==t.local?t.account.url:"/i/web/profile/_/"+t.account.id},timestampFormat:function(t){var e=new Date(t);return e.toDateString()+" "+e.toLocaleTimeString()},shortTimestamp:function(t){return window.App.util.format.timeAgo(t)},statusCardUsernameFormat:function(t){if(1==t.account.local)return t.account.username;var e=window.App.config.username.remote.format,s=window.App.config.username.remote.custom,i=t.account.username,n=document.createElement("a");switch(n.href=t.account.url,n=n.hostname,e){case"@":return i+'<span class="text-lighter font-weight-bold">@'+n+"</span>";case"from":return i+'<span class="text-lighter font-weight-bold"> <span class="font-weight-normal">from</span> '+n+"</span>";case"custom":return i+'<span class="text-lighter font-weight-bold"> '+s+" "+n+"</span>";default:return i+'<span class="text-lighter font-weight-bold">@'+n+"</span>"}},lightbox:function(t){window.location.href=t.media_attachments[0].url},labelRedirect:function(t){var e="/i/redirect?url="+encodeURI(this.config.features.label.covid.url);window.location.href=e},likeStatus:function(t,e){if(0!=$("body").hasClass("loggedIn")){var s=t.favourites_count;t.favourited=!t.favourited,axios.post("/i/like",{item:t.id}).then((function(e){t.favourites_count=e.data.count,t.favourited=!!t.favourited})).catch((function(e){t.favourited=!!t.favourited,t.favourites_count=s,swal("Error","Something went wrong, please try again later.","error")})),window.navigator.vibrate(200),t.favourited&&setTimeout((function(){e.target.classList.add("animate__animated","animate__bounce")}),100)}},commentFocus:function(t,e){this.$emit("comment-focus",t)},commentSubmit:function(t,e){var s=this;this.replySending=!0;var i=t.id,n=this.replyText,o=this.config.uploader.max_caption_length;if(n.length>o)return this.replySending=!1,void swal("Comment Too Long","Please make sure your comment is "+o+" characters or less.","error");axios.post("/i/comment",{item:i,comment:n,sensitive:this.replyNsfw}).then((function(t){s.replyText="",s.replies.push(t.data.entity),s.$refs.replyModal.hide()})),this.replySending=!1},owner:function(t){return this.profile.id===t.account.id},admin:function(){return 1==this.profile.is_admin},ownerOrAdmin:function(t){return this.owner(t)||this.admin()},ctxMenu:function(){this.$refs.contextMenu.open()},timeAgo:function(t){return App.util.format.timeAgo(t)},statusDeleted:function(t){this.$emit("status-delete",t)},canFollow:function(t){return!!t.hasOwnProperty("relationship")&&(!(!t.hasOwnProperty("account")||!t.account.hasOwnProperty("id"))&&(t.account.id!=this.profile.id&&!t.relationship.following))},follow:function(t){var e=this;event.currentTarget.blur(),axios.post("/i/follow",{item:t}).then((function(s){e.status.relationship.following=!0,e.$emit("followed",t)})).catch((function(t){t.response.data.message&&swal("Error",t.response.data.message,"error")}))},unfollow:function(t){var e=this;event.currentTarget.blur(),axios.post("/i/follow",{item:t}).then((function(s){e.status.relationship.following=!1,e.$emit("unfollowed",t)})).catch((function(t){t.response.data.message&&swal("Error",t.response.data.message,"error")}))}}},a=(s("RePV"),s("KHd+")),r=Object(a.a)(o,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"status-card-component",class:{"status-card-sm":"small"===t.size}},["text"===t.status.pf_type?s("div",{staticClass:"card shadow-none border rounded-0",class:{"border-top-0":!t.hasTopBorder}},[s("div",{staticClass:"card-body"},[s("div",{staticClass:"media"},[s("img",{staticClass:"rounded-circle box-shadow mr-2",attrs:{src:t.status.account.avatar,width:"32px",height:"32px",onerror:"this.onerror=null;this.src='/storage/avatars/default.png?v=2'",alt:"avatar"}}),t._v(" "),s("div",{staticClass:"media-body"},[s("div",{staticClass:"pl-2 d-flex align-items-top"},[s("a",{staticClass:"username font-weight-bold text-dark text-decoration-none text-break",attrs:{href:t.profileUrl(t.status)},domProps:{innerHTML:t._s(t.statusCardUsernameFormat(t.status))}},[t._v("\n\t\t\t\t\t\t\tLoading...\n\t\t\t\t\t\t")]),t._v(" "),s("span",{staticClass:"px-1 text-lighter"},[t._v("\n\t\t\t\t\t\t\t·\n\t\t\t\t\t\t")]),t._v(" "),s("a",{staticClass:"font-weight-bold text-lighter",attrs:{href:t.statusUrl(t.status)}},[t._v("\n\t\t\t\t\t\t\t"+t._s(t.shortTimestamp(t.status.created_at))+"\n\t\t\t\t\t\t")]),t._v(" "),s("span",{staticClass:"text-right",staticStyle:{"flex-grow":"1"}},[s("button",{staticClass:"btn btn-link text-dark py-0",attrs:{type:"button"},on:{click:function(e){return t.ctxMenu()}}},[s("span",{staticClass:"fas fa-ellipsis-h text-lighter"}),t._v(" "),s("span",{staticClass:"sr-only"},[t._v("Post Menu")])])])]),t._v(" "),s("div",{staticClass:"pl-2"},[t.status.sensitive?s("details",[s("summary",{staticClass:"mb-2 font-weight-bold text-muted"},[t._v("Content Warning")]),t._v(" "),s("p",{staticClass:"pt-2 text-break status-content",domProps:{innerHTML:t._s(t.status.content)}})]):s("p",{staticClass:"pt-2 text-break status-content",domProps:{innerHTML:t._s(t.status.content)}}),t._v(" "),s("p",{staticClass:"mb-0"},[s("i",{staticClass:"fa-heart fa-lg cursor-pointer mr-3",class:{"far text-muted":!t.status.favourited,"fas text-danger":t.status.favourited},on:{click:function(e){return t.likeStatus(t.status,e)}}}),t._v(" "),s("i",{staticClass:"far fa-comment cursor-pointer text-muted fa-lg mr-3",on:{click:function(e){return t.commentFocus(t.status,e)}}})])])])])])]):"poll"===t.status.pf_type?s("div",[s("poll-card",{attrs:{status:t.status,profile:t.profile},on:{"status-delete":t.statusDeleted}})],1):s("div",{staticClass:"card rounded-0 border-top-0 status-card card-md-rounded-0 shadow-none border"},[t.status?s("div",{staticClass:"card-header d-inline-flex align-items-center bg-white"},[s("div",[s("img",{staticClass:"rounded-circle box-shadow",attrs:{src:t.status.account.avatar,width:"32px",height:"32px",onerror:"this.onerror=null;this.src='/storage/avatars/default.png?v=2'",alt:"avatar"}})]),t._v(" "),s("div",{staticClass:"pl-2"},[s("a",{staticClass:"username font-weight-bold text-dark text-decoration-none text-break",attrs:{href:t.profileUrl(t.status)},domProps:{innerHTML:t._s(t.statusCardUsernameFormat(t.status))}},[t._v("\n\t\t\t\t\tLoading...\n\t\t\t\t")]),t._v(" "),t.status.account.is_admin?s("span",{staticClass:"fa-stack",staticStyle:{height:"1em","line-height":"1em","max-width":"19px"},attrs:{title:"Admin Account","data-toggle":"tooltip"}},[s("i",{staticClass:"fas fa-certificate text-danger fa-stack-1x"}),t._v(" "),s("i",{staticClass:"fas fa-crown text-white fa-sm fa-stack-1x",staticStyle:{"font-size":"7px"}})]):t._e(),t._v(" "),s("div",{staticClass:"d-flex align-items-center"},[t.status.place?s("a",{staticClass:"small text-decoration-none text-muted",attrs:{href:"/discover/places/"+t.status.place.id+"/"+t.status.place.slug,title:"Location","data-toggle":"tooltip"}},[s("i",{staticClass:"fas fa-map-marked-alt"}),t._v(" "+t._s(t.status.place.name)+", "+t._s(t.status.place.country))]):t._e()])]),t._v(" "),t.canFollow(t.status)?s("div",[s("span",{staticClass:"px-2"}),t._v(" "),s("button",{staticClass:"btn btn-primary btn-sm font-weight-bold py-1 px-3 rounded-lg",on:{click:function(e){return t.follow(t.status.account.id)}}},[s("i",{staticClass:"far fa-user-plus mr-1"}),t._v(" Follow")])]):t._e(),t._v(" "),t.status.hasOwnProperty("relationship")&&t.status.relationship.hasOwnProperty("following")&&t.status.relationship.following?s("div",[s("span",{staticClass:"px-2"}),t._v(" "),s("button",{staticClass:"btn btn-outline-primary btn-sm font-weight-bold py-1 px-3 rounded-lg",on:{click:function(e){return t.unfollow(t.status.account.id)}}},[s("i",{staticClass:"far fa-user-check mr-1"}),t._v(" Following")])]):t._e(),t._v(" "),s("div",{staticClass:"text-right",staticStyle:{"flex-grow":"1"}},[s("button",{staticClass:"btn btn-link text-dark py-0",attrs:{type:"button"},on:{click:function(e){return t.ctxMenu()}}},[s("span",{staticClass:"fas fa-ellipsis-h text-lighter"}),t._v(" "),s("span",{staticClass:"sr-only"},[t._v("Post Menu")])])])]):t._e(),t._v(" "),s("div",{staticClass:"postPresenterContainer",staticStyle:{background:"#000"}},["photo"===t.status.pf_type?s("div",{staticClass:"w-100"},[s("photo-presenter",{attrs:{status:t.status},on:{lightbox:t.lightbox,togglecw:function(e){t.status.sensitive=!1}}})],1):"video"===t.status.pf_type?s("div",{staticClass:"w-100"},[s("video-presenter",{attrs:{status:t.status},on:{togglecw:function(e){t.status.sensitive=!1}}})],1):"photo:album"===t.status.pf_type?s("div",{staticClass:"w-100"},[s("photo-album-presenter",{attrs:{status:t.status},on:{lightbox:t.lightbox,togglecw:function(e){t.status.sensitive=!1}}})],1):"video:album"===t.status.pf_type?s("div",{staticClass:"w-100"},[s("video-album-presenter",{attrs:{status:t.status},on:{togglecw:function(e){t.status.sensitive=!1}}})],1):"photo:video:album"===t.status.pf_type?s("div",{staticClass:"w-100"},[s("mixed-album-presenter",{attrs:{status:t.status},on:{lightbox:t.lightbox,togglecw:function(e){t.status.sensitive=!1}}})],1):s("div",{staticClass:"w-100"},[s("p",{staticClass:"text-center p-0 font-weight-bold text-white"},[t._v("Error: Problem rendering preview.")])])]),t._v(" "),t.config.features.label.covid.enabled&&t.status.label&&1==t.status.label.covid?s("div",{staticClass:"card-body border-top border-bottom py-2 cursor-pointer pr-2",on:{click:function(e){return t.labelRedirect()}}},[s("p",{staticClass:"font-weight-bold d-flex justify-content-between align-items-center mb-0"},[s("span",[s("i",{staticClass:"fas fa-info-circle mr-2"}),t._v("\n\t\t\t\t\tFor information about COVID-19, "+t._s(t.config.features.label.covid.org)+"\n\t\t\t\t")]),t._v(" "),t._m(0)])]):t._e(),t._v(" "),s("div",{staticClass:"card-body"},[t.reactionBar?s("div",{staticClass:"reactions my-1 pb-2"},[t.status.favourited?s("h3",{staticClass:"fas fa-heart text-danger pr-3 m-0 cursor-pointer",attrs:{title:"Like"},on:{click:function(e){return t.likeStatus(t.status,e)}}}):s("h3",{staticClass:"fal fa-heart pr-3 m-0 like-btn text-dark cursor-pointer",attrs:{title:"Like"},on:{click:function(e){return t.likeStatus(t.status,e)}}}),t._v(" "),t.status.comments_disabled?t._e():s("h3",{staticClass:"fal fa-comment text-dark pr-3 m-0 cursor-pointer",attrs:{title:"Comment"},on:{click:function(e){return t.commentFocus(t.status,e)}}}),t._v(" "),t.status.taggedPeople.length?s("span",{staticClass:"float-right"},[s("span",{staticClass:"font-weight-light small",staticStyle:{color:"#718096"}},[s("i",{staticClass:"far fa-user",attrs:{"data-toggle":"tooltip",title:"Tagged People"}}),t._v(" "),t._l(t.status.taggedPeople,(function(t,e){return s("span",{staticClass:"mr-n2"},[s("a",{attrs:{href:"/"+t.username}},[s("img",{staticClass:"border rounded-circle",attrs:{src:t.avatar,width:"20px",height:"20px","data-toggle":"tooltip",title:"@"+t.username,alt:"Avatar"}})])])}))],2)]):t._e()]):t._e(),t._v(" "),t.status.liked_by.username&&t.status.liked_by.username!==t.profile.username?s("div",{staticClass:"likes mb-1"},[s("span",{staticClass:"like-count"},[t._v("Liked by\n\t\t\t\t\t"),s("a",{staticClass:"font-weight-bold text-dark",attrs:{href:t.status.liked_by.url}},[t._v(t._s(t.status.liked_by.username))]),t._v(" "),1==t.status.liked_by.others?s("span",[t._v("\n\t\t\t\t\t\tand "),t.status.liked_by.total_count_pretty?s("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.status.liked_by.total_count_pretty))]):t._e(),t._v(" "),s("span",{staticClass:"font-weight-bold"},[t._v("others")])]):t._e()])]):t._e(),t._v(" "),"text"!=t.status.pf_type?s("div",{staticClass:"caption"},[t.status.sensitive?t._e():s("p",{staticClass:"mb-2 read-more",staticStyle:{overflow:"hidden"}},[s("span",{staticClass:"username font-weight-bold"},[s("bdi",[s("a",{staticClass:"text-dark",attrs:{href:t.profileUrl(t.status)}},[t._v(t._s(t.status.account.username))])])]),t._v(" "),s("span",{staticClass:"status-content",domProps:{innerHTML:t._s(t.status.content)}})])]):t._e(),t._v(" "),s("div",{staticClass:"timestamp mt-2"},[s("p",{staticClass:"small mb-0"},["archived"!=t.status.visibility?s("a",{staticClass:"text-muted text-uppercase",attrs:{href:t.statusUrl(t.status)}},[s("timeago",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.bottom",modifiers:{hover:!0,bottom:!0}}],attrs:{datetime:t.status.created_at,"auto-update":60,"converter-options":{includeSeconds:!0},title:t.timestampFormat(t.status.created_at)}})],1):s("span",{staticClass:"text-muted text-uppercase"},[t._v("\n\t\t\t\t\t\tPosted "),s("timeago",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.bottom",modifiers:{hover:!0,bottom:!0}}],attrs:{datetime:t.status.created_at,"auto-update":60,"converter-options":{includeSeconds:!0},title:t.timestampFormat(t.status.created_at)}})],1),t._v(" "),t.recommended?s("span",[s("span",{staticClass:"px-1"},[t._v("·")]),t._v(" "),s("span",{staticClass:"text-muted"},[t._v("Based on popular and trending content")])]):t._e()])])])]),t._v(" "),s("context-menu",{ref:"contextMenu",attrs:{status:t.status,profile:t.profile},on:{"status-delete":t.statusDeleted}})],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("i",{staticClass:"fas fa-chevron-right text-lighter"})])}],!1,null,null,null);e.a=r.exports},"0ox+":function(t,e,s){(t.exports=s("I1BE")(!1)).push([t.i,'.autocomplete-input{border:1px solid #eee;border-radius:8px;width:100%;padding:12px 12px 12px 48px;box-sizing:border-box;position:relative;font-size:16px;line-height:1.5;flex:1;background-color:#eee;background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNjY2IiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCI+PGNpcmNsZSBjeD0iMTEiIGN5PSIxMSIgcj0iOCIvPjxwYXRoIGQ9Ik0yMSAyMWwtNC00Ii8+PC9zdmc+");background-repeat:no-repeat;background-position:12px}.autocomplete-input:focus,.autocomplete-input[aria-expanded=true]{border-color:rgba(0,0,0,.12);background-color:#fff;outline:none;box-shadow:0 2px 2px rgba(0,0,0,.16)}[data-position=below] .autocomplete-input[aria-expanded=true]{border-bottom-color:transparent;border-radius:8px 8px 0 0}[data-position=above] .autocomplete-input[aria-expanded=true]{border-top-color:transparent;border-radius:0 0 8px 8px;z-index:2}.autocomplete[data-loading=true]:after{content:"";border:3px solid rgba(0,0,0,.12);border-right-color:rgba(0,0,0,.48);border-radius:100%;width:20px;height:20px;position:absolute;right:12px;top:50%;transform:translateY(-50%);-webkit-animation:rotate 1s linear infinite;animation:rotate 1s linear infinite}.autocomplete-result-list{margin:0;border:1px solid rgba(0,0,0,.12);padding:0;box-sizing:border-box;max-height:296px;overflow-y:auto;background:#fff;list-style:none;box-shadow:0 2px 2px rgba(0,0,0,.16)}[data-position=below] .autocomplete-result-list{margin-top:-1px;border-top-color:transparent;border-radius:0 0 8px 8px;padding-bottom:8px}[data-position=above] .autocomplete-result-list{margin-bottom:-1px;border-bottom-color:transparent;border-radius:8px 8px 0 0;padding-top:8px}.autocomplete-result{cursor:default;padding:12px 12px 12px 48px;background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjY2NjIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCI+PGNpcmNsZSBjeD0iMTEiIGN5PSIxMSIgcj0iOCIvPjxwYXRoIGQ9Ik0yMSAyMWwtNC00Ii8+PC9zdmc+");background-repeat:no-repeat;background-position:12px}.autocomplete-result:hover,.autocomplete-result[aria-selected=true]{background-color:rgba(0,0,0,.06)}@-webkit-keyframes rotate{0%{transform:translateY(-50%) rotate(0deg)}to{transform:translateY(-50%) rotate(359deg)}}@keyframes rotate{0%{transform:translateY(-50%) rotate(0deg)}to{transform:translateY(-50%) rotate(359deg)}}',""])},"1gDp":function(t,e,s){"use strict";var i={props:["status","profile"],data:function(){return{ctxMenuStatus:!1,ctxMenuRelationship:!1,ctxEmbedPayload:!1,copiedEmbed:!1,replySending:!1,ctxEmbedShowCaption:!0,ctxEmbedShowLikes:!1,ctxEmbedCompactMode:!1,confirmModalTitle:"Are you sure?",confirmModalIdentifer:null,confirmModalType:!1}},watch:{ctxEmbedShowCaption:function(t,e){1==t&&(this.ctxEmbedCompactMode=!1);var s=this.ctxEmbedCompactMode?"compact":"full";this.ctxEmbedPayload=window.App.util.embed.post(this.ctxMenuStatus.url,this.ctxEmbedShowCaption,this.ctxEmbedShowLikes,s)},ctxEmbedShowLikes:function(t,e){1==t&&(this.ctxEmbedCompactMode=!1);var s=this.ctxEmbedCompactMode?"compact":"full";this.ctxEmbedPayload=window.App.util.embed.post(this.ctxMenuStatus.url,this.ctxEmbedShowCaption,this.ctxEmbedShowLikes,s)},ctxEmbedCompactMode:function(t,e){1==t&&(this.ctxEmbedShowCaption=!1,this.ctxEmbedShowLikes=!1);var s=this.ctxEmbedCompactMode?"compact":"full";this.ctxEmbedPayload=window.App.util.embed.post(this.ctxMenuStatus.url,this.ctxEmbedShowCaption,this.ctxEmbedShowLikes,s)}},methods:{open:function(){this.ctxMenu()},ctxMenu:function(){var t=this;this.ctxMenuStatus=this.status,this.ctxEmbedPayload=window.App.util.embed.post(this.status.url),this.status.account.id==this.profile.id?(this.ctxMenuRelationship=!1,this.$refs.ctxModal.show()):axios.get("/api/pixelfed/v1/accounts/relationships",{params:{"id[]":this.status.account.id}}).then((function(e){t.ctxMenuRelationship=e.data[0],t.$refs.ctxModal.show()}))},closeCtxMenu:function(){this.copiedEmbed=!1,this.ctxMenuStatus=!1,this.ctxMenuRelationship=!1,this.$refs.ctxModal.hide(),this.$refs.ctxReport.hide(),this.$refs.ctxReportOther.hide(),this.closeModals()},ctxMenuCopyLink:function(){var t=this.ctxMenuStatus;navigator.clipboard.writeText(t.url),this.closeModals()},ctxMenuGoToPost:function(){var t=this.ctxMenuStatus;window.location.href=this.statusUrl(t),this.closeCtxMenu()},ctxMenuGoToProfile:function(){var t=this.ctxMenuStatus;window.location.href=this.profileUrl(t),this.closeCtxMenu()},ctxMenuFollow:function(){var t=this,e=this.ctxMenuStatus.account.id;axios.post("/i/follow",{item:e}).then((function(e){var s=t.ctxMenuStatus.account.acct;t.closeCtxMenu(),setTimeout((function(){swal("Follow successful!","You are now following "+s,"success")}),500)}))},ctxMenuUnfollow:function(){var t=this,e=this.ctxMenuStatus.account.id;axios.post("/i/follow",{item:e}).then((function(e){var s=t.ctxMenuStatus.account.acct;"home"==t.scope&&(t.feed=t.feed.filter((function(e){return e.account.id!=t.ctxMenuStatus.account.id}))),t.closeCtxMenu(),setTimeout((function(){swal("Unfollow successful!","You are no longer following "+s,"success")}),500)}))},ctxMenuReportPost:function(){this.$refs.ctxModal.hide(),this.$refs.ctxReport.show()},ctxMenuEmbed:function(){this.closeModals(),this.$refs.ctxEmbedModal.show()},ctxMenuShare:function(){this.$refs.ctxModal.hide(),this.$refs.ctxShareModal.show()},closeCtxShareMenu:function(){this.$refs.ctxShareModal.hide(),this.$refs.ctxModal.show()},ctxCopyEmbed:function(){navigator.clipboard.writeText(this.ctxEmbedPayload),this.ctxEmbedShowCaption=!0,this.ctxEmbedShowLikes=!1,this.ctxEmbedCompactMode=!1,this.$refs.ctxEmbedModal.hide()},ctxModMenuShow:function(){this.$refs.ctxModal.hide(),this.$refs.ctxModModal.show()},ctxModOtherMenuShow:function(){this.$refs.ctxModal.hide(),this.$refs.ctxModModal.hide(),this.$refs.ctxModOtherModal.show()},ctxModMenu:function(){this.$refs.ctxModal.hide()},ctxModMenuClose:function(){this.closeModals()},ctxModOtherMenuClose:function(){this.closeModals(),this.$refs.ctxModModal.show()},formatCount:function(t){return App.util.format.count(t)},openCtxReportOtherMenu:function(){var t=this.ctxMenuStatus;this.closeCtxMenu(),this.ctxMenuStatus=t,this.$refs.ctxReportOther.show()},ctxReportMenuGoBack:function(){this.$refs.ctxReportOther.hide(),this.$refs.ctxReport.hide(),this.$refs.ctxModal.show()},ctxReportOtherMenuGoBack:function(){this.$refs.ctxReportOther.hide(),this.$refs.ctxModal.hide(),this.$refs.ctxReport.show()},sendReport:function(t){var e=this,s=this.ctxMenuStatus.id;swal({title:"Confirm Report",text:"Are you sure you want to report this post?",icon:"warning",buttons:!0,dangerMode:!0}).then((function(i){i?axios.post("/i/report/",{report:t,type:"post",id:s}).then((function(t){e.closeCtxMenu(),swal("Report Sent!","We have successfully received your report.","success")})).catch((function(t){swal("Oops!","There was an issue reporting this post.","error")})):e.closeCtxMenu()}))},closeModals:function(){this.$refs.ctxModal.hide(),this.$refs.ctxModModal.hide(),this.$refs.ctxModOtherModal.hide(),this.$refs.ctxShareModal.hide(),this.$refs.ctxEmbedModal.hide(),this.$refs.ctxReport.hide(),this.$refs.ctxReportOther.hide(),this.$refs.ctxConfirm.hide()},openCtxStatusModal:function(){this.closeModals(),this.$refs.ctxStatusModal.show()},openConfirmModal:function(){this.closeModals(),this.$refs.ctxConfirm.show()},closeConfirmModal:function(){this.closeModals(),this.confirmModalTitle="Are you sure?",this.confirmModalType=!1,this.confirmModalIdentifer=null},confirmModalConfirm:function(){var t=this;switch(this.confirmModalType){case"post.delete":axios.post("/i/delete",{type:"status",item:this.confirmModalIdentifer}).then((function(e){t.feed=t.feed.filter((function(e){return e.id!=t.confirmModalIdentifer})),t.closeConfirmModal()})).catch((function(e){t.closeConfirmModal(),swal("Error","Something went wrong. Please try again later.","error")}))}this.closeConfirmModal()},confirmModalCancel:function(){this.closeConfirmModal()},moderatePost:function(t,e,s){var i=this,n=(t.account.username,t.id,""),o=this;switch(e){case"addcw":n="Are you sure you want to add a content warning to this post?",swal({title:"Confirm",text:n,icon:"warning",buttons:!0,dangerMode:!0}).then((function(s){s&&axios.post("/api/v2/moderator/action",{action:e,item_id:t.id,item_type:"status"}).then((function(e){swal("Success","Successfully added content warning","success"),t.sensitive=!0,o.closeModals(),o.ctxModMenuClose()})).catch((function(t){swal("Error","Something went wrong, please try again later.","error"),o.closeModals(),o.ctxModMenuClose()}))}));break;case"remcw":n="Are you sure you want to remove the content warning on this post?",swal({title:"Confirm",text:n,icon:"warning",buttons:!0,dangerMode:!0}).then((function(s){s&&axios.post("/api/v2/moderator/action",{action:e,item_id:t.id,item_type:"status"}).then((function(e){swal("Success","Successfully added content warning","success"),t.sensitive=!1,o.closeModals(),o.ctxModMenuClose()})).catch((function(t){swal("Error","Something went wrong, please try again later.","error"),o.closeModals(),o.ctxModMenuClose()}))}));break;case"unlist":n="Are you sure you want to unlist this post?",swal({title:"Confirm",text:n,icon:"warning",buttons:!0,dangerMode:!0}).then((function(s){s&&axios.post("/api/v2/moderator/action",{action:e,item_id:t.id,item_type:"status"}).then((function(e){i.feed=i.feed.filter((function(e){return e.id!=t.id})),swal("Success","Successfully unlisted post","success"),o.closeModals(),o.ctxModMenuClose()})).catch((function(t){o.closeModals(),o.ctxModMenuClose(),swal("Error","Something went wrong, please try again later.","error")}))}));break;case"spammer":n="Are you sure you want to mark this user as a spammer? All existing and future posts will be unlisted on timelines and a content warning will be applied.",swal({title:"Confirm",text:n,icon:"warning",buttons:!0,dangerMode:!0}).then((function(s){s&&axios.post("/api/v2/moderator/action",{action:e,item_id:t.id,item_type:"status"}).then((function(t){swal("Success","Successfully marked account as spammer","success"),o.closeModals(),o.ctxModMenuClose()})).catch((function(t){o.closeModals(),o.ctxModMenuClose(),swal("Error","Something went wrong, please try again later.","error")}))}))}},shareStatus:function(t,e){0!=$("body").hasClass("loggedIn")&&(this.closeModals(),axios.post("/i/share",{item:t.id}).then((function(e){t.reblogs_count=e.data.count,t.reblogged=!t.reblogged,t.reblogged?swal("Success","You shared this post","success"):swal("Success","You unshared this post","success")})).catch((function(t){swal("Error","Something went wrong, please try again later.","error")})))},statusUrl:function(t){return 1==t.account.local?t.url:"/i/web/post/_/"+t.account.id+"/"+t.id},profileUrl:function(t){return 1==t.account.local?t.account.url:"/i/web/profile/_/"+t.account.id},deletePost:function(t){var e=this;0!=$("body").hasClass("loggedIn")&&0!=this.ownerOrAdmin(t)&&0!=window.confirm("Are you sure you want to delete this post?")&&axios.post("/i/delete",{type:"status",item:t.id}).then((function(s){e.$emit("status-delete",t.id),e.closeModals()})).catch((function(t){swal("Error","Something went wrong. Please try again later.","error")}))},owner:function(t){return this.profile.id===t.account.id},admin:function(){return 1==this.profile.is_admin},ownerOrAdmin:function(t){return this.owner(t)||this.admin()},archivePost:function(t){var e=this;0!=window.confirm("Are you sure you want to archive this post?")&&axios.post("/api/pixelfed/v2/status/"+t.id+"/archive").then((function(s){e.$emit("status-delete",t.id),e.closeModals()}))},unarchivePost:function(t){var e=this;0!=window.confirm("Are you sure you want to unarchive this post?")&&axios.post("/api/pixelfed/v2/status/"+t.id+"/unarchive").then((function(t){e.closeModals()}))}}},n=s("KHd+"),o=Object(n.a)(i,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal-stack"},[s("b-modal",{ref:"ctxModal",attrs:{id:"ctx-modal","hide-header":"","hide-footer":"",centered:"",rounded:"",size:"sm","body-class":"list-group-flush p-0 rounded"}},[s("div",{staticClass:"list-group text-center"},["archived"!==t.status.visibility?s("div",{staticClass:"list-group-item rounded cursor-pointer",on:{click:function(e){return t.ctxMenuGoToPost()}}},[t._v("View Post")]):t._e(),t._v(" "),"archived"!==t.status.visibility?s("div",{staticClass:"list-group-item rounded cursor-pointer",on:{click:function(e){return t.ctxMenuGoToProfile()}}},[t._v("View Profile")]):t._e(),t._v(" "),"archived"!==t.status.visibility?s("div",{staticClass:"list-group-item rounded cursor-pointer",on:{click:function(e){return t.ctxMenuShare()}}},[t._v("Share")]):t._e(),t._v(" "),t.status&&t.profile&&1==t.profile.is_admin&&"archived"!==t.status.visibility?s("div",{staticClass:"list-group-item rounded cursor-pointer",on:{click:function(e){return t.ctxModMenuShow()}}},[t._v("Moderation Tools")]):t._e(),t._v(" "),t.status&&t.status.account.id!=t.profile.id?s("div",{staticClass:"list-group-item rounded cursor-pointer text-danger",on:{click:function(e){return t.ctxMenuReportPost()}}},[t._v("Report")]):t._e(),t._v(" "),t.status&&t.profile.id==t.status.account.id&&"archived"!==t.status.visibility?s("div",{staticClass:"list-group-item rounded cursor-pointer text-danger",on:{click:function(e){return t.archivePost(t.status)}}},[t._v("Archive")]):t._e(),t._v(" "),t.status&&t.profile.id==t.status.account.id&&"archived"==t.status.visibility?s("div",{staticClass:"list-group-item rounded cursor-pointer text-danger",on:{click:function(e){return t.unarchivePost(t.status)}}},[t._v("Unarchive")]):t._e(),t._v(" "),t.status&&(t.profile.is_admin||t.profile.id==t.status.account.id)&&"archived"!==t.status.visibility?s("div",{staticClass:"list-group-item rounded cursor-pointer text-danger",on:{click:function(e){return t.deletePost(t.status)}}},[t._v("Delete")]):t._e(),t._v(" "),s("div",{staticClass:"list-group-item rounded cursor-pointer text-lighter",on:{click:function(e){return t.closeCtxMenu()}}},[t._v("Cancel")])])]),t._v(" "),s("b-modal",{ref:"ctxModModal",attrs:{id:"ctx-mod-modal","hide-header":"","hide-footer":"",centered:"",rounded:"",size:"sm","body-class":"list-group-flush p-0 rounded"}},[s("div",{staticClass:"list-group text-center"},[s("p",{staticClass:"py-2 px-3 mb-0"}),s("div",{staticClass:"text-center font-weight-bold text-danger"},[t._v("Moderation Tools")]),t._v(" "),s("div",{staticClass:"small text-center text-muted"},[t._v("Select one of the following options")]),t._v(" "),s("p"),t._v(" "),s("div",{staticClass:"list-group-item rounded cursor-pointer",on:{click:function(e){return t.moderatePost(t.status,"unlist")}}},[t._v("Unlist from Timelines")]),t._v(" "),t.status.sensitive?s("div",{staticClass:"list-group-item rounded cursor-pointer",on:{click:function(e){return t.moderatePost(t.status,"remcw")}}},[t._v("Remove Content Warning")]):s("div",{staticClass:"list-group-item rounded cursor-pointer",on:{click:function(e){return t.moderatePost(t.status,"addcw")}}},[t._v("Add Content Warning")]),t._v(" "),s("div",{staticClass:"list-group-item rounded cursor-pointer",on:{click:function(e){return t.moderatePost(t.status,"spammer")}}},[t._v("\n\t\t\t\tMark as Spammer"),s("br"),t._v(" "),s("span",{staticClass:"small"},[t._v("Unlist + CW existing and future posts")])]),t._v(" "),s("div",{staticClass:"list-group-item rounded cursor-pointer text-lighter",on:{click:function(e){return t.ctxModMenuClose()}}},[t._v("Cancel")])])]),t._v(" "),s("b-modal",{ref:"ctxModOtherModal",attrs:{id:"ctx-mod-other-modal","hide-header":"","hide-footer":"",centered:"",rounded:"",size:"sm","body-class":"list-group-flush p-0 rounded"}},[s("div",{staticClass:"list-group text-center"},[s("p",{staticClass:"py-2 px-3 mb-0"}),s("div",{staticClass:"text-center font-weight-bold text-danger"},[t._v("Moderation Tools")]),t._v(" "),s("div",{staticClass:"small text-center text-muted"},[t._v("Select one of the following options")]),t._v(" "),s("p"),t._v(" "),s("div",{staticClass:"list-group-item rounded cursor-pointer font-weight-bold",on:{click:function(e){return t.confirmModal()}}},[t._v("Unlist Posts")]),t._v(" "),s("div",{staticClass:"list-group-item rounded cursor-pointer font-weight-bold",on:{click:function(e){return t.confirmModal()}}},[t._v("Moderation Log")]),t._v(" "),s("div",{staticClass:"list-group-item rounded cursor-pointer text-lighter",on:{click:function(e){return t.ctxModOtherMenuClose()}}},[t._v("Cancel")])])]),t._v(" "),s("b-modal",{ref:"ctxShareModal",attrs:{id:"ctx-share-modal",title:"Share","hide-footer":"","hide-header":"",centered:"",rounded:"",size:"sm","body-class":"list-group-flush p-0 rounded text-center"}},[s("div",{staticClass:"list-group-item rounded cursor-pointer",on:{click:function(e){return t.shareStatus(t.status,e)}}},[t._v(t._s(t.status.reblogged?"Unshare":"Share")+" to Followers")]),t._v(" "),s("div",{staticClass:"list-group-item rounded cursor-pointer",on:{click:function(e){return t.ctxMenuCopyLink()}}},[t._v("Copy Link")]),t._v(" "),t.status&&1==t.status.local&&!t.status.in_reply_to_id?s("div",{staticClass:"list-group-item rounded cursor-pointer",on:{click:function(e){return t.ctxMenuEmbed()}}},[t._v("Embed")]):t._e(),t._v(" "),s("div",{staticClass:"list-group-item rounded cursor-pointer text-lighter",on:{click:function(e){return t.closeCtxShareMenu()}}},[t._v("Cancel")])]),t._v(" "),s("b-modal",{ref:"ctxEmbedModal",attrs:{id:"ctx-embed-modal","hide-header":"","hide-footer":"",centered:"",rounded:"",size:"md","body-class":"p-2 rounded"}},[s("div",[s("div",{staticClass:"form-group"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.ctxEmbedPayload,expression:"ctxEmbedPayload"}],staticClass:"form-control disabled text-monospace",staticStyle:{"overflow-y":"hidden",border:"1px solid #efefef","font-size":"12px","line-height":"18px",margin:"0 0 7px",resize:"none"},attrs:{rows:"8",disabled:""},domProps:{value:t.ctxEmbedPayload},on:{input:function(e){e.target.composing||(t.ctxEmbedPayload=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group pl-2 d-flex justify-content-center"},[s("div",{staticClass:"form-check mr-3"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.ctxEmbedShowCaption,expression:"ctxEmbedShowCaption"}],staticClass:"form-check-input",attrs:{type:"checkbox",disabled:1==t.ctxEmbedCompactMode},domProps:{checked:Array.isArray(t.ctxEmbedShowCaption)?t._i(t.ctxEmbedShowCaption,null)>-1:t.ctxEmbedShowCaption},on:{change:function(e){var s=t.ctxEmbedShowCaption,i=e.target,n=!!i.checked;if(Array.isArray(s)){var o=t._i(s,null);i.checked?o<0&&(t.ctxEmbedShowCaption=s.concat([null])):o>-1&&(t.ctxEmbedShowCaption=s.slice(0,o).concat(s.slice(o+1)))}else t.ctxEmbedShowCaption=n}}}),t._v(" "),s("label",{staticClass:"form-check-label font-weight-light"},[t._v("\n\t\t\t\t\t\tShow Caption\n\t\t\t\t\t")])]),t._v(" "),s("div",{staticClass:"form-check mr-3"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.ctxEmbedShowLikes,expression:"ctxEmbedShowLikes"}],staticClass:"form-check-input",attrs:{type:"checkbox",disabled:1==t.ctxEmbedCompactMode},domProps:{checked:Array.isArray(t.ctxEmbedShowLikes)?t._i(t.ctxEmbedShowLikes,null)>-1:t.ctxEmbedShowLikes},on:{change:function(e){var s=t.ctxEmbedShowLikes,i=e.target,n=!!i.checked;if(Array.isArray(s)){var o=t._i(s,null);i.checked?o<0&&(t.ctxEmbedShowLikes=s.concat([null])):o>-1&&(t.ctxEmbedShowLikes=s.slice(0,o).concat(s.slice(o+1)))}else t.ctxEmbedShowLikes=n}}}),t._v(" "),s("label",{staticClass:"form-check-label font-weight-light"},[t._v("\n\t\t\t\t\t\tShow Likes\n\t\t\t\t\t")])]),t._v(" "),s("div",{staticClass:"form-check"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.ctxEmbedCompactMode,expression:"ctxEmbedCompactMode"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.ctxEmbedCompactMode)?t._i(t.ctxEmbedCompactMode,null)>-1:t.ctxEmbedCompactMode},on:{change:function(e){var s=t.ctxEmbedCompactMode,i=e.target,n=!!i.checked;if(Array.isArray(s)){var o=t._i(s,null);i.checked?o<0&&(t.ctxEmbedCompactMode=s.concat([null])):o>-1&&(t.ctxEmbedCompactMode=s.slice(0,o).concat(s.slice(o+1)))}else t.ctxEmbedCompactMode=n}}}),t._v(" "),s("label",{staticClass:"form-check-label font-weight-light"},[t._v("\n\t\t\t\t\t\tCompact Mode\n\t\t\t\t\t")])])]),t._v(" "),s("hr"),t._v(" "),s("button",{class:t.copiedEmbed?"btn btn-primary btn-block btn-sm py-1 font-weight-bold disabed":"btn btn-primary btn-block btn-sm py-1 font-weight-bold",attrs:{disabled:t.copiedEmbed},on:{click:t.ctxCopyEmbed}},[t._v(t._s(t.copiedEmbed?"Embed Code Copied!":"Copy Embed Code"))]),t._v(" "),s("p",{staticClass:"mb-0 px-2 small text-muted"},[t._v("By using this embed, you agree to our "),s("a",{attrs:{href:"/site/terms"}},[t._v("Terms of Use")])])])]),t._v(" "),s("b-modal",{ref:"ctxReport",attrs:{id:"ctx-report","hide-header":"","hide-footer":"",centered:"",rounded:"",size:"sm","body-class":"list-group-flush p-0 rounded"}},[s("p",{staticClass:"py-2 px-3 mb-0"}),s("div",{staticClass:"text-center font-weight-bold text-danger"},[t._v("Report")]),t._v(" "),s("div",{staticClass:"small text-center text-muted"},[t._v("Select one of the following options")]),t._v(" "),s("p"),t._v(" "),s("div",{staticClass:"list-group text-center"},[s("div",{staticClass:"list-group-item rounded cursor-pointer font-weight-bold",on:{click:function(e){return t.sendReport("spam")}}},[t._v("Spam")]),t._v(" "),s("div",{staticClass:"list-group-item rounded cursor-pointer font-weight-bold",on:{click:function(e){return t.sendReport("sensitive")}}},[t._v("Sensitive Content")]),t._v(" "),s("div",{staticClass:"list-group-item rounded cursor-pointer font-weight-bold",on:{click:function(e){return t.sendReport("abusive")}}},[t._v("Abusive or Harmful")]),t._v(" "),s("div",{staticClass:"list-group-item rounded cursor-pointer font-weight-bold",on:{click:function(e){return t.openCtxReportOtherMenu()}}},[t._v("Other")]),t._v(" "),s("div",{staticClass:"list-group-item rounded cursor-pointer text-lighter",on:{click:function(e){return t.ctxReportMenuGoBack()}}},[t._v("Cancel")])])]),t._v(" "),s("b-modal",{ref:"ctxReportOther",attrs:{id:"ctx-report-other","hide-header":"","hide-footer":"",centered:"",rounded:"",size:"sm","body-class":"list-group-flush p-0 rounded"}},[s("p",{staticClass:"py-2 px-3 mb-0"}),s("div",{staticClass:"text-center font-weight-bold text-danger"},[t._v("Report")]),t._v(" "),s("div",{staticClass:"small text-center text-muted"},[t._v("Select one of the following options")]),t._v(" "),s("p"),t._v(" "),s("div",{staticClass:"list-group text-center"},[s("div",{staticClass:"list-group-item rounded cursor-pointer font-weight-bold",on:{click:function(e){return t.sendReport("underage")}}},[t._v("Underage Account")]),t._v(" "),s("div",{staticClass:"list-group-item rounded cursor-pointer font-weight-bold",on:{click:function(e){return t.sendReport("copyright")}}},[t._v("Copyright Infringement")]),t._v(" "),s("div",{staticClass:"list-group-item rounded cursor-pointer font-weight-bold",on:{click:function(e){return t.sendReport("impersonation")}}},[t._v("Impersonation")]),t._v(" "),s("div",{staticClass:"list-group-item rounded cursor-pointer font-weight-bold",on:{click:function(e){return t.sendReport("scam")}}},[t._v("Scam or Fraud")]),t._v(" "),s("div",{staticClass:"list-group-item rounded cursor-pointer text-lighter",on:{click:function(e){return t.ctxReportOtherMenuGoBack()}}},[t._v("Cancel")])])]),t._v(" "),s("b-modal",{ref:"ctxConfirm",attrs:{id:"ctx-confirm","hide-header":"","hide-footer":"",centered:"",rounded:"",size:"sm","body-class":"list-group-flush p-0 rounded"}},[s("div",{staticClass:"d-flex align-items-center justify-content-center py-3"},[s("div",[t._v(t._s(this.confirmModalTitle))])]),t._v(" "),s("div",{staticClass:"d-flex border-top btn-group btn-group-block rounded-0",attrs:{role:"group"}},[s("button",{staticClass:"btn btn-outline-lighter border-left-0 border-top-0 border-bottom-0 border-right py-2",staticStyle:{color:"rgb(0,122,255) !important"},attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.confirmModalCancel()}}},[t._v("Cancel")]),t._v(" "),s("button",{staticClass:"btn btn-outline-lighter border-0",staticStyle:{color:"rgb(0,122,255) !important"},attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.confirmModalConfirm()}}},[t._v("Confirm")])])])],1)}),[],!1,null,null,null);e.a=o.exports},"2Jpm":function(t,e,s){"use strict";s.r(e);var i={props:["status"],methods:{altText:function(t){var e=t.media_attachments[0].description;return e||"Video was not tagged with any alt text."},playOrPause:function(t){var e=t.target;1==e.getAttribute("playing")?(e.removeAttribute("playing"),e.pause()):(e.setAttribute("playing",1),e.play())},toggleContentWarning:function(t){this.$emit("togglecw")}}},n=(s("Lp1U"),s("KHd+")),o=Object(n.a)(i,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return 1==t.status.sensitive?s("div",{staticClass:"content-label-wrapper"},[s("div",{staticClass:"text-light content-label"},[t._m(0),t._v(" "),s("p",{staticClass:"h4 font-weight-bold text-center"},[t._v("\n\t\t\tSensitive Content\n\t\t")]),t._v(" "),s("p",{staticClass:"text-center py-2"},[t._v("\n\t\t\t"+t._s(t.status.spoiler_text?t.status.spoiler_text:"This post may contain sensitive content.")+"\n\t\t")]),t._v(" "),s("p",{staticClass:"mb-0"},[s("button",{staticClass:"btn btn-outline-light btn-block btn-sm font-weight-bold",on:{click:function(e){return t.toggleContentWarning()}}},[t._v("See Post")])])]),t._v(" "),s("blur-hash-image",{attrs:{width:"32",height:"32",punch:1,hash:t.status.media_attachments[0].blurhash,alt:t.altText(t.status)}})],1):s("div",{staticClass:"embed-responsive embed-responsive-16by9"},[s("video",{staticClass:"video",attrs:{controls:"",playsinline:"",preload:"metadata",loop:"",poster:t.status.media_attachments[0].preview_url,"data-id":t.status.id}},[s("source",{attrs:{src:t.status.media_attachments[0].url,type:t.status.media_attachments[0].mime}})])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"text-center"},[e("i",{staticClass:"far fa-eye-slash fa-2x"})])}],!1,null,"5e63aaf2",null);e.default=o.exports},"3hST":function(t,e,s){(t.exports=s("I1BE")(!1)).push([t.i,'.post-comments-component .drop-menu .dropdown-item[data-v-75de54b7] {\n  font-weight: 700;\n}\n.post-comments-component .drop-menu li.text-danger .dropdown-item[data-v-75de54b7] {\n  color: #dc3545 !important;\n}\n.post-comments-component .no-focus[data-v-75de54b7] {\n  outline: 0;\n  box-shadow: none;\n}\n.post-comments-component .media[data-v-75de54b7] {\n  position: relative;\n}\n.post-comments-component .media .comment-border-link[data-v-75de54b7] {\n  display: block;\n  position: absolute;\n  top: 40px;\n  left: 11px;\n  width: 10px;\n  height: calc(100% - 100px);\n  border-left: 4px solid transparent;\n  border-right: 4px solid transparent;\n  background-color: #E5E7EB;\n  background-clip: padding-box;\n}\n.post-comments-component .media .comment-border-link[data-v-75de54b7]:hover {\n  background-color: #BFDBFE;\n}\n.post-comments-component .media .child-reply-form[data-v-75de54b7] {\n  position: relative;\n}\n.post-comments-component .media .comment-border-arrow[data-v-75de54b7] {\n  display: block;\n  position: absolute;\n  top: -6px;\n  left: -33px;\n  width: 10px;\n  height: 29px;\n  border-left: 4px solid transparent;\n  border-right: 4px solid transparent;\n  background-color: #E5E7EB;\n  background-clip: padding-box;\n  border-bottom: 2px solid transparent;\n}\n.post-comments-component .media .comment-border-arrow[data-v-75de54b7]:after {\n  content: "";\n  display: block;\n  position: absolute;\n  top: 25px;\n  left: 2px;\n  width: 15px;\n  height: 2px;\n  background-color: #E5E7EB;\n}\n.post-comments-component .media-status[data-v-75de54b7] {\n  margin-bottom: 1.3rem;\n}\n.post-comments-component .media-avatar[data-v-75de54b7] {\n  margin-right: 12px;\n}\n.post-comments-component .media-body-comment[data-v-75de54b7] {\n  width: -webkit-fit-content;\n  width: -moz-fit-content;\n  width: fit-content;\n  padding: 0.4rem 0.7rem;\n  background-color: #fff;\n  border-radius: 0.9rem;\n}\n.post-comments-component .media-body-comment-username[data-v-75de54b7] {\n  margin-bottom: 0.25rem !important;\n  font-size: 14px;\n  font-weight: 700 !important;\n  color: #000;\n}\n.post-comments-component .media-body-comment-username a[data-v-75de54b7] {\n  color: #000;\n  text-decoration: none;\n}\n.post-comments-component .media-body-comment-content[data-v-75de54b7] {\n  margin-bottom: 0;\n  font-size: 16px;\n}\n.post-comments-component .media-body-reactions[data-v-75de54b7] {\n  margin-top: 0.25rem !important;\n  margin-bottom: 0 !important;\n  color: #B8C2CC !important;\n  font-size: 12px;\n}',""])},"4KG8":function(t,e,s){t.exports=function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var s=0;s<e.length;s++){var i=e[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function s(t,s,i){return s&&e(t.prototype,s),i&&e(t,i),t}if(Array.prototype.find||(Array.prototype.find=function(t){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var e,s=Object(this),i=s.length>>>0,n=arguments[1],o=0;o<i;o++)if(e=s[o],t.call(n,e,o,s))return e}),window&&"function"!=typeof window.CustomEvent){var i=function(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var s=document.createEvent("CustomEvent");return s.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),s};void 0!==window.Event&&(i.prototype=window.Event.prototype),window.CustomEvent=i}var n=function(){function e(s){t(this,e),this.tribute=s,this.tribute.events=this}return s(e,[{key:"bind",value:function(t){t.boundKeydown=this.keydown.bind(t,this),t.boundKeyup=this.keyup.bind(t,this),t.boundInput=this.input.bind(t,this),t.addEventListener("keydown",t.boundKeydown,!1),t.addEventListener("keyup",t.boundKeyup,!1),t.addEventListener("input",t.boundInput,!1)}},{key:"unbind",value:function(t){t.removeEventListener("keydown",t.boundKeydown,!1),t.removeEventListener("keyup",t.boundKeyup,!1),t.removeEventListener("input",t.boundInput,!1),delete t.boundKeydown,delete t.boundKeyup,delete t.boundInput}},{key:"keydown",value:function(t,s){t.shouldDeactivate(s)&&(t.tribute.isActive=!1,t.tribute.hideMenu());var i=this;t.commandEvent=!1,e.keys().forEach((function(e){e.key===s.keyCode&&(t.commandEvent=!0,t.callbacks()[e.value.toLowerCase()](s,i))}))}},{key:"input",value:function(t,e){t.inputEvent=!0,t.keyup.call(this,t,e)}},{key:"click",value:function(t,e){var s=t.tribute;if(s.menu&&s.menu.contains(e.target)){var i=e.target;for(e.preventDefault(),e.stopPropagation();"li"!==i.nodeName.toLowerCase();)if(!(i=i.parentNode)||i===s.menu)throw new Error("cannot find the <li> container for the click");s.selectItemAtIndex(i.getAttribute("data-index"),e),s.hideMenu()}else s.current.element&&!s.current.externalTrigger&&(s.current.externalTrigger=!1,setTimeout((function(){return s.hideMenu()})))}},{key:"keyup",value:function(t,e){if(t.inputEvent&&(t.inputEvent=!1),t.updateSelection(this),27!==e.keyCode){if(!t.tribute.allowSpaces&&t.tribute.hasTrailingSpace)return t.tribute.hasTrailingSpace=!1,t.commandEvent=!0,void t.callbacks().space(e,this);if(!t.tribute.isActive)if(t.tribute.autocompleteMode)t.callbacks().triggerChar(e,this,"");else{var s=t.getKeyCode(t,this,e);if(isNaN(s)||!s)return;var i=t.tribute.triggers().find((function(t){return t.charCodeAt(0)===s}));void 0!==i&&t.callbacks().triggerChar(e,this,i)}t.tribute.current.mentionText.length<t.tribute.current.collection.menuShowMinLength||((t.tribute.current.trigger||t.tribute.autocompleteMode)&&!1===t.commandEvent||t.tribute.isActive&&8===e.keyCode)&&t.tribute.showMenuFor(this,!0)}}},{key:"shouldDeactivate",value:function(t){if(!this.tribute.isActive)return!1;if(0===this.tribute.current.mentionText.length){var s=!1;return e.keys().forEach((function(e){t.keyCode===e.key&&(s=!0)})),!s}return!1}},{key:"getKeyCode",value:function(t,e,s){var i=t.tribute,n=i.range.getTriggerInfo(!1,i.hasTrailingSpace,!0,i.allowSpaces,i.autocompleteMode);return!!n&&n.mentionTriggerChar.charCodeAt(0)}},{key:"updateSelection",value:function(t){this.tribute.current.element=t;var e=this.tribute.range.getTriggerInfo(!1,this.tribute.hasTrailingSpace,!0,this.tribute.allowSpaces,this.tribute.autocompleteMode);e&&(this.tribute.current.selectedPath=e.mentionSelectedPath,this.tribute.current.mentionText=e.mentionText,this.tribute.current.selectedOffset=e.mentionSelectedOffset)}},{key:"callbacks",value:function(){var t=this;return{triggerChar:function(e,s,i){var n=t.tribute;n.current.trigger=i;var o=n.collection.find((function(t){return t.trigger===i}));n.current.collection=o,n.current.mentionText.length>=n.current.collection.menuShowMinLength&&n.inputEvent&&n.showMenuFor(s,!0)},enter:function(e,s){t.tribute.isActive&&t.tribute.current.filteredItems&&(e.preventDefault(),e.stopPropagation(),setTimeout((function(){t.tribute.selectItemAtIndex(t.tribute.menuSelected,e),t.tribute.hideMenu()}),0))},escape:function(e,s){t.tribute.isActive&&(e.preventDefault(),e.stopPropagation(),t.tribute.isActive=!1,t.tribute.hideMenu())},tab:function(e,s){t.callbacks().enter(e,s)},space:function(e,s){t.tribute.isActive&&(t.tribute.spaceSelectsMatch?t.callbacks().enter(e,s):t.tribute.allowSpaces||(e.stopPropagation(),setTimeout((function(){t.tribute.hideMenu(),t.tribute.isActive=!1}),0)))},up:function(e,s){if(t.tribute.isActive&&t.tribute.current.filteredItems){e.preventDefault(),e.stopPropagation();var i=t.tribute.current.filteredItems.length,n=t.tribute.menuSelected;i>n&&n>0?(t.tribute.menuSelected--,t.setActiveLi()):0===n&&(t.tribute.menuSelected=i-1,t.setActiveLi(),t.tribute.menu.scrollTop=t.tribute.menu.scrollHeight)}},down:function(e,s){if(t.tribute.isActive&&t.tribute.current.filteredItems){e.preventDefault(),e.stopPropagation();var i=t.tribute.current.filteredItems.length-1,n=t.tribute.menuSelected;i>n?(t.tribute.menuSelected++,t.setActiveLi()):i===n&&(t.tribute.menuSelected=0,t.setActiveLi(),t.tribute.menu.scrollTop=0)}},delete:function(e,s){t.tribute.isActive&&t.tribute.current.mentionText.length<1?t.tribute.hideMenu():t.tribute.isActive&&t.tribute.showMenuFor(s)}}}},{key:"setActiveLi",value:function(t){var e=this.tribute.menu.querySelectorAll("li"),s=e.length>>>0;t&&(this.tribute.menuSelected=parseInt(t));for(var i=0;i<s;i++){var n=e[i];if(i===this.tribute.menuSelected){n.classList.add(this.tribute.current.collection.selectClass);var o=n.getBoundingClientRect(),a=this.tribute.menu.getBoundingClientRect();if(o.bottom>a.bottom){var r=o.bottom-a.bottom;this.tribute.menu.scrollTop+=r}else if(o.top<a.top){var l=a.top-o.top;this.tribute.menu.scrollTop-=l}}else n.classList.remove(this.tribute.current.collection.selectClass)}}},{key:"getFullHeight",value:function(t,e){var s=t.getBoundingClientRect().height;if(e){var i=t.currentStyle||window.getComputedStyle(t);return s+parseFloat(i.marginTop)+parseFloat(i.marginBottom)}return s}}],[{key:"keys",value:function(){return[{key:9,value:"TAB"},{key:8,value:"DELETE"},{key:13,value:"ENTER"},{key:27,value:"ESCAPE"},{key:32,value:"SPACE"},{key:38,value:"UP"},{key:40,value:"DOWN"}]}}]),e}(),o=function(){function e(s){t(this,e),this.tribute=s,this.tribute.menuEvents=this,this.menu=this.tribute.menu}return s(e,[{key:"bind",value:function(t){var e=this;this.menuClickEvent=this.tribute.events.click.bind(null,this),this.menuContainerScrollEvent=this.debounce((function(){e.tribute.isActive&&e.tribute.showMenuFor(e.tribute.current.element,!1)}),300,!1),this.windowResizeEvent=this.debounce((function(){e.tribute.isActive&&e.tribute.range.positionMenuAtCaret(!0)}),300,!1),this.tribute.range.getDocument().addEventListener("MSPointerDown",this.menuClickEvent,!1),this.tribute.range.getDocument().addEventListener("mousedown",this.menuClickEvent,!1),window.addEventListener("resize",this.windowResizeEvent),this.menuContainer?this.menuContainer.addEventListener("scroll",this.menuContainerScrollEvent,!1):window.addEventListener("scroll",this.menuContainerScrollEvent)}},{key:"unbind",value:function(t){this.tribute.range.getDocument().removeEventListener("mousedown",this.menuClickEvent,!1),this.tribute.range.getDocument().removeEventListener("MSPointerDown",this.menuClickEvent,!1),window.removeEventListener("resize",this.windowResizeEvent),this.menuContainer?this.menuContainer.removeEventListener("scroll",this.menuContainerScrollEvent,!1):window.removeEventListener("scroll",this.menuContainerScrollEvent)}},{key:"debounce",value:function(t,e,s){var i,n=arguments,o=this;return function(){var a=o,r=n,l=s&&!i;clearTimeout(i),i=setTimeout((function(){i=null,s||t.apply(a,r)}),e),l&&t.apply(a,r)}}}]),e}(),a=function(){function e(s){t(this,e),this.tribute=s,this.tribute.range=this}return s(e,[{key:"getDocument",value:function(){var t;return this.tribute.current.collection&&(t=this.tribute.current.collection.iframe),t?t.contentWindow.document:document}},{key:"positionMenuAtCaret",value:function(t){var e,s=this,i=this.tribute.current,n=this.getTriggerInfo(!1,this.tribute.hasTrailingSpace,!0,this.tribute.allowSpaces,this.tribute.autocompleteMode);if(void 0!==n){if(!this.tribute.positionMenu)return void(this.tribute.menu.style.cssText="display: block;");e=this.isContentEditable(i.element)?this.getContentEditableCaretPosition(n.mentionPosition):this.getTextAreaOrInputUnderlinePosition(this.tribute.current.element,n.mentionPosition),this.tribute.menu.style.cssText="top: ".concat(e.top,"px;\n                                     left: ").concat(e.left,"px;\n                                     right: ").concat(e.right,"px;\n                                     bottom: ").concat(e.bottom,"px;\n                                     position: absolute;\n                                     display: block;"),"auto"===e.left&&(this.tribute.menu.style.left="auto"),"auto"===e.top&&(this.tribute.menu.style.top="auto"),t&&this.scrollIntoView(),window.setTimeout((function(){var i={width:s.tribute.menu.offsetWidth,height:s.tribute.menu.offsetHeight},n=s.isMenuOffScreen(e,i),o=window.innerWidth>i.width&&(n.left||n.right),a=window.innerHeight>i.height&&(n.top||n.bottom);(o||a)&&(s.tribute.menu.style.cssText="display: none",s.positionMenuAtCaret(t))}),0)}else this.tribute.menu.style.cssText="display: none"}},{key:"selectElement",value:function(t,e,s){var i,n=t;if(e)for(var o=0;o<e.length;o++){if(void 0===(n=n.childNodes[e[o]]))return;for(;n.length<s;)s-=n.length,n=n.nextSibling;0!==n.childNodes.length||n.length||(n=n.previousSibling)}var a=this.getWindowSelection();(i=this.getDocument().createRange()).setStart(n,s),i.setEnd(n,s),i.collapse(!0);try{a.removeAllRanges()}catch(t){}a.addRange(i),t.focus()}},{key:"replaceTriggerText",value:function(t,e,s,i,n){var o=this.getTriggerInfo(!0,s,e,this.tribute.allowSpaces,this.tribute.autocompleteMode);if(void 0!==o){var a=this.tribute.current,r=new CustomEvent("tribute-replaced",{detail:{item:n,instance:a,context:o,event:i}});if(this.isContentEditable(a.element)){t+="string"==typeof this.tribute.replaceTextSuffix?this.tribute.replaceTextSuffix:" ";var l=o.mentionPosition+o.mentionText.length;this.tribute.autocompleteMode||(l+=o.mentionTriggerChar.length),this.pasteHtml(t,o.mentionPosition,l)}else{var c=this.tribute.current.element,u="string"==typeof this.tribute.replaceTextSuffix?this.tribute.replaceTextSuffix:" ";t+=u;var d=o.mentionPosition,p=o.mentionPosition+o.mentionText.length+u.length;this.tribute.autocompleteMode||(p+=o.mentionTriggerChar.length-1),c.value=c.value.substring(0,d)+t+c.value.substring(p,c.value.length),c.selectionStart=d+t.length,c.selectionEnd=d+t.length}a.element.dispatchEvent(new CustomEvent("input",{bubbles:!0})),a.element.dispatchEvent(r)}}},{key:"pasteHtml",value:function(t,e,s){var i,n;n=this.getWindowSelection(),(i=this.getDocument().createRange()).setStart(n.anchorNode,e),i.setEnd(n.anchorNode,s),i.deleteContents();var o=this.getDocument().createElement("div");o.innerHTML=t;for(var a,r,l=this.getDocument().createDocumentFragment();a=o.firstChild;)r=l.appendChild(a);i.insertNode(l),r&&((i=i.cloneRange()).setStartAfter(r),i.collapse(!0),n.removeAllRanges(),n.addRange(i))}},{key:"getWindowSelection",value:function(){return this.tribute.collection.iframe?this.tribute.collection.iframe.contentWindow.getSelection():window.getSelection()}},{key:"getNodePositionInParent",value:function(t){if(null===t.parentNode)return 0;for(var e=0;e<t.parentNode.childNodes.length;e++)if(t.parentNode.childNodes[e]===t)return e}},{key:"getContentEditableSelectedPath",value:function(t){var e=this.getWindowSelection(),s=e.anchorNode,i=[];if(null!=s){for(var n,o=s.contentEditable;null!==s&&"true"!==o;)n=this.getNodePositionInParent(s),i.push(n),null!==(s=s.parentNode)&&(o=s.contentEditable);return i.reverse(),{selected:s,path:i,offset:e.getRangeAt(0).startOffset}}}},{key:"getTextPrecedingCurrentSelection",value:function(){var t=this.tribute.current,e="";if(this.isContentEditable(t.element)){var s=this.getWindowSelection().anchorNode;if(null!=s){var i=s.textContent,n=this.getWindowSelection().getRangeAt(0).startOffset;i&&n>=0&&(e=i.substring(0,n))}}else{var o=this.tribute.current.element;if(o){var a=o.selectionStart;o.value&&a>=0&&(e=o.value.substring(0,a))}}return e}},{key:"getLastWordInText",value:function(t){var e=(t=t.replace(/\u00A0/g," ")).split(/\s+/);return e[e.length-1].trim()}},{key:"getTriggerInfo",value:function(t,e,s,i,n){var o,a,r,l=this,c=this.tribute.current;if(this.isContentEditable(c.element)){var u=this.getContentEditableSelectedPath(c);u&&(o=u.selected,a=u.path,r=u.offset)}else o=this.tribute.current.element;var d=this.getTextPrecedingCurrentSelection(),p=this.getLastWordInText(d);if(n)return{mentionPosition:d.length-p.length,mentionText:p,mentionSelectedElement:o,mentionSelectedPath:a,mentionSelectedOffset:r};if(null!=d){var m,h=-1;if(this.tribute.collection.forEach((function(t){var e=t.trigger,i=t.requireLeadingSpace?l.lastIndexWithLeadingSpace(d,e):d.lastIndexOf(e);i>h&&(h=i,m=e,s=t.requireLeadingSpace)})),h>=0&&(0===h||!s||/[\xA0\s]/g.test(d.substring(h-1,h)))){var f=d.substring(h+m.length,d.length);m=d.substring(h,h+m.length);var v=f.substring(0,1),g=f.length>0&&(" "===v||" "===v);e&&(f=f.trim());var b=i?/[^\S ]/g:/[\xA0\s]/g;if(this.tribute.hasTrailingSpace=b.test(f),!g&&(t||!b.test(f)))return{mentionPosition:h,mentionText:f,mentionSelectedElement:o,mentionSelectedPath:a,mentionSelectedOffset:r,mentionTriggerChar:m}}}}},{key:"lastIndexWithLeadingSpace",value:function(t,e){for(var s=t.split("").reverse().join(""),i=-1,n=0,o=t.length;n<o;n++){for(var a=n===t.length-1,r=/\s/.test(s[n+1]),l=!0,c=e.length-1;c>=0;c--)if(e[c]!==s[n-c]){l=!1;break}if(l&&(a||r)){i=t.length-1-n;break}}return i}},{key:"isContentEditable",value:function(t){return"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName}},{key:"isMenuOffScreen",value:function(t,e){var s=window.innerWidth,i=window.innerHeight,n=document.documentElement,o=(window.pageXOffset||n.scrollLeft)-(n.clientLeft||0),a=(window.pageYOffset||n.scrollTop)-(n.clientTop||0),r="number"==typeof t.top?t.top:a+i-t.bottom-e.height,l="number"==typeof t.right?t.right:t.left+e.width,c="number"==typeof t.bottom?t.bottom:t.top+e.height,u="number"==typeof t.left?t.left:o+s-t.right-e.width;return{top:r<Math.floor(a),right:l>Math.ceil(o+s),bottom:c>Math.ceil(a+i),left:u<Math.floor(o)}}},{key:"getMenuDimensions",value:function(){var t={width:null,height:null};return this.tribute.menu.style.cssText="top: 0px;\n                                 left: 0px;\n                                 position: fixed;\n                                 display: block;\n                                 visibility; hidden;",t.width=this.tribute.menu.offsetWidth,t.height=this.tribute.menu.offsetHeight,this.tribute.menu.style.cssText="display: none;",t}},{key:"getTextAreaOrInputUnderlinePosition",value:function(t,e,s){var i=null!==window.mozInnerScreenX,n=this.getDocument().createElement("div");n.id="input-textarea-caret-position-mirror-div",this.getDocument().body.appendChild(n);var o=n.style,a=window.getComputedStyle?getComputedStyle(t):t.currentStyle;o.whiteSpace="pre-wrap","INPUT"!==t.nodeName&&(o.wordWrap="break-word"),o.position="absolute",o.visibility="hidden",["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing"].forEach((function(t){o[t]=a[t]})),i?(o.width="".concat(parseInt(a.width)-2,"px"),t.scrollHeight>parseInt(a.height)&&(o.overflowY="scroll")):o.overflow="hidden",n.textContent=t.value.substring(0,e),"INPUT"===t.nodeName&&(n.textContent=n.textContent.replace(/\s/g," "));var r=this.getDocument().createElement("span");r.textContent=t.value.substring(e)||".",n.appendChild(r);var l=t.getBoundingClientRect(),c=document.documentElement,u=(window.pageXOffset||c.scrollLeft)-(c.clientLeft||0),d=(window.pageYOffset||c.scrollTop)-(c.clientTop||0),p=0,m=0;this.menuContainerIsBody&&(p=l.top,m=l.left);var h={top:p+d+r.offsetTop+parseInt(a.borderTopWidth)+parseInt(a.fontSize)-t.scrollTop,left:m+u+r.offsetLeft+parseInt(a.borderLeftWidth)},f=window.innerWidth,v=window.innerHeight,g=this.getMenuDimensions(),b=this.isMenuOffScreen(h,g);b.right&&(h.right=f-h.left,h.left="auto");var x=this.tribute.menuContainer?this.tribute.menuContainer.offsetHeight:this.getDocument().body.offsetHeight;if(b.bottom){var _=x-(v-(this.tribute.menuContainer?this.tribute.menuContainer.getBoundingClientRect():this.getDocument().body.getBoundingClientRect()).top);h.bottom=_+(v-l.top-r.offsetTop),h.top="auto"}return(b=this.isMenuOffScreen(h,g)).left&&(h.left=f>g.width?u+f-g.width:u,delete h.right),b.top&&(h.top=v>g.height?d+v-g.height:d,delete h.bottom),this.getDocument().body.removeChild(n),h}},{key:"getContentEditableCaretPosition",value:function(t){var e,s=this.getWindowSelection();(e=this.getDocument().createRange()).setStart(s.anchorNode,t),e.setEnd(s.anchorNode,t),e.collapse(!1);var i=e.getBoundingClientRect(),n=document.documentElement,o=(window.pageXOffset||n.scrollLeft)-(n.clientLeft||0),a=(window.pageYOffset||n.scrollTop)-(n.clientTop||0),r={left:i.left+o,top:i.top+i.height+a},l=window.innerWidth,c=window.innerHeight,u=this.getMenuDimensions(),d=this.isMenuOffScreen(r,u);d.right&&(r.left="auto",r.right=l-i.left-o);var p=this.tribute.menuContainer?this.tribute.menuContainer.offsetHeight:this.getDocument().body.offsetHeight;if(d.bottom){var m=p-(c-(this.tribute.menuContainer?this.tribute.menuContainer.getBoundingClientRect():this.getDocument().body.getBoundingClientRect()).top);r.top="auto",r.bottom=m+(c-i.top)}return(d=this.isMenuOffScreen(r,u)).left&&(r.left=l>u.width?o+l-u.width:o,delete r.right),d.top&&(r.top=c>u.height?a+c-u.height:a,delete r.bottom),this.menuContainerIsBody||(r.left=r.left?r.left-this.tribute.menuContainer.offsetLeft:r.left,r.top=r.top?r.top-this.tribute.menuContainer.offsetTop:r.top),r}},{key:"scrollIntoView",value:function(t){var e,s=this.menu;if(void 0!==s){for(;void 0===e||0===e.height;)if(0===(e=s.getBoundingClientRect()).height&&(void 0===(s=s.childNodes[0])||!s.getBoundingClientRect))return;var i=e.top,n=i+e.height;if(i<0)window.scrollTo(0,window.pageYOffset+e.top-20);else if(n>window.innerHeight){var o=window.pageYOffset+e.top-20;o-window.pageYOffset>100&&(o=window.pageYOffset+100);var a=window.pageYOffset-(window.innerHeight-n);a>o&&(a=o),window.scrollTo(0,a)}}}},{key:"menuContainerIsBody",get:function(){return this.tribute.menuContainer===document.body||!this.tribute.menuContainer}}]),e}(),r=function(){function e(s){t(this,e),this.tribute=s,this.tribute.search=this}return s(e,[{key:"simpleFilter",value:function(t,e){var s=this;return e.filter((function(e){return s.test(t,e)}))}},{key:"test",value:function(t,e){return null!==this.match(t,e)}},{key:"match",value:function(t,e,s){s=s||{},e.length;var i=s.pre||"",n=s.post||"",o=s.caseSensitive&&e||e.toLowerCase();if(s.skip)return{rendered:e,score:0};t=s.caseSensitive&&t||t.toLowerCase();var a=this.traverse(o,t,0,0,[]);return a?{rendered:this.render(e,a.cache,i,n),score:a.score}:null}},{key:"traverse",value:function(t,e,s,i,n){if(e.length===i)return{score:this.calculateScore(n),cache:n.slice()};if(!(t.length===s||e.length-i>t.length-s)){for(var o,a,r=e[i],l=t.indexOf(r,s);l>-1;){if(n.push(l),a=this.traverse(t,e,l+1,i+1,n),n.pop(),!a)return o;(!o||o.score<a.score)&&(o=a),l=t.indexOf(r,l+1)}return o}}},{key:"calculateScore",value:function(t){var e=0,s=1;return t.forEach((function(i,n){n>0&&(t[n-1]+1===i?s+=s+1:s=1),e+=s})),e}},{key:"render",value:function(t,e,s,i){var n=t.substring(0,e[0]);return e.forEach((function(o,a){n+=s+t[o]+i+t.substring(o+1,e[a+1]?e[a+1]:t.length)})),n}},{key:"filter",value:function(t,e,s){var i=this;return s=s||{},e.reduce((function(e,n,o,a){var r=n;s.extract&&((r=s.extract(n))||(r=""));var l=i.match(t,r,s);return null!=l&&(e[e.length]={string:l.rendered,score:l.score,index:o,original:n}),e}),[]).sort((function(t,e){return e.score-t.score||t.index-e.index}))}}]),e}();return function(){function e(s){var i,l=this,c=s.values,u=void 0===c?null:c,d=s.iframe,p=void 0===d?null:d,m=s.selectClass,h=void 0===m?"highlight":m,f=s.containerClass,v=void 0===f?"tribute-container":f,g=s.itemClass,b=void 0===g?"":g,x=s.trigger,_=void 0===x?"@":x,w=s.autocompleteMode,C=void 0!==w&&w,y=s.selectTemplate,k=void 0===y?null:y,S=s.menuItemTemplate,M=void 0===S?null:S,E=s.lookup,T=void 0===E?"key":E,P=s.fillAttr,A=void 0===P?"value":P,I=s.collection,L=void 0===I?null:I,R=s.menuContainer,$=void 0===R?null:R,O=s.noMatchTemplate,U=void 0===O?null:O,j=s.requireLeadingSpace,D=void 0===j||j,N=s.allowSpaces,z=void 0!==N&&N,B=s.replaceTextSuffix,H=void 0===B?null:B,F=s.positionMenu,W=void 0===F||F,V=s.spaceSelectsMatch,Y=void 0!==V&&V,q=s.searchOpts,K=void 0===q?{}:q,G=s.menuItemLimit,Z=void 0===G?null:G,X=s.menuShowMinLength,J=void 0===X?0:X;if(t(this,e),this.autocompleteMode=C,this.menuSelected=0,this.current={},this.inputEvent=!1,this.isActive=!1,this.menuContainer=$,this.allowSpaces=z,this.replaceTextSuffix=H,this.positionMenu=W,this.hasTrailingSpace=!1,this.spaceSelectsMatch=Y,this.autocompleteMode&&(_="",z=!1),u)this.collection=[{trigger:_,iframe:p,selectClass:h,containerClass:v,itemClass:b,selectTemplate:(k||e.defaultSelectTemplate).bind(this),menuItemTemplate:(M||e.defaultMenuItemTemplate).bind(this),noMatchTemplate:(i=U,"string"==typeof i?""===i.trim()?null:i:"function"==typeof i?i.bind(l):U||function(){return"<li>No Match Found!</li>"}.bind(l)),lookup:T,fillAttr:A,values:u,requireLeadingSpace:D,searchOpts:K,menuItemLimit:Z,menuShowMinLength:J}];else{if(!L)throw new Error("[Tribute] No collection specified.");this.autocompleteMode&&console.warn("Tribute in autocomplete mode does not work for collections"),this.collection=L.map((function(t){return{trigger:t.trigger||_,iframe:t.iframe||p,selectClass:t.selectClass||h,containerClass:t.containerClass||v,itemClass:t.itemClass||b,selectTemplate:(t.selectTemplate||e.defaultSelectTemplate).bind(l),menuItemTemplate:(t.menuItemTemplate||e.defaultMenuItemTemplate).bind(l),noMatchTemplate:function(t){return"string"==typeof t?""===t.trim()?null:t:"function"==typeof t?t.bind(l):U||function(){return"<li>No Match Found!</li>"}.bind(l)}(U),lookup:t.lookup||T,fillAttr:t.fillAttr||A,values:t.values,requireLeadingSpace:t.requireLeadingSpace,searchOpts:t.searchOpts||K,menuItemLimit:t.menuItemLimit||Z,menuShowMinLength:t.menuShowMinLength||J}}))}new a(this),new n(this),new o(this),new r(this)}return s(e,[{key:"triggers",value:function(){return this.collection.map((function(t){return t.trigger}))}},{key:"attach",value:function(t){if(!t)throw new Error("[Tribute] Must pass in a DOM node or NodeList.");if("undefined"!=typeof jQuery&&t instanceof jQuery&&(t=t.get()),t.constructor===NodeList||t.constructor===HTMLCollection||t.constructor===Array)for(var e=t.length,s=0;s<e;++s)this._attach(t[s]);else this._attach(t)}},{key:"_attach",value:function(t){t.hasAttribute("data-tribute")&&console.warn("Tribute was already bound to "+t.nodeName),this.ensureEditable(t),this.events.bind(t),t.setAttribute("data-tribute",!0)}},{key:"ensureEditable",value:function(t){if(-1===e.inputTypes().indexOf(t.nodeName)){if(!t.contentEditable)throw new Error("[Tribute] Cannot bind to "+t.nodeName);t.contentEditable=!0}}},{key:"createMenu",value:function(t){var e=this.range.getDocument().createElement("div"),s=this.range.getDocument().createElement("ul");return e.className=t,e.appendChild(s),this.menuContainer?this.menuContainer.appendChild(e):this.range.getDocument().body.appendChild(e)}},{key:"showMenuFor",value:function(t,e){var s=this;if(!this.isActive||this.current.element!==t||this.current.mentionText!==this.currentMentionTextSnapshot){this.currentMentionTextSnapshot=this.current.mentionText,this.menu||(this.menu=this.createMenu(this.current.collection.containerClass),t.tributeMenu=this.menu,this.menuEvents.bind(this.menu)),this.isActive=!0,this.menuSelected=0,this.current.mentionText||(this.current.mentionText="");var i=function(t){if(s.isActive){var i=s.search.filter(s.current.mentionText,t,{pre:s.current.collection.searchOpts.pre||"<span>",post:s.current.collection.searchOpts.post||"</span>",skip:s.current.collection.searchOpts.skip,extract:function(t){if("string"==typeof s.current.collection.lookup)return t[s.current.collection.lookup];if("function"==typeof s.current.collection.lookup)return s.current.collection.lookup(t,s.current.mentionText);throw new Error("Invalid lookup attribute, lookup must be string or function.")}});s.current.collection.menuItemLimit&&(i=i.slice(0,s.current.collection.menuItemLimit)),s.current.filteredItems=i;var n=s.menu.querySelector("ul");if(s.range.positionMenuAtCaret(e),!i.length){var o=new CustomEvent("tribute-no-match",{detail:s.menu});return s.current.element.dispatchEvent(o),void("function"==typeof s.current.collection.noMatchTemplate&&!s.current.collection.noMatchTemplate()||!s.current.collection.noMatchTemplate?s.hideMenu():"function"==typeof s.current.collection.noMatchTemplate?n.innerHTML=s.current.collection.noMatchTemplate():n.innerHTML=s.current.collection.noMatchTemplate)}n.innerHTML="";var a=s.range.getDocument().createDocumentFragment();i.forEach((function(t,e){var i=s.range.getDocument().createElement("li");i.setAttribute("data-index",e),i.className=s.current.collection.itemClass,i.addEventListener("mousemove",(function(t){var e=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var s=[],i=!0,n=!1,o=void 0;try{for(var a,r=t[Symbol.iterator]();!(i=(a=r.next()).done)&&(s.push(a.value),!e||s.length!==e);i=!0);}catch(t){n=!0,o=t}finally{try{i||null==r.return||r.return()}finally{if(n)throw o}}return s}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(s._findLiTarget(t.target),2),i=(e[0],e[1]);0!==t.movementY&&s.events.setActiveLi(i)})),s.menuSelected===e&&i.classList.add(s.current.collection.selectClass),i.innerHTML=s.current.collection.menuItemTemplate(t),a.appendChild(i)})),n.appendChild(a)}};"function"==typeof this.current.collection.values?this.current.collection.values(this.current.mentionText,i):i(this.current.collection.values)}}},{key:"_findLiTarget",value:function(t){if(!t)return[];var e=t.getAttribute("data-index");return e?[t,e]:this._findLiTarget(t.parentNode)}},{key:"showMenuForCollection",value:function(t,e){t!==document.activeElement&&this.placeCaretAtEnd(t),this.current.collection=this.collection[e||0],this.current.externalTrigger=!0,this.current.element=t,t.isContentEditable?this.insertTextAtCursor(this.current.collection.trigger):this.insertAtCaret(t,this.current.collection.trigger),this.showMenuFor(t)}},{key:"placeCaretAtEnd",value:function(t){if(t.focus(),void 0!==window.getSelection&&void 0!==document.createRange){var e=document.createRange();e.selectNodeContents(t),e.collapse(!1);var s=window.getSelection();s.removeAllRanges(),s.addRange(e)}else if(void 0!==document.body.createTextRange){var i=document.body.createTextRange();i.moveToElementText(t),i.collapse(!1),i.select()}}},{key:"insertTextAtCursor",value:function(t){var e,s;(s=(e=window.getSelection()).getRangeAt(0)).deleteContents();var i=document.createTextNode(t);s.insertNode(i),s.selectNodeContents(i),s.collapse(!1),e.removeAllRanges(),e.addRange(s)}},{key:"insertAtCaret",value:function(t,e){var s=t.scrollTop,i=t.selectionStart,n=t.value.substring(0,i),o=t.value.substring(t.selectionEnd,t.value.length);t.value=n+e+o,i+=e.length,t.selectionStart=i,t.selectionEnd=i,t.focus(),t.scrollTop=s}},{key:"hideMenu",value:function(){this.menu&&(this.menu.style.cssText="display: none;",this.isActive=!1,this.menuSelected=0,this.current={})}},{key:"selectItemAtIndex",value:function(t,e){if("number"==typeof(t=parseInt(t))&&!isNaN(t)){var s=this.current.filteredItems[t],i=this.current.collection.selectTemplate(s);null!==i&&this.replaceText(i,e,s)}}},{key:"replaceText",value:function(t,e,s){this.range.replaceTriggerText(t,!0,!0,e,s)}},{key:"_append",value:function(t,e,s){if("function"==typeof t.values)throw new Error("Unable to append to values, as it is a function.");t.values=s?e:t.values.concat(e)}},{key:"append",value:function(t,e,s){var i=parseInt(t);if("number"!=typeof i)throw new Error("please provide an index for the collection to update.");var n=this.collection[i];this._append(n,e,s)}},{key:"appendCurrent",value:function(t,e){if(!this.isActive)throw new Error("No active state. Please use append instead and pass an index.");this._append(this.current.collection,t,e)}},{key:"detach",value:function(t){if(!t)throw new Error("[Tribute] Must pass in a DOM node or NodeList.");if("undefined"!=typeof jQuery&&t instanceof jQuery&&(t=t.get()),t.constructor===NodeList||t.constructor===HTMLCollection||t.constructor===Array)for(var e=t.length,s=0;s<e;++s)this._detach(t[s]);else this._detach(t)}},{key:"_detach",value:function(t){var e=this;this.events.unbind(t),t.tributeMenu&&this.menuEvents.unbind(t.tributeMenu),setTimeout((function(){t.removeAttribute("data-tribute"),e.isActive=!1,t.tributeMenu&&t.tributeMenu.remove()}))}},{key:"isActive",get:function(){return this._isActive},set:function(t){if(this._isActive!=t&&(this._isActive=t,this.current.element)){var e=new CustomEvent("tribute-active-".concat(t));this.current.element.dispatchEvent(e)}}}],[{key:"defaultSelectTemplate",value:function(t){return void 0===t?"".concat(this.current.collection.trigger).concat(this.current.mentionText):this.range.isContentEditable(this.current.element)?'<span class="tribute-mention">'+(this.current.collection.trigger+t.original[this.current.collection.fillAttr])+"</span>":this.current.collection.trigger+t.original[this.current.collection.fillAttr]}},{key:"defaultMenuItemTemplate",value:function(t){return t.string}},{key:"inputTypes",value:function(){return["TEXTAREA","INPUT"]}}]),e}()}()},5:function(t,e,s){t.exports=s("CJs/")},"5CDs":function(t,e,s){"use strict";s("z6B+")},"6ZA0":function(t,e,s){"use strict";s.r(e);var i=s("JMt0"),n=s("ngXG"),o=s("7QhU"),a=s("/jad");function r(t){return function(t){if(Array.isArray(t))return l(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return l(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);"Object"===s&&t.constructor&&(s=t.constructor.name);if("Map"===s||"Set"===s)return Array.from(t);if("Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return l(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var s=0,i=new Array(e);s<e;s++)i[s]=t[s];return i}function c(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}pixelfed.postComponent={};var u={props:["status-id","status-username","status-template","status-url","status-profile-url","status-avatar","status-profile-id","profile-layout","profile-recent"],components:{VueTribute:i.a,PollCard:n.a,CommentFeed:o.a,StatusCard:a.a},data:function(){var t;return c(t={config:window.App.config,status:!1,media:{},user:!1,reactions:{liked:!1,shared:!1},likes:[],likesPage:1,shares:[],sharesPage:1,lightboxMedia:!1,replyText:"",replyStatus:{},replySensitive:!1,relationship:{},results:[],pagination:{},min_id:0,max_id:0,reply_to_profile_id:0,thread:!1,showComments:!1,warning:!1,loaded:!1,loading:null,replyingToId:this.statusId,replyingToUsername:this.statusUsername,replyToIndex:0,replySending:!1,emoji:window.App.util.emoji,showReadMore:!0,showCaption:!0,ctxEmbedPayload:!1,copiedEmbed:!1,ctxEmbedShowCaption:!0,ctxEmbedShowLikes:!1,ctxEmbedCompactMode:!1,layout:this.profileLayout,showProfileMorePosts:!1,profileMorePosts:[]},"replySending",!1),c(t,"reactionBarLoading",!0),c(t,"tributeSettings",{collection:[{trigger:"@",menuShowMinLength:2,values:function(t,e){axios.get("/api/compose/v0/search/mention",{params:{q:t}}).then((function(t){e(t.data)})).catch((function(t){console.log(t)}))}},{trigger:"#",menuShowMinLength:2,values:function(t,e){axios.get("/api/compose/v0/search/hashtag",{params:{q:t}}).then((function(t){e(t.data)})).catch((function(t){console.log(t)}))}}]}),t},watch:{ctxEmbedShowCaption:function(t,e){1==t&&(this.ctxEmbedCompactMode=!1);var s=this.ctxEmbedCompactMode?"compact":"full";this.ctxEmbedPayload=window.App.util.embed.post(this.status.url,this.ctxEmbedShowCaption,this.ctxEmbedShowLikes,s)},ctxEmbedShowLikes:function(t,e){1==t&&(this.ctxEmbedCompactMode=!1);var s=this.ctxEmbedCompactMode?"compact":"full";this.ctxEmbedPayload=window.App.util.embed.post(this.status.url,this.ctxEmbedShowCaption,this.ctxEmbedShowLikes,s)},ctxEmbedCompactMode:function(t,e){1==t&&(this.ctxEmbedShowCaption=!1,this.ctxEmbedShowLikes=!1);var s=this.ctxEmbedCompactMode?"compact":"full";this.ctxEmbedPayload=window.App.util.embed.post(this.status.url,this.ctxEmbedShowCaption,this.ctxEmbedShowLikes,s)}},beforeMount:function(){this.layout="metro"},mounted:function(){this.fetchRelationships(),"false"==localStorage.getItem("pf_metro_ui.exp.rm")?this.showReadMore=!1:this.showReadMore=!0},updated:function(){$(".carousel").carousel(),$('[data-toggle="tooltip"]').tooltip(),1==this.showReadMore&&window.pixelfed.readmore()},methods:{reportUrl:function(){return"/i/report?type=post&id="+this.status.id},editUrl:function(){return this.status.url+"/edit"},timestampFormat:function(){var t=new Date(this.status.created_at);return t.toDateString()+" · "+t.toLocaleTimeString()},fetchData:function(){var t=this,e=this;axios.get("/api/v2/profile/"+this.statusUsername+"/status/"+this.statusId).then((function(s){"poll"==s.data.status.pf_type&&(e.layout="poll"),"text"==s.data.status.pf_type&&(e.layout="text"),e.status=s.data.status,e.media=e.status.media_attachments,e.likesPage=2,e.sharesPage=2,e.showCaption=!s.data.status.sensitive,0==e.status.comments_disabled&&(e.showComments=!0,t.fetchComments()),t.loaded=!0,!1!==t.profileRecent&&setTimeout((function(){e.fetchProfilePosts()}),3e3),setTimeout((function(){e.fetchState(),document.querySelectorAll(".status-comment .postCommentsContainer .comment-body a").forEach((function(t,e){t.href=App.util.format.rewriteLinks(t)}))}),500)})).catch((function(t){swal("Oops!","An error occured, please try refreshing the page.","error")}))},fetchState:function(){var t=this;axios.get("/api/v2/profile/"+this.statusUsername+"/status/"+this.statusId+"/state").then((function(e){t.user=e.data.user,window._sharedData.curUser=t.user,window.App.util.navatar(),t.likes=e.data.likes,t.shares=e.data.shares,t.reactions=e.data.reactions,t.reactionBarLoading=!1}))},likesModal:function(){var t=this;0!=$("body").hasClass("loggedIn")?this.likes.length?this.$refs.likesModal.show():axios.get("/api/v2/likes/profile/"+this.statusUsername+"/status/"+this.statusId).then((function(e){t.likes=e.data.data,t.$refs.likesModal.show()})):window.location.href="/login?next="+encodeURIComponent("/p/"+this.status.shortcode)},sharesModal:function(){var t=this;0!=this.status.reblogs_count&&0!=$("body").hasClass("loggedIn")?this.shares.length?this.$refs.sharesModal.show():axios.get("/api/v2/shares/profile/"+this.statusUsername+"/status/"+this.statusId).then((function(e){t.shares=e.data.data,t.$refs.sharesModal.show()})):window.location.href="/login?next="+encodeURIComponent("/p/"+this.status.shortcode)},infiniteLikesHandler:function(t){var e=this,s="/api/v2/likes/profile/"+this.statusUsername+"/status/"+this.statusId;axios.get(s,{params:{page:this.likesPage}}).then((function(s){var i,n=s.data;n.data.length>0?((i=e.likes).push.apply(i,r(n.data)),e.likesPage++,t.loaded()):t.complete()}))},infiniteSharesHandler:function(t){var e=this;axios.get("/api/v2/shares/profile/"+this.statusUsername+"/status/"+this.statusId,{params:{page:this.sharesPage}}).then((function(s){var i,n=s.data;n.data.length>0?((i=e.shares).push.apply(i,r(n.data)),e.sharesPage++,t.loaded()):t.complete()}))},likeStatus:function(t){var e=this;0!=$("body").hasClass("loggedIn")?(axios.post("/i/like",{item:this.status.id}).then((function(s){if(e.status.favourites_count=s.data.count,1==e.reactions.liked){e.reactions.liked=!1;var i=e.user.id;e.likes=e.likes.filter((function(t){return t.id!==i}))}else{e.reactions.liked=!0;var n=e.user;e.likes.unshift(n),setTimeout((function(){t.target.classList.add("animate__animated","animate__bounce")}),100)}})).catch((function(t){console.error(t),swal("Error","Something went wrong, please try again later.","error")})),window.navigator.vibrate(200)):window.location.href="/login?next="+encodeURIComponent(window.location.pathname)},shareStatus:function(){var t=this;0!=$("body").hasClass("loggedIn")?axios.post("/i/share",{item:this.status.id}).then((function(e){if(t.status.reblogs_count=e.data.count,1==t.reactions.shared){t.reactions.shared=!1;var s=t.user.id;t.shares=t.shares.filter((function(t){return t.id!==s}))}else{t.reactions.shared=!0;var i=t.user;t.shares.push(i)}})).catch((function(t){console.error(t),swal("Error","Something went wrong, please try again later.","error")})):window.location.href="/login?next="+encodeURIComponent(window.location.pathname)},bookmarkStatus:function(){var t=this;0!=$("body").hasClass("loggedIn")?axios.post("/i/bookmark",{item:this.status.id}).then((function(e){1==t.reactions.bookmarked?t.reactions.bookmarked=!1:t.reactions.bookmarked=!0})).catch((function(t){swal("Error","Something went wrong, please try again later.","error")})):window.location.href="/login?next="+encodeURIComponent(window.location.pathname)},blockProfile:function(){var t=this;0!=$("body").hasClass("loggedIn")&&axios.post("/i/block",{type:"user",item:this.status.account.id}).then((function(e){t.$refs.ctxModal.hide(),t.relationship.blocking=!0,swal("Success","You have successfully blocked "+t.status.account.acct,"success")})).catch((function(t){swal("Error","Something went wrong. Please try again later.","error")}))},unblockProfile:function(){var t=this;0!=$("body").hasClass("loggedIn")&&axios.post("/i/unblock",{type:"user",item:this.status.account.id}).then((function(e){t.relationship.blocking=!1,t.$refs.ctxModal.hide(),swal("Success","You have successfully unblocked "+t.status.account.acct,"success")})).catch((function(t){swal("Error","Something went wrong. Please try again later.","error")}))},deletePost:function(t){if(this.ownerOrAdmin()&&confirm("Are you sure you want to delete this post?")){if(0==$("body").hasClass("loggedIn"))return;axios.post("/i/delete",{type:"status",item:this.status.id}).then((function(t){swal("Success","You have successfully deleted this post","success"),setTimeout((function(){window.location.href="/"}),3e3)})).catch((function(t){swal("Error","Something went wrong. Please try again later.","error")}))}},owner:function(){return this.user.id===this.status.account.id},admin:function(){return 1==this.user.is_admin},ownerOrAdmin:function(){return this.owner()||this.admin()},lightbox:function(t){this.lightboxMedia=t,this.$refs.lightboxModal.show()},postReply:function(){var t=this;if(this.replySending=!0,0==this.replyText.length||this.replyText.trim()=="@"+this.status.account.acct)return t.replyText=null,void $('textarea[name="comment"]').blur();var e={item:this.replyingToId,comment:this.replyText,sensitive:this.replySensitive};this.replyText="",axios.post("/i/comment",e).then((function(e){var s=e.data.entity;if(s.in_reply_to_id==t.status.id){"metro"==t.layout?t.results.push(s):t.results.unshift(s);var i=$(".status-comments")[0];i.scrollTop=2*i.clientHeight}else if(t.replyToIndex>=0){var n=t.results[t.replyToIndex];n.replies.push(s),n.reply_count=n.reply_count+1}t.$refs.replyModal.hide(),t.replySending=!1}))},deleteComment:function(t,e){var s=this;axios.post("/i/delete",{type:"comment",item:t}).then((function(t){s.results.splice(e,1)})).catch((function(t){swal("Something went wrong!","Please try again later","error")}))},deleteCommentReply:function(t,e,s){var i=this;axios.post("/i/delete",{type:"comment",item:t}).then((function(t){i.results[s].replies.splice(e,1),--i.results[s].reply_count})).catch((function(t){swal("Something went wrong!","Please try again later","error")}))},l:function(t){return t.length<10?t:t.substr(0,10)+"..."},replyFocus:function(t,e){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(0!=$("body").hasClass("loggedIn")){if(!this.status.comments_disabled){this.replyToIndex=e,this.replyingToId=t.id,this.replyingToUsername=t.account.username,this.reply_to_profile_id=t.account.id;var i=t.account.local?"@"+t.account.username+" ":"@"+t.account.acct+" ";1==s&&(this.replyText=i),this.$refs.replyModal.show()}}else this.redirect("/login?next="+encodeURIComponent(window.location.pathname))},fetchComments:function(){var t=this,e="/api/v2/comments/"+this.statusProfileId+"/status/"+this.statusId;axios.get(e).then((function(e){t.results="metro"==t.layout?_.reverse(e.data.data):e.data.data,t.pagination=e.data.meta.pagination,t.results.length>0&&$(".load-more-link").removeClass("d-none"),$(".postCommentsLoader").addClass("d-none"),$(".postCommentsContainer").removeClass("d-none"),setTimeout((function(){document.querySelectorAll(".status-comment .postCommentsContainer .comment-body a").forEach((function(t,e){t.href=App.util.format.rewriteLinks(t)}))}),500)})).catch((function(t){if(t.response)switch(t.response.status){case 401:$(".postCommentsLoader .lds-ring").attr("style","width:100%").addClass("pt-4 font-weight-bold text-muted").text("Please login to view.");break;default:$(".postCommentsLoader .lds-ring").attr("style","width:100%").addClass("pt-4 font-weight-bold text-muted").text("An error occurred, cannot fetch comments. Please try again later.")}else $(".postCommentsLoader .lds-ring").attr("style","width:100%").addClass("pt-4 font-weight-bold text-muted").text("An error occurred, cannot fetch comments. Please try again later.")}))},loadMore:function(t){var e=this;if(t.preventDefault(),1!=this.pagination.total_pages&&this.pagination.current_page!=this.pagination.total_pages){$(".load-more-link").addClass("d-none"),$(".postCommentsLoader").removeClass("d-none");var s=this.pagination.links.next;axios.get(s).then((function(t){var s=t.data.data;$(".postCommentsLoader").addClass("d-none");for(var i=0;i<s.length;i++)e.results.unshift(s[i]);e.pagination=t.data.meta.pagination,$(".load-more-link").removeClass("d-none")}))}else $(".load-more-link").addClass("d-none")},likeReply:function(t,e){0!=$("body").hasClass("loggedIn")?axios.post("/i/like",{item:t.id}).then((function(e){t.favourites_count=e.data.count,1==t.favourited?t.favourited=!1:t.favourited=!0})).catch((function(t){swal("Error","Something went wrong, please try again later.","error")})):swal("Login","Please login to perform this action.","info")},truncate:function(t,e){return _.truncate(t,{length:e})},timeAgo:function(t){return App.util.format.timeAgo(t)},emojiReaction:function(){var t=event.target.innerText;0==this.replyText.length?(this.reply_to_profile_id=this.status.account.id,this.replyText=t+" ",$('textarea[name="comment"]').focus()):(this.reply_to_profile_id=this.status.account.id,this.replyText+=t+" ",$('textarea[name="comment"]').focus())},toggleCommentVisibility:function(){if(0!=this.ownerOrAdmin()){var t=this.status.comments_disabled,e=this;1==t?axios.post("/i/visibility",{item:e.status.id,disableComments:!1}).then((function(t){e.status.comments_disabled=!1,e.$refs.ctxModal.hide(),window.location.reload()})).catch((function(t){})):axios.post("/i/visibility",{item:e.status.id,disableComments:!0}).then((function(t){e.status.comments_disabled=!0,e.showComments=!1,e.$refs.ctxModal.hide()})).catch((function(t){}))}},fetchRelationships:function(){var t=this;0!=document.querySelectorAll("body")[0].classList.contains("loggedIn")?axios.get("/api/pixelfed/v1/accounts/relationships",{params:{"id[]":this.statusProfileId}}).then((function(e){if(null!=e.data[0])return t.relationship=e.data[0],1==e.data[0].blocking?(t.loaded=!0,void(t.warning=!0)):void t.fetchData();t.fetchData()})):this.fetchData()},visibilityModal:function(){switch(this.status.visibility){case"public":swal("Public Post","This post is visible to everyone.","info");break;case"unlisted":swal("Unlisted Post","This post is visible on profiles and with a direct links. It is not displayed on timelines.","info");break;case"private":swal("Private Post","This post is only visible to followers.","info")}},toggleReplies:function(t){if(t.thread)t.thread=!1;else{if(t.replies.length>0)return void(t.thread=!0);var e="/api/v2/comments/"+t.account.id+"/status/"+t.id;axios.get(e).then((function(e){t.replies=_.reverse(e.data.data),t.thread=!0}))}},redirect:function(t){window.location.href=t},showEmbedPostModal:function(){var t=this.ctxEmbedCompactMode?"compact":"full";this.ctxEmbedPayload=window.App.util.embed.post(this.status.url,this.ctxEmbedShowCaption,this.ctxEmbedShowLikes,t),this.$refs.ctxModal.hide(),this.$refs.embedModal.show()},ctxCopyEmbed:function(){navigator.clipboard.writeText(this.ctxEmbedPayload),this.$refs.embedModal.hide()},permalinkUrl:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=t.account;return 1==s.local||e?t.url:"/i/web/post/_/"+s.id+"/"+t.id},fetchProfilePosts:function(){if($("body").hasClass("loggedIn")||!this.loaded){var t=this,e="/api/pixelfed/v1/accounts/"+this.statusProfileId+"/statuses";axios.get(e,{params:{only_media:!0,min_id:1,limit:9}}).then((function(e){var s=e.data.filter((function(e){return e.media_attachments.length>0&&e.id!=t.statusId&&0==e.sensitive}));s.map((function(t){return t.id}));s.length>=3&&(t.showProfileMorePosts=!0),t.profileMorePosts=s.slice(0,6)}))}},previewUrl:function(t){return t.sensitive?"/storage/no-preview.png?v="+(new Date).getTime():t.media_attachments[0].preview_url},previewBackground:function(t){return"background-image: url("+this.previewUrl(t)+");"},getStatusUrl:function(t){return 1==t.local?t.url:"/i/web/post/_/"+t.account.id+"/"+t.id},profileUrl:function(t){return 1==t.local?t.account.url:"/i/web/profile/_/"+t.account.id},showTaggedPeopleModal:function(){!$("body").hasClass("loggedIn")&&this.loaded||this.$refs.taggedModal.show()},untagMe:function(){var t=this;this.$refs.taggedModal.hide();var e=this.user.id;axios.post("/api/local/compose/tag/untagme",{status_id:this.statusId,profile_id:e}).then((function(s){t.status.taggedPeople=t.status.taggedPeople.filter((function(t){return t.id!=e})),swal("Untagged","You have been untagged from this post.","success")})).catch((function(t){swal("An Error Occurred","Please try again later.","error")}))},copyPostUrl:function(){navigator.clipboard.writeText(this.statusUrl)},moderatePost:function(t,e){var s=this.status,i=(s.account.username,""),n=this;switch(t){case"addcw":i="Are you sure you want to add a content warning to this post?",swal({title:"Confirm",text:i,icon:"warning",buttons:!0,dangerMode:!0}).then((function(e){e&&axios.post("/api/v2/moderator/action",{action:t,item_id:s.id,item_type:"status"}).then((function(t){swal("Success","Successfully added content warning","success"),s.sensitive=!0,n.ctxModMenuClose()})).catch((function(t){swal("Error","Something went wrong, please try again later.","error"),n.ctxModMenuClose()}))}));break;case"remcw":i="Are you sure you want to remove the content warning on this post?",swal({title:"Confirm",text:i,icon:"warning",buttons:!0,dangerMode:!0}).then((function(e){e&&axios.post("/api/v2/moderator/action",{action:t,item_id:s.id,item_type:"status"}).then((function(t){swal("Success","Successfully added content warning","success"),s.sensitive=!1,n.ctxModMenuClose()})).catch((function(t){swal("Error","Something went wrong, please try again later.","error"),n.ctxModMenuClose()}))}));break;case"unlist":i="Are you sure you want to unlist this post?",swal({title:"Confirm",text:i,icon:"warning",buttons:!0,dangerMode:!0}).then((function(e){e&&axios.post("/api/v2/moderator/action",{action:t,item_id:s.id,item_type:"status"}).then((function(t){swal("Success","Successfully unlisted post","success"),n.ctxModMenuClose()})).catch((function(t){n.ctxModMenuClose(),swal("Error","Something went wrong, please try again later.","error")}))}))}},ctxMenu:function(){this.$refs.ctxModal.show()},closeCtxMenu:function(t){this.$refs.ctxModal.hide()},ctxModMenu:function(){this.$refs.ctxModal.hide(),this.$refs.ctxModModal.show()},ctxModMenuClose:function(){this.$refs.ctxModal.hide(),this.$refs.ctxModModal.hide()},ctxMenuCopyLink:function(){var t=this.status;navigator.clipboard.writeText(t.url),this.closeCtxMenu()},ctxMenuFollow:function(){var t=this,e=this.status.account.id;axios.post("/i/follow",{item:e}).then((function(e){var s=t.status.account.acct;t.relationship.following=!0,t.$refs.ctxModal.hide(),setTimeout((function(){swal("Follow successful!","You are now following "+s,"success")}),500)}))},ctxMenuUnfollow:function(){var t=this,e=this.status.account.id;axios.post("/i/follow",{item:e}).then((function(e){var s=t.status.account.acct;t.relationship.following=!1,t.$refs.ctxModal.hide(),setTimeout((function(){swal("Unfollow successful!","You are no longer following "+s,"success")}),500)}))},archivePost:function(t){var e=this;0!=window.confirm("Are you sure you want to archive this post?")&&axios.post("/api/pixelfed/v2/status/"+t.id+"/archive").then((function(t){e.$refs.ctxModal.hide(),window.location.href="/"}))},unarchivePost:function(t){var e=this;0!=window.confirm("Are you sure you want to unarchive this post?")&&axios.post("/api/pixelfed/v2/status/"+t.id+"/unarchive").then((function(t){e.$refs.ctxModal.hide()}))},statusLike:function(t){this.reactions.liked=!!this.reactions.liked},trimCaption:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60;return _.truncate(t,{length:e})}}},d=(s("LpPv"),s("EPQ0"),s("KHd+")),p=Object(d.a)(u,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.loaded?t._e():s("div",{staticClass:"d-flex justify-content-center align-items-center",staticStyle:{height:"80vh"}},[s("img",{attrs:{src:"/img/pixelfed-icon-grey.svg"}})]),t._v(" "),t.loaded&&t.warning?s("div",{staticClass:"bg-white mt-n4 pt-3 border-bottom"},[s("div",{staticClass:"container"},[s("p",{staticClass:"text-center font-weight-bold"},[t._v("You are blocking this account")]),t._v(" "),s("p",{staticClass:"text-center font-weight-bold"},[s("a",{staticClass:"btn btn-primary font-weight-bold px-5",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.warning=!1,t.fetchData()}}},[t._v("View Status")])])])]):t._e(),t._v(" "),t.loaded&&0==t.warning?s("div",{staticClass:"postComponent"},["metro"==t.layout?s("div",{staticClass:"container px-0"},[s("div",{staticClass:"card card-md-rounded-0 status-container orientation-unknown shadow-none border"},[s("div",{staticClass:"row px-0 mx-0"},[s("div",{staticClass:"d-flex d-md-none align-items-center justify-content-between card-header bg-white w-100"},[s("div",{staticClass:"d-flex"},[s("div",{staticClass:"status-avatar mr-2",on:{click:function(e){return t.redirect(t.statusProfileUrl)}}},[s("img",{staticClass:"cursor-pointer",staticStyle:{"border-radius":"12px"},attrs:{src:t.statusAvatar,width:"24px",height:"24px"}})]),t._v(" "),s("div",{staticClass:"username"},[s("span",{staticClass:"username-link font-weight-bold text-dark cursor-pointer",on:{click:function(e){return t.redirect(t.statusProfileUrl)}}},[t._v(t._s(t.statusUsername))]),t._v(" "),t.status.account.is_admin?s("span",{staticClass:"fa-stack",staticStyle:{height:"1em","line-height":"1em","max-width":"19px"},attrs:{title:"Admin Account","data-toggle":"tooltip"}},[s("i",{staticClass:"fas fa-certificate text-danger fa-stack-1x"}),t._v(" "),s("i",{staticClass:"fas fa-crown text-white fa-sm fa-stack-1x",staticStyle:{"font-size":"7px"}})]):t._e(),t._v(" "),s("p",{staticClass:"mb-0",staticStyle:{"font-size":"10px"}},[t.loaded&&t.status.taggedPeople.length?s("span",{staticClass:"mb-0"},[s("span",{staticClass:"font-weight-light cursor-pointer",staticStyle:{color:"#718096"},attrs:{title:"Tagged People","data-toggle":"tooltip","data-placement":"bottom"},on:{click:function(e){return t.showTaggedPeopleModal()}}},[s("i",{staticClass:"fas fa-tag text-lighter"}),t._v(" "),s("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.status.taggedPeople.length)+" Tagged People")])])]):t._e(),t._v(" "),t.loaded&&null!=t.status.place&&t.status.taggedPeople.length?s("span",{staticClass:"px-2 font-weight-bold text-lighter"},[t._v("•")]):t._e(),t._v(" "),t.loaded&&null!=t.status.place?s("span",{staticClass:"mb-0 cursor-pointer text-truncate",staticStyle:{color:"#718096"},on:{click:function(e){return t.redirect("/discover/places/"+t.status.place.id+"/"+t.status.place.slug)}}},[s("i",{staticClass:"fas fa-map-marked-alt text-lighter"}),t._v(" "),s("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.status.place.name)+", "+t._s(t.status.place.country))])]):t._e()])])]),t._v(" "),0!=t.user?s("div",{staticClass:"float-right"},[s("div",{staticClass:"post-actions"},[s("div",[s("button",{staticClass:"btn btn-link text-dark no-caret",attrs:{title:"Post options"},on:{click:function(e){return t.ctxMenu()}}},[s("span",{staticClass:"fas fa-ellipsis-v text-muted"})])])])]):t._e()]),t._v(" "),s("div",{staticClass:"col-12 col-md-8 px-0 mx-0"},[s("div",{staticClass:"postPresenterContainer d-none d-flex justify-content-center align-items-center",staticStyle:{background:"#000"}},["text"===t.status.pf_type?s("div",{staticClass:"w-100"},[s("div",{staticClass:"w-100 card-img-top border-bottom rounded-0",staticStyle:{"background-image":"url(/storage/textimg/bg_1.jpg)","background-size":"cover",width:"100%",height:"540px"}},[s("div",{staticClass:"w-100 h-100 d-flex justify-content-center align-items-center"},[s("p",{staticClass:"text-center text-break h3 px-5 font-weight-bold",domProps:{innerHTML:t._s(t.status.content)}})])])]):"photo"===t.status.pf_type?s("div",{staticClass:"w-100"},[s("photo-presenter",{attrs:{status:t.status},on:{lightbox:t.lightbox,togglecw:function(e){t.status.sensitive=!1}}})],1):"video"===t.status.pf_type?s("div",{staticClass:"w-100"},[s("video-presenter",{attrs:{status:t.status},on:{togglecw:function(e){t.status.sensitive=!1}}})],1):"photo:album"===t.status.pf_type?s("div",{staticClass:"w-100"},[s("photo-album-presenter",{attrs:{status:t.status},on:{lightbox:t.lightbox,togglecw:function(e){t.status.sensitive=!1}}})],1):"video:album"===t.status.pf_type?s("div",{staticClass:"w-100"},[s("video-album-presenter",{attrs:{status:t.status},on:{togglecw:function(e){t.status.sensitive=!1}}})],1):"photo:video:album"===t.status.pf_type?s("div",{staticClass:"w-100"},[s("mixed-album-presenter",{attrs:{status:t.status},on:{lightbox:t.lightbox,togglecw:function(e){t.status.sensitive=!1}}})],1):s("div",{staticClass:"w-100"},[s("p",{staticClass:"text-center p-0 font-weight-bold text-white"},[t._v("Error: Problem rendering preview.")])])])]),t._v(" "),s("div",{staticClass:"col-12 col-md-4 px-0 d-flex flex-column border-left border-md-left-0"},[s("div",{staticClass:"d-md-flex d-none align-items-center justify-content-between card-header py-3 bg-white"},[s("div",{staticClass:"d-flex align-items-center status-username text-truncate"},[s("div",{staticClass:"status-avatar mr-2",on:{click:function(e){return t.redirect(t.statusProfileUrl)}}},[s("img",{staticClass:"cursor-pointer",staticStyle:{"border-radius":"12px"},attrs:{src:t.statusAvatar,width:"24px",height:"24px"}})]),t._v(" "),s("div",{staticClass:"username"},[s("span",{staticClass:"username-link font-weight-bold text-dark cursor-pointer",on:{click:function(e){return t.redirect(t.statusProfileUrl)}}},[t._v(t._s(t.statusUsername))]),t._v(" "),t.status.account.is_admin?s("span",{staticClass:"fa-stack",staticStyle:{height:"1em","line-height":"1em","max-width":"19px"},attrs:{title:"Admin Account","data-toggle":"tooltip"}},[s("i",{staticClass:"fas fa-certificate text-danger fa-stack-1x"}),t._v(" "),s("i",{staticClass:"fas fa-crown text-white fa-sm fa-stack-1x",staticStyle:{"font-size":"7px"}})]):t._e(),t._v(" "),s("p",{staticClass:"mb-0",staticStyle:{"font-size":"10px"}},[t.loaded&&t.status.taggedPeople.length?s("span",{staticClass:"mb-0"},[s("span",{staticClass:"font-weight-light cursor-pointer",staticStyle:{color:"#718096"},attrs:{title:"Tagged People","data-toggle":"tooltip","data-placement":"bottom"},on:{click:function(e){return t.showTaggedPeopleModal()}}},[s("i",{staticClass:"fas fa-tag text-lighter"}),t._v(" "),s("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.status.taggedPeople.length)+" Tagged People")])])]):t._e(),t._v(" "),t.loaded&&null!=t.status.place&&t.status.taggedPeople.length?s("span",{staticClass:"px-2 font-weight-bold text-lighter"},[t._v("•")]):t._e(),t._v(" "),t.loaded&&null!=t.status.place?s("span",{staticClass:"mb-0 cursor-pointer text-truncate",staticStyle:{color:"#718096"},on:{click:function(e){return t.redirect("/discover/places/"+t.status.place.id+"/"+t.status.place.slug)}}},[s("i",{staticClass:"fas fa-map-marked-alt text-lighter"}),t._v(" "),s("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.status.place.name)+", "+t._s(t.status.place.country))])]):t._e()])])]),t._v(" "),s("div",{staticClass:"float-right"},[s("div",{staticClass:"post-actions"},[0!=t.user?s("div",[s("button",{staticClass:"btn btn-link text-dark no-caret",attrs:{title:"Post options"},on:{click:function(e){return t.ctxMenu()}}},[s("span",{staticClass:"fas fa-ellipsis-v text-muted"})])]):t._e()])])]),t._v(" "),s("div",{staticClass:"d-flex flex-md-column flex-column-reverse h-100",staticStyle:{"overflow-y":"auto"}},[s("div",{staticClass:"card-body status-comments pt-0"},["text"!=t.status.pf_type?s("div",{staticClass:"status-comment"},[t.status.content.length?s("div",{staticClass:"pt-3"},[t.status.sensitive?s("div",[s("span",{staticClass:"py-3"},[s("a",{staticClass:"text-dark font-weight-bold mr-1",attrs:{href:t.status.account.url,title:t.status.account.username}},[t._v(t._s(t.truncate(t.status.account.username,15)))]),t._v(" "),s("span",{staticClass:"text-break"},[s("span",{staticClass:"font-italic text-muted"},[t._v("This comment may contain sensitive material")]),t._v(" "),s("span",{staticClass:"text-primary cursor-pointer pl-1",on:{click:function(e){t.status.sensitive=!1}}},[t._v("Show")])])])]):s("div",[s("p",{class:[t.status.content.length>620?"mb-1 read-more":"mb-1"],staticStyle:{overflow:"hidden"}},[s("a",{staticClass:"font-weight-bold pr-1 text-dark text-decoration-none",attrs:{href:t.statusProfileUrl}},[t._v(t._s(t.statusUsername))]),t._v(" "),s("span",{staticClass:"comment-text",attrs:{id:t.status.id+"-status-readmore"},domProps:{innerHTML:t._s(t.status.content)}})])]),t._v(" "),s("hr")]):t._e(),t._v(" "),t.showComments?s("div",[t._m(0),t._v(" "),s("div",{staticClass:"postCommentsContainer d-none"},[s("p",{staticClass:"mb-1 text-center load-more-link d-none my-4"},[s("a",{staticClass:"text-dark",attrs:{href:"#",title:"Load more comments","data-toggle":"tooltip","data-placement":"bottom"},on:{click:t.loadMore}},[s("svg",{staticClass:"bi bi-plus-circle",staticStyle:{"font-size":"2em"},attrs:{width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"}},[s("path",{attrs:{"fill-rule":"evenodd",d:"M8 3.5a.5.5 0 01.5.5v4a.5.5 0 01-.5.5H4a.5.5 0 010-1h3.5V4a.5.5 0 01.5-.5z","clip-rule":"evenodd"}}),t._v(" "),s("path",{attrs:{"fill-rule":"evenodd",d:"M7.5 8a.5.5 0 01.5-.5h4a.5.5 0 010 1H8.5V12a.5.5 0 01-1 0V8z","clip-rule":"evenodd"}}),t._v(" "),s("path",{attrs:{"fill-rule":"evenodd",d:"M8 15A7 7 0 108 1a7 7 0 000 14zm0 1A8 8 0 108 0a8 8 0 000 16z","clip-rule":"evenodd"}})])])]),t._v(" "),s("div",{staticClass:"comments mt-3"},t._l(t.results,(function(e,i){return s("div",{key:"tl"+e.id+"_"+i,staticClass:"pb-4 media"},[s("img",{staticClass:"rounded-circle border mr-3",attrs:{src:e.account.avatar,width:"42px",height:"42px"}}),t._v(" "),s("div",{staticClass:"media-body"},[1==e.sensitive?s("div",[s("span",{staticClass:"py-3"},[s("a",{staticClass:"text-dark font-weight-bold mr-1",attrs:{href:t.profileUrl(e),title:e.account.username}},[t._v(t._s(e.account.local?"":"@")+t._s(t.truncate(e.account.username,15)))]),t._v(" "),s("span",{staticClass:"text-break"},[s("span",{staticClass:"font-italic text-muted"},[t._v("This comment may contain sensitive material")]),t._v(" "),s("span",{staticClass:"text-primary cursor-pointer pl-1",on:{click:function(t){e.sensitive=!1}}},[t._v("Show")])])])]):s("div",[s("p",{staticClass:"d-flex justify-content-between align-items-top read-more",staticStyle:{"overflow-y":"hidden"}},[s("span",[s("a",{staticClass:"text-dark font-weight-bold mr-1 text-break",attrs:{href:t.profileUrl(e),title:e.account.username}},[t._v(t._s(e.account.local?"":"@")+t._s(t.truncate(e.account.username,15)))]),t._v(" "),s("span",{staticClass:"text-break comment-body",staticStyle:{"word-break":"break-all"},domProps:{innerHTML:t._s(e.content)}})]),t._v(" "),s("span",{staticStyle:{"min-width":"38px"}},[s("span",{on:{click:function(s){return t.likeReply(e,s)}}},[s("i",{class:[e.favourited?"fas fa-heart fa-sm text-danger":"far fa-heart fa-sm text-lighter"]})]),t._v(" "),s("post-menu",{staticClass:"d-inline-block px-2",attrs:{status:e,profile:t.user,size:"sm",modal:"true"},on:{deletePost:function(s){return t.deleteComment(e.id,i)}}})],1)]),t._v(" "),s("p",{},[t._o(s("a",{staticClass:"text-muted mr-3 text-decoration-none small",staticStyle:{width:"20px"},attrs:{href:t.permalinkUrl(e)},domProps:{textContent:t._s(t.timeAgo(e.created_at))}}),0,"tl"+e.id+"_"+i),t._v(" "),e.favourites_count?s("span",{staticClass:"text-muted comment-reaction font-weight-bold mr-3"},[t._v(t._s(1==e.favourites_count?"1 like":e.favourites_count+" likes"))]):t._e(),t._v(" "),s("span",{staticClass:"text-muted comment-reaction font-weight-bold cursor-pointer",on:{click:function(s){return t.replyFocus(e,i,!0)}}},[t._v("Reply")])]),t._v(" "),e.reply_count>0?s("div",{staticClass:"cursor-pointer",on:{click:function(s){return t.toggleReplies(e)}}},[s("span",{staticClass:"show-reply-bar"}),t._v(" "),s("span",{staticClass:"comment-reaction font-weight-bold text-muted"},[t._v(t._s(e.thread?"Hide":"View")+" Replies ("+t._s(e.reply_count)+")")])]):t._e(),t._v(" "),1==e.thread?s("div",{staticClass:"comment-thread"},t._l(e.replies,(function(e,n){return s("div",{key:"cr"+e.id+"_"+i,staticClass:"pb-3 media"},[s("img",{staticClass:"rounded-circle border mr-3",attrs:{src:e.account.avatar,width:"25px",height:"25px"}}),t._v(" "),s("div",{staticClass:"media-body"},[s("p",{staticClass:"d-flex justify-content-between align-items-top read-more",staticStyle:{"overflow-y":"hidden"}},[s("span",[s("a",{staticClass:"text-dark font-weight-bold mr-1",attrs:{href:t.profileUrl(e),title:e.account.username}},[t._v(t._s(e.account.local?"":"@")+t._s(e.account.username))]),t._v(" "),s("span",{staticClass:"text-break comment-body",staticStyle:{"word-break":"break-all"},domProps:{innerHTML:t._s(e.content)}})]),t._v(" "),s("span",{staticClass:"pl-2",staticStyle:{"min-width":"38px"}},[s("span",{on:{click:function(s){return t.likeReply(e,s)}}},[s("i",{class:[e.favourited?"fas fa-heart fa-sm text-danger":"far fa-heart fa-sm text-lighter"]})]),t._v(" "),s("post-menu",{staticClass:"d-inline-block pl-2",attrs:{status:e,profile:t.user,size:"sm",modal:"true"},on:{deletePost:function(s){return t.deleteCommentReply(e.id,n,i)}}})],1)]),t._v(" "),s("p",{},[t._o(s("a",{staticClass:"text-muted mr-3 text-decoration-none small",staticStyle:{width:"20px"},attrs:{href:e.url},domProps:{textContent:t._s(t.timeAgo(e.created_at))}}),1,"cr"+e.id+"_"+i),t._v(" "),e.favourites_count?s("span",{staticClass:"text-muted comment-reaction font-weight-bold mr-3"},[t._v(t._s(1==e.favourites_count?"1 like":e.favourites_count+" likes"))]):t._e()])])])})),0):t._e()])])])})),0)])]):t._e()]):t._e()]),t._v(" "),t.reactionBarLoading?s("div",{staticClass:"card-body flex-grow-0 py-4 text-center"},[t._m(1)]):s("div",{staticClass:"card-body flex-grow-0 py-1"},[t.loaded&&t.user.hasOwnProperty("id")?s("div",{staticClass:"reactions my-2 pb-1 d-flex justify-content-between"},[s("h3",{class:[t.reactions.liked?"fas fa-heart text-danger mr-3 m-0 cursor-pointer":"far fa-heart pr-3 m-0 like-btn cursor-pointer"],attrs:{title:"Like"},on:{click:t.likeStatus}}),t._v(" "),t.status.comments_disabled?t._e():s("h3",{staticClass:"far fa-comment mr-3 m-0 cursor-pointer",attrs:{title:"Comment"},on:{click:function(e){return t.replyFocus(t.status)}}}),t._v(" "),s("h3",{staticClass:"fas fa-expand m-0 mr-3 cursor-pointer",on:{click:function(e){return t.redirect(t.status.media_attachments[0].url)}}}),t._v(" "),"public"==t.status.visibility?s("h3",{class:[t.reactions.bookmarked?"fas fa-bookmark text-warning m-0 mr-3 cursor-pointer":"far fa-bookmark m-0 mr-3 cursor-pointer"],attrs:{title:"Bookmark"},on:{click:t.bookmarkStatus}}):t._e(),t._v(" "),"public"==t.status.visibility?s("h3",{class:[t.reactions.shared?"fas fa-retweet m-0 text-primary cursor-pointer":"fas fa-retweet m-0 share-btn cursor-pointer"],attrs:{title:"Share"},on:{click:t.shareStatus}}):t._e()]):t._e(),t._v(" "),s("div",{staticClass:"reaction-counts mb-0"},[t.status.liked_by.username&&t.status.liked_by.username!==t.user.username?s("div",{staticClass:"likes mb-1"},[s("span",{staticClass:"like-count"},[t._v("Liked by\n\t\t\t\t\t\t\t\t\t\t\t"),s("a",{staticClass:"font-weight-bold text-dark",attrs:{href:t.status.liked_by.url}},[t._v(t._s(t.status.liked_by.username))]),t._v(" "),1==t.status.liked_by.others?s("span",[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\tand "),s("span",{staticClass:"font-weight-bold text-dark cursor-pointer",on:{click:t.likesModal}},[t.status.liked_by.total_count_pretty?s("span",[t._v(t._s(t.status.liked_by.total_count_pretty))]):t._e(),t._v(" others")])]):t._e()])]):t._e()]),t._v(" "),s("div",{staticClass:"timestamp d-flex align-items-bottom justify-content-between"},[s("a",{staticClass:"small text-muted",attrs:{href:t.statusUrl,title:t.status.created_at}},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(t.timestampFormat())+"\n\t\t\t\t\t\t\t\t\t")]),t._v(" "),s("span",{staticClass:"small text-muted text-capitalize cursor-pointer",on:{click:t.visibilityModal}},[t._v(t._s(t.status.visibility))])])])]),t._v(" "),t.showComments?s("div",{staticClass:"card-footer bg-white sticky-md-bottom p-0"},[0==t.user.length?s("div",{staticClass:"comment-form-guest p-3"},[s("a",{attrs:{href:"/login"}},[t._v("Login")]),t._v(" to like or comment.\n\t\t\t\t\t\t\t")]):s("form",{staticClass:"border-0 rounded-0 align-middle",attrs:{method:"post",action:"/i/comment","data-id":t.statusId,"data-truncate":"false"}},[s("textarea",{staticClass:"form-control border-0 rounded-0",staticStyle:{height:"56px","line-height":"18px","max-height":"80px",resize:"none","padding-right":"4.2rem"},attrs:{name:"comment",placeholder:"Add a comment…",autocomplete:"off",autocorrect:"off"},on:{click:function(e){return t.replyFocus(t.status)}}}),t._v(" "),s("input",{staticClass:"d-inline-block btn btn-link font-weight-bold reply-btn text-decoration-none",attrs:{type:"button",value:"Post",disabled:""}})])]):t._e()])])]),t._v(" "),t.showProfileMorePosts?s("div",{staticClass:"container"},[s("p",{staticClass:"text-lighter px-3 mt-5",staticStyle:{"font-weight":"600","font-size":"15px"}},[t._v("More posts from "),s("a",{staticClass:"text-dark",attrs:{href:"/"+t.statusUsername}},[t._v(t._s(this.statusUsername))])]),t._v(" "),s("div",{staticClass:"profile-timeline mt-md-4"},[s("div",{staticClass:"row"},t._l(t.profileMorePosts,(function(e,i){return s("div",{key:"tlob:"+i,staticClass:"col-4 p-1 p-md-3"},[t._o(s("a",{staticClass:"card info-overlay card-md-border-0",attrs:{href:t.getStatusUrl(e)}},[s("div",{class:[e.sensitive?"square":"square "+e.media_attachments[0].filter_class]},["photo:album"==e.pf_type?s("span",{staticClass:"float-right mr-3 post-icon"},[s("i",{staticClass:"fas fa-images fa-2x"})]):t._e(),t._v(" "),"video"==e.pf_type?s("span",{staticClass:"float-right mr-3 post-icon"},[s("i",{staticClass:"fas fa-video fa-2x"})]):t._e(),t._v(" "),"video:album"==e.pf_type?s("span",{staticClass:"float-right mr-3 post-icon"},[s("i",{staticClass:"fas fa-film fa-2x"})]):t._e(),t._v(" "),s("div",{staticClass:"square-content",style:t.previewBackground(e)}),t._v(" "),s("div",{staticClass:"info-overlay-text"},[s("h5",{staticClass:"text-white m-auto font-weight-bold"},[s("span",[s("span",{staticClass:"far fa-heart fa-lg p-2 d-flex-inline"}),t._v(" "),s("span",{staticClass:"d-flex-inline"},[t._v(t._s(e.favourites_count))])]),t._v(" "),s("span",[s("span",{staticClass:"fas fa-retweet fa-lg p-2 d-flex-inline"}),t._v(" "),s("span",{staticClass:"d-flex-inline"},[t._v(t._s(e.reblogs_count))])])])])])]),2,"tlob:"+i)])})),0)])]):t._e()]):t._e(),t._v(" "),"moment"==t.layout?s("div",{staticClass:"momentui"},[s("div",{staticClass:"bg-dark mt-md-n4"},[s("div",{staticClass:"container",staticStyle:{"max-width":"700px"}},[s("div",{staticClass:"postPresenterContainer d-none d-flex justify-content-center align-items-center bg-dark"},["photo"===t.status.pf_type?s("div",{staticClass:"w-100"},[s("photo-presenter",{attrs:{status:t.status},on:{lightbox:t.lightbox,togglecw:function(e){t.status.sensitive=!1}}})],1):"video"===t.status.pf_type?s("div",{staticClass:"w-100"},[s("video-presenter",{attrs:{status:t.status},on:{togglecw:function(e){t.status.sensitive=!1}}})],1):"photo:album"===t.status.pf_type?s("div",{staticClass:"w-100"},[s("photo-album-presenter",{attrs:{status:t.status},on:{lightbox:t.lightbox,togglecw:function(e){t.status.sensitive=!1}}})],1):"video:album"===t.status.pf_type?s("div",{staticClass:"w-100"},[s("video-album-presenter",{attrs:{status:t.status},on:{togglecw:function(e){t.status.sensitive=!1}}})],1):"photo:video:album"===t.status.pf_type?s("div",{staticClass:"w-100"},[s("mixed-album-presenter",{attrs:{status:t.status},on:{lightbox:t.lightbox,togglecw:function(e){t.status.sensitive=!1}}})],1):s("div",{staticClass:"w-100"},[s("p",{staticClass:"text-center p-0 font-weight-bold text-white"},[t._v("Error: Problem rendering preview.")])])])])]),t._v(" "),s("div",{staticClass:"bg-white"},[s("div",{staticClass:"container"},[s("div",{staticClass:"row pb-5"},[s("div",{staticClass:"col-12 col-md-8 py-4"},[s("div",{staticClass:"reactions d-flex align-items-center"},[s("div",{staticClass:"text-center mr-5"},[s("div",{class:[t.reactions.liked?"fas fa-heart text-danger m-0 cursor-pointer":"far fa-heart m-0 like-btn cursor-pointer"],staticStyle:{"font-size":"1.575rem"},attrs:{title:"Like"},on:{click:t.likeStatus}}),t._v(" "),s("div",{staticClass:"like-count font-weight-bold mt-2 rounded border",staticStyle:{cursor:"pointer"},on:{click:t.likesModal}},[t._v("\n\n\t\t\t\t\t\t\t\t\t\t"+t._s(1==t.ownerOrAdmin?t.status.liked_by.total_count+1:0)+"\n\t\t\t\t\t\t\t\t\t")])]),t._v(" "),s("div",{staticClass:"text-center"},["public"==t.status.visibility?s("div",{class:[t.reactions.shared?"h3 far fa-share-square m-0 text-primary cursor-pointer":"h3 far fa-share-square m-0 share-btn cursor-pointer"],attrs:{title:"Share"},on:{click:t.shareStatus}}):t._e(),t._v(" "),"public"==t.status.visibility?s("div",{staticClass:"share-count font-weight-bold mt-2 rounded border",staticStyle:{cursor:"pointer"},on:{click:t.sharesModal}},[t._v(t._s(t.status.reblogs_count||0))]):t._e()])]),t._v(" "),t.status.length&&t.status.content_text.includes("#")||t.status.content_text.includes("https://")||t.status.content_text.includes("@")||t.status.content_text.length>45?s("div",{staticClass:"media align-items-center mt-3"},[s("div",{staticClass:"media-body"},[s("p",{staticClass:"lead mr-2",domProps:{innerHTML:t._s(t.status.content)}}),t._v(" "),s("p",{staticClass:"lead mb-0"},[t._v("\n\t\t\t\t\t\t\t\t\t\tby "),s("a",{attrs:{href:t.statusProfileUrl}},[t._v(t._s(t.statusUsername))]),t._v(" "),t.relationship&&t.profile&&t.user&&!t.relationship.following&&t.profile.id!=t.user.id?s("span",[s("span",{staticClass:"px-1 text-lighter"},[t._v("•")]),t._v(" "),s("a",{staticClass:"font-weight-bold small",attrs:{href:"#"}},[t._v("Follow")])]):t._e()])]),t._v(" "),s("a",{attrs:{href:t.statusProfileUrl,title:t.statusUsername}},[s("img",{staticClass:"rounded-circle border mr-3",attrs:{src:t.statusAvatar,alt:"avatar",width:"72px",height:"72px"}})])]):s("div",{staticClass:"media align-items-center mt-3"},[s("div",{staticClass:"media-body"},[s("h2",{staticClass:"font-weight-bold mr-2"},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(t.status.content_text.length?t.status.content_text:"Untitled Post")+"\n\t\t\t\t\t\t\t\t\t")]),t._v(" "),s("p",{staticClass:"lead mb-0"},[t._v("\n\t\t\t\t\t\t\t\t\t\tby "),s("a",{attrs:{href:t.statusProfileUrl}},[t._v(t._s(t.statusUsername))])])]),t._v(" "),s("a",{attrs:{href:t.statusProfileUrl,title:t.statusUsername}},[s("img",{staticClass:"rounded-circle border mr-3",attrs:{src:t.statusAvatar,alt:"avatar",width:"72px",height:"72px"}})])]),t._v(" "),s("hr"),t._v(" "),s("div",[s("p",{staticClass:"lead"},[t.status.place?s("span",{staticClass:"text-truncate"},[s("i",{staticClass:"fas fa-map-marker-alt text-lighter mr-3"}),t._v(" "+t._s(t.status.place.name)+", "+t._s(t.status.place.country)+"\n\t\t\t\t\t\t\t\t\t")]):t._e(),t._v(" "),t._m(2)]),t._v(" "),t.status.tags?s("div",{staticClass:"pt-4"},[s("p",{staticClass:"lead"},t._l(t.status.tags,(function(e,i){return s("a",{staticClass:"btn btn-outline-dark mr-1 mb-1",attrs:{href:e.url+"?src=mp"}},[t._v(t._s(e.name))])})),0)]):t._e()])]),t._v(" "),s("div",{staticClass:"col-12 col-md-4 pt-4 pl-md-3"},[s("p",{staticClass:"lead font-weight-bold"},[t._v("Comments")]),t._v(" "),0!=t.user?s("div",{staticClass:"moment-comments"},[s("div",{staticClass:"form-group"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.replyText,expression:"replyText"}],staticClass:"form-control",attrs:{rows:"3",placeholder:"Add a comment ..."},domProps:{value:t.replyText},on:{input:function(e){e.target.composing||(t.replyText=e.target.value)}}}),t._v(" "),s("p",{staticClass:"d-flex justify-content-between align-items-center mt-3"},[s("span",{staticClass:"small text-lighter font-weight-bold"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(t.replyText.length)+"/"+t._s(t.config.uploader.max_caption_length)+"\n\t\t\t\t\t\t\t\t\t\t")]),t._v(" "),t.replyText.length>2?s("span",[s("div",{staticClass:"custom-control custom-switch"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.replySensitive,expression:"replySensitive"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"sensitiveReply"},domProps:{checked:Array.isArray(t.replySensitive)?t._i(t.replySensitive,null)>-1:t.replySensitive},on:{click:function(e){t.replySensitive},change:function(e){var s=t.replySensitive,i=e.target,n=!!i.checked;if(Array.isArray(s)){var o=t._i(s,null);i.checked?o<0&&(t.replySensitive=s.concat([null])):o>-1&&(t.replySensitive=s.slice(0,o).concat(s.slice(o+1)))}else t.replySensitive=n}}}),t._v(" "),s("label",{staticClass:"custom-control-label small font-weight-bold text-muted",staticStyle:{"padding-top":"3px"},attrs:{for:"sensitiveReply"}},[t._v("Add Content Warning")])])]):t._e(),t._v(" "),t.replyText.length>2?s("button",{staticClass:"btn btn-sm font-weight-bold btn-outline-primary py-1",on:{click:t.postReply}},[t._v("Post")]):t._e()])])]):t._e(),t._v(" "),s("div",{staticClass:"comment mt-4",staticStyle:{"max-height":"500px","overflow-y":"auto"}},t._l(t.results,(function(e,i){return s("div",{key:"tl"+e.id+"_"+i,staticClass:"media mb-3 mt-2"},[s("a",{attrs:{href:e.account.url,title:e.account.username}},[s("img",{staticClass:"rounded-circle border mr-3",attrs:{src:e.account.avatar,alt:"avatar",width:"32px",height:"32px"}})]),t._v(" "),s("div",{staticClass:"media-body"},[s("div",{staticClass:"d-flex justify-content-between"},[s("span",[s("a",{staticClass:"font-weight-bold text-dark",attrs:{href:e.account.url}},[t._v(t._s(e.account.username))])]),t._v(" "),s("span",{staticClass:"text-lighter"},[e.favourited?s("span",{staticClass:"cursor-pointer mr-2",on:{click:function(s){return t.likeReply(e)}}},[s("i",{staticClass:"fas fa-heart text-danger"})]):s("span",{staticClass:"cursor-pointer mr-2",on:{click:function(s){return t.likeReply(e)}}},[s("i",{staticClass:"far fa-heart"})]),t._v(" "),s("span",{},[s("post-menu",{staticClass:"d-inline-block px-2",attrs:{status:e,profile:t.user,size:"sm",modal:"true"},on:{deletePost:function(s){return t.deleteComment(e.id,i)}}})],1)])]),t._v(" "),1==e.sensitive?s("div",[s("span",{staticClass:"py-3"},[s("span",{staticClass:"text-break"},[s("span",{staticClass:"font-italic text-muted"},[t._v("This comment may contain sensitive material")]),t._v(" "),s("span",{staticClass:"badge badge-primary cursor-pointer ml-2 py-1",on:{click:function(t){e.sensitive=!1}}},[t._v("Show")])])])]):s("div",{staticClass:"read-more",staticStyle:{"overflow-y":"hidden"}},[s("p",{staticClass:"mb-0",domProps:{innerHTML:t._s(e.content)}},[t._v("loading ...")])]),t._v(" "),s("p",[s("span",{staticClass:"small"},[s("a",{staticClass:"text-lighter text-decoration-none",attrs:{href:e.url}},[t._v(t._s(t.timeAgo(e.created_at)))])])])])])})),0)])])])])]):t._e(),t._v(" "),"poll"==t.layout?s("div",{staticClass:"container px-0"},[s("div",{staticClass:"row justify-content-center"},[s("div",{staticClass:"col-12 col-md-6"},[!t.loading&&t.user&&t.reactions?s("div",[s("poll-card",{attrs:{status:t.status,profile:t.user,showBorderTop:!0,"fetch-state":!0,reactions:t.reactions},on:{likeStatus:t.likeStatus}}),t._v(" "),s("comment-feed",{staticClass:"mt-3",attrs:{status:t.status}})],1):s("div",{staticClass:"text-center"},[t._m(3)])])])]):t._e(),t._v(" "),"text"==t.layout?s("div",{staticClass:"container px-0"},[s("div",{staticClass:"row justify-content-center"},[s("div",{staticClass:"col-12 col-md-6"},[s("status-card",{attrs:{status:t.status,hasTopBorder:!0}}),t._v(" "),s("comment-feed",{staticClass:"mt-3",attrs:{status:t.status}})],1)])]):t._e()]):t._e(),t._v(" "),s("div",{staticClass:"modal-stack"},[s("b-modal",{ref:"likesModal",attrs:{id:"l-modal","hide-footer":"",centered:"",title:"Likes","body-class":"list-group-flush py-3 px-0"}},[s("div",{staticClass:"list-group"},[t._l(t.likes,(function(e,i){return s("div",{key:"modal_likes_"+i,staticClass:"list-group-item border-0 py-1"},[s("div",{staticClass:"media"},[s("a",{attrs:{href:e.url}},[s("img",{staticClass:"mr-3 rounded-circle box-shadow",attrs:{src:e.avatar,alt:e.username+"’s avatar",width:"30px",onerror:"this.onerror=null;this.src='/storage/avatars/default.jpg';"}})]),t._v(" "),s("div",{staticClass:"media-body"},[s("p",{staticClass:"mb-0",staticStyle:{"font-size":"14px"}},[s("a",{staticClass:"font-weight-bold text-dark",attrs:{href:e.url}},[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(e.username)+"\n\t\t\t\t\t\t\t\t")])]),t._v(" "),e.local?s("p",{staticClass:"text-muted mb-0 text-truncate",staticStyle:{"font-size":"14px"}},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e.display_name)+"\n\t\t\t\t\t\t\t")]):s("p",{staticClass:"text-muted mb-0 text-truncate mr-3",staticStyle:{"font-size":"14px"},attrs:{title:e.acct,"data-toggle":"dropdown","data-placement":"bottom"}},[s("span",{staticClass:"font-weight-bold"},[t._v(t._s(e.acct.split("@")[0]))]),s("span",{staticClass:"text-lighter"},[t._v("@"+t._s(e.acct.split("@")[1]))])])])])])})),t._v(" "),s("infinite-loading",{attrs:{spinner:"spiral"},on:{infinite:t.infiniteLikesHandler}},[s("div",{attrs:{slot:"no-more"},slot:"no-more"}),t._v(" "),s("div",{attrs:{slot:"no-results"},slot:"no-results"})])],2)]),t._v(" "),s("b-modal",{ref:"sharesModal",attrs:{id:"s-modal","hide-footer":"",centered:"",title:"Shares","body-class":"list-group-flush py-3 px-0"}},[s("div",{staticClass:"list-group"},[t._l(t.shares,(function(e,i){return s("div",{key:"modal_shares_"+i,staticClass:"list-group-item border-0 py-1"},[s("div",{staticClass:"media"},[s("a",{attrs:{href:e.url}},[s("img",{staticClass:"mr-3 rounded-circle box-shadow",attrs:{src:e.avatar,alt:e.username+"’s avatar",width:"30px"}})]),t._v(" "),s("div",{staticClass:"media-body"},[s("div",{staticClass:"d-inline-block"},[s("p",{staticClass:"mb-0",staticStyle:{"font-size":"14px"}},[s("a",{staticClass:"font-weight-bold text-dark",attrs:{href:e.url}},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(e.username)+"\n\t\t\t\t\t\t\t\t\t")])]),t._v(" "),s("p",{staticClass:"text-muted mb-0",staticStyle:{"font-size":"14px"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(e.display_name)+"\n\t\t\t\t\t\t\t\t\t")])]),t._v(" "),s("p",{staticClass:"float-right"})])])])})),t._v(" "),s("infinite-loading",{attrs:{spinner:"spiral"},on:{infinite:t.infiniteSharesHandler}},[s("div",{attrs:{slot:"no-more"},slot:"no-more"}),t._v(" "),s("div",{attrs:{slot:"no-results"},slot:"no-results"})])],2)]),t._v(" "),s("b-modal",{ref:"lightboxModal",attrs:{id:"lightbox","hide-header":!0,"hide-footer":!0,centered:"",size:"lg","body-class":"p-0"}},[t.lightboxMedia?s("div",[s("img",{class:t.lightboxMedia.filter_class+" img-fluid",staticStyle:{"min-height":"100%","min-width":"100%"},attrs:{src:t.lightboxMedia.url}})]):t._e()]),t._v(" "),s("b-modal",{ref:"embedModal",attrs:{id:"ctx-embed-modal","hide-header":"","hide-footer":"",centered:"",rounded:"",size:"md","body-class":"p-2 rounded"}},[s("div",[s("div",{staticClass:"form-group"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.ctxEmbedPayload,expression:"ctxEmbedPayload"}],staticClass:"form-control disabled text-monospace",staticStyle:{"overflow-y":"hidden",border:"1px solid #efefef","font-size":"12px","line-height":"18px",margin:"0 0 7px",resize:"none"},attrs:{rows:"8",disabled:""},domProps:{value:t.ctxEmbedPayload},on:{input:function(e){e.target.composing||(t.ctxEmbedPayload=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group pl-2 d-flex justify-content-center"},[s("div",{staticClass:"form-check mr-3"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.ctxEmbedShowCaption,expression:"ctxEmbedShowCaption"}],staticClass:"form-check-input",attrs:{type:"checkbox",disabled:1==t.ctxEmbedCompactMode},domProps:{checked:Array.isArray(t.ctxEmbedShowCaption)?t._i(t.ctxEmbedShowCaption,null)>-1:t.ctxEmbedShowCaption},on:{change:function(e){var s=t.ctxEmbedShowCaption,i=e.target,n=!!i.checked;if(Array.isArray(s)){var o=t._i(s,null);i.checked?o<0&&(t.ctxEmbedShowCaption=s.concat([null])):o>-1&&(t.ctxEmbedShowCaption=s.slice(0,o).concat(s.slice(o+1)))}else t.ctxEmbedShowCaption=n}}}),t._v(" "),s("label",{staticClass:"form-check-label font-weight-light"},[t._v("\n\t\t\t\t\t\t\tShow Caption\n\t\t\t\t\t\t")])]),t._v(" "),s("div",{staticClass:"form-check mr-3"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.ctxEmbedShowLikes,expression:"ctxEmbedShowLikes"}],staticClass:"form-check-input",attrs:{type:"checkbox",disabled:1==t.ctxEmbedCompactMode},domProps:{checked:Array.isArray(t.ctxEmbedShowLikes)?t._i(t.ctxEmbedShowLikes,null)>-1:t.ctxEmbedShowLikes},on:{change:function(e){var s=t.ctxEmbedShowLikes,i=e.target,n=!!i.checked;if(Array.isArray(s)){var o=t._i(s,null);i.checked?o<0&&(t.ctxEmbedShowLikes=s.concat([null])):o>-1&&(t.ctxEmbedShowLikes=s.slice(0,o).concat(s.slice(o+1)))}else t.ctxEmbedShowLikes=n}}}),t._v(" "),s("label",{staticClass:"form-check-label font-weight-light"},[t._v("\n\t\t\t\t\t\t\tShow Likes\n\t\t\t\t\t\t")])]),t._v(" "),s("div",{staticClass:"form-check"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.ctxEmbedCompactMode,expression:"ctxEmbedCompactMode"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.ctxEmbedCompactMode)?t._i(t.ctxEmbedCompactMode,null)>-1:t.ctxEmbedCompactMode},on:{change:function(e){var s=t.ctxEmbedCompactMode,i=e.target,n=!!i.checked;if(Array.isArray(s)){var o=t._i(s,null);i.checked?o<0&&(t.ctxEmbedCompactMode=s.concat([null])):o>-1&&(t.ctxEmbedCompactMode=s.slice(0,o).concat(s.slice(o+1)))}else t.ctxEmbedCompactMode=n}}}),t._v(" "),s("label",{staticClass:"form-check-label font-weight-light"},[t._v("\n\t\t\t\t\t\t\tCompact Mode\n\t\t\t\t\t\t")])])]),t._v(" "),s("hr"),t._v(" "),s("button",{class:t.copiedEmbed?"btn btn-primary btn-block btn-sm py-1 font-weight-bold disabed":"btn btn-primary btn-block btn-sm py-1 font-weight-bold",attrs:{disabled:t.copiedEmbed},on:{click:t.ctxCopyEmbed}},[t._v(t._s(t.copiedEmbed?"Embed Code Copied!":"Copy Embed Code"))]),t._v(" "),s("p",{staticClass:"mb-0 px-2 small text-muted"},[t._v("By using this embed, you agree to our "),s("a",{attrs:{href:"/site/terms"}},[t._v("Terms of Use")])])])]),t._v(" "),s("b-modal",{ref:"taggedModal",attrs:{id:"tagged-modal","hide-footer":"",centered:"",title:"Tagged People","body-class":"list-group-flush py-3 px-0"}},[s("div",{staticClass:"list-group"},t._l(t.status.taggedPeople,(function(e,i){return s("div",{key:"modal_taggedpeople_"+i,staticClass:"list-group-item border-0 py-1"},[s("div",{staticClass:"media"},[s("a",{attrs:{href:"/"+e.username}},[s("img",{staticClass:"mr-3 rounded-circle box-shadow",attrs:{src:e.avatar,alt:e.username+"’s avatar",width:"30px"}})]),t._v(" "),s("div",{staticClass:"media-body"},[s("p",{staticClass:"pt-1 d-flex justify-content-between",staticStyle:{"font-size":"14px"}},[s("a",{staticClass:"font-weight-bold text-dark",attrs:{href:"/"+e.username}},[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(e.username)+"\n\t\t\t\t\t\t\t\t")]),t._v(" "),e.id==t.user.id?s("button",{staticClass:"btn btn-outline-primary btn-sm py-1 px-3",on:{click:function(e){return t.untagMe()}}},[t._v("Untag Me")]):t._e()])])])])})),0),t._v(" "),s("p",{staticClass:"mb-0 text-center small text-muted font-weight-bold"},[s("a",{attrs:{href:"/site/kb/tagging-people"}},[t._v("Learn more")]),t._v(" about Tagging People.")])]),t._v(" "),s("b-modal",{ref:"ctxModal",attrs:{id:"ctx-modal","hide-header":"","hide-footer":"",centered:"",rounded:"",size:"sm","body-class":"list-group-flush p-0 rounded"}},[s("div",{staticClass:"list-group text-center"},[t.status&&1==t.status.local?s("div",{staticClass:"list-group-item rounded cursor-pointer",on:{click:function(e){return t.showEmbedPostModal()}}},[t._v("Embed")]):t._e(),t._v(" "),s("div",{staticClass:"list-group-item rounded cursor-pointer",on:{click:function(e){return t.ctxMenuCopyLink()}}},[t._v("Copy Link")]),t._v(" "),t.status&&t.user.id==t.status.account.id?s("div",{staticClass:"list-group-item rounded cursor-pointer",on:{click:t.toggleCommentVisibility}},[t._v(t._s(t.showComments?"Disable":"Enable")+" Comments")]):t._e(),t._v(" "),t.status&&t.user.id==t.status.account.id?s("a",{staticClass:"list-group-item rounded cursor-pointer text-dark text-decoration-none",attrs:{href:t.editUrl()}},[t._v("Edit")]):t._e(),t._v(" "),t.user&&1==t.user.is_admin?s("div",{staticClass:"list-group-item rounded cursor-pointer",on:{click:function(e){return t.ctxModMenu()}}},[t._v("Moderation Tools")]):t._e(),t._v(" "),!t.status||t.user.id==t.status.account.id||t.relationship.blocking||t.user.is_admin?t._e():s("div",{staticClass:"list-group-item rounded cursor-pointer text-danger",on:{click:function(e){return t.blockProfile()}}},[t._v("Block")]),t._v(" "),t.status&&t.user.id!=t.status.account.id&&t.relationship.blocking&&!t.user.is_admin?s("div",{staticClass:"list-group-item rounded cursor-pointer text-danger",on:{click:function(e){return t.unblockProfile()}}},[t._v("Unblock")]):t._e(),t._v(" "),t.user&&t.user.id!=t.status.account.id&&!t.user.is_admin?s("a",{staticClass:"list-group-item rounded cursor-pointer text-danger text-decoration-none",attrs:{href:t.reportUrl()}},[t._v("Report")]):t._e(),t._v(" "),t.status&&t.user.id==t.status.account.id&&"archived"!=t.status.visibility?s("div",{staticClass:"list-group-item rounded cursor-pointer text-danger",on:{click:function(e){return t.archivePost(t.status)}}},[t._v("Archive")]):t._e(),t._v(" "),t.status&&t.user.id==t.status.account.id&&"archived"==t.status.visibility?s("div",{staticClass:"list-group-item rounded cursor-pointer text-danger",on:{click:function(e){return t.unarchivePost(t.status)}}},[t._v("Unarchive")]):t._e(),t._v(" "),t.status&&(t.user.is_admin||t.user.id==t.status.account.id)?s("div",{staticClass:"list-group-item rounded cursor-pointer text-danger",on:{click:function(e){return t.deletePost(t.ctxMenuStatus)}}},[t._v("Delete")]):t._e(),t._v(" "),s("div",{staticClass:"list-group-item rounded cursor-pointer text-lighter",on:{click:function(e){return t.closeCtxMenu()}}},[t._v("Cancel")])])]),t._v(" "),s("b-modal",{ref:"ctxModModal",attrs:{id:"ctx-mod-modal","hide-header":"","hide-footer":"",centered:"",rounded:"",size:"sm","body-class":"list-group-flush p-0 rounded"}},[s("div",{staticClass:"list-group text-center"},[s("div",{staticClass:"list-group-item rounded cursor-pointer",on:{click:t.toggleCommentVisibility}},[t._v(t._s(t.showComments?"Disable":"Enable")+" Comments")]),t._v(" "),s("div",{staticClass:"list-group-item rounded cursor-pointer",on:{click:function(e){return t.moderatePost("unlist")}}},[t._v("Unlist from Timelines")]),t._v(" "),t.status.sensitive?s("div",{staticClass:"list-group-item rounded cursor-pointer",on:{click:function(e){return t.moderatePost("remcw")}}},[t._v("Remove Content Warning")]):s("div",{staticClass:"list-group-item rounded cursor-pointer",on:{click:function(e){return t.moderatePost("addcw")}}},[t._v("Add Content Warning")]),t._v(" "),s("div",{staticClass:"list-group-item rounded cursor-pointer text-lighter",on:{click:function(e){return t.ctxModMenuClose()}}},[t._v("Cancel")])])]),t._v(" "),s("b-modal",{ref:"replyModal",attrs:{id:"ctx-reply-modal","hide-footer":"",centered:"",rounded:"","title-html":t.replyingToUsername?"Reply to <span class=text-dark>"+t.replyingToUsername+"</span>":"","title-tag":"p","title-class":"font-weight-bold text-muted",size:"md","body-class":"p-2 rounded"}},[s("div",[s("vue-tribute",{attrs:{options:t.tributeSettings}},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.replyText,expression:"replyText"}],staticClass:"form-control",staticStyle:{border:"none","font-size":"18px",resize:"none","white-space":"pre-wrap",outline:"none"},attrs:{rows:"4",placeholder:"Reply here ..."},domProps:{value:t.replyText},on:{input:function(e){e.target.composing||(t.replyText=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"border-top border-bottom my-2"},[s("ul",{staticClass:"nav align-items-center emoji-reactions",staticStyle:{"overflow-x":"scroll","flex-wrap":"unset"}},t._l(t.emoji,(function(e){return s("li",{staticClass:"nav-item",on:{click:function(e){return t.emojiReaction(t.status)}}},[t._v(t._s(e))])})),0)]),t._v(" "),s("div",{staticClass:"d-flex justify-content-between align-items-center"},[s("div",[s("span",{staticClass:"pl-2 small text-muted font-weight-bold text-monospace"},[s("span",{class:[t.replyText.length>t.config.uploader.max_caption_length?"text-danger":"text-dark"]},[t._v(t._s(t.replyText.length>t.config.uploader.max_caption_length?t.config.uploader.max_caption_length-t.replyText.length:t.replyText.length))]),t._v("/"+t._s(t.config.uploader.max_caption_length)+"\n\t\t\t\t\t\t")])]),t._v(" "),s("div",{staticClass:"d-flex align-items-center"},[s("div",{staticClass:"custom-control custom-switch mr-3"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.replySensitive,expression:"replySensitive"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"replyModalCWSwitch"},domProps:{checked:Array.isArray(t.replySensitive)?t._i(t.replySensitive,null)>-1:t.replySensitive},on:{change:function(e){var s=t.replySensitive,i=e.target,n=!!i.checked;if(Array.isArray(s)){var o=t._i(s,null);i.checked?o<0&&(t.replySensitive=s.concat([null])):o>-1&&(t.replySensitive=s.slice(0,o).concat(s.slice(o+1)))}else t.replySensitive=n}}}),t._v(" "),s("label",{class:[t.replySensitive?"custom-control-label font-weight-bold text-dark":"custom-control-label text-lighter"],attrs:{for:"replyModalCWSwitch"}},[t._v("Mark as NSFW")])]),t._v(" "),s("button",{staticClass:"btn btn-primary btn-sm py-2 px-4 lead text-uppercase font-weight-bold",attrs:{disabled:0==t.replyText.length},on:{click:function(e){return e.preventDefault(),t.postReply()}}},[t._v("\n\t\t\t\t\t\t"+t._s(1==t.replySending?"POSTING":"POST")+"\n\t\t\t\t\t")])])])],1)])],1)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"postCommentsLoader text-center py-2"},[e("div",{staticClass:"spinner-border",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[this._v("Loading...")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"spinner-border",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[this._v("Loading...")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"float-right"},[e("i",{staticClass:"far fa-clock text-lighter mr-3"}),this._v(" "+this._s(this.timeAgo(this.status.created_at))+" ago\n\t\t\t\t\t\t\t\t\t")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"spinner-border",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[this._v("Loading...")])])}],!1,null,"0993a4c2",null);e.default=p.exports},"7QhU":function(t,e,s){"use strict";var i=s("1gDp"),n=s("/jad");function o(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return a(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);"Object"===s&&t.constructor&&(s=t.constructor.name);if("Map"===s||"Set"===s)return Array.from(t);if("Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return a(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var s=0,i=new Array(e);s<e;s++)i[s]=t[s];return i}var r={props:{status:{type:Object},currentProfile:{type:Object},showReplyForm:{type:Boolean,default:!0}},components:{"context-menu":i.a,"status-card":n.a},data:function(){return{loaded:!1,profile:void 0,feed:[],pagination:void 0,ctxStatus:!1,composeText:null,visibility:"public",sensitive:!1,postingComment:!1,loadingMoreComments:!1,page:2}},beforeMount:function(){this.fetchProfile()},mounted:function(){},methods:{fetchProfile:function(){var t=this;axios.get("/api/pixelfed/v1/accounts/verify_credentials").then((function(e){t.profile=e.data})),this.fetchComments()},fetchComments:function(){var t=this,e="/api/v2/comments/"+this.status.account.id+"/status/"+this.status.id;axios.get(e).then((function(e){t.feed=e.data.data,t.pagination=e.data.meta.pagination,t.loaded=!0})).catch((function(e){if(t.loaded=!0,e.response)switch(e.response.status){case 401:$(".postCommentsLoader .lds-ring").attr("style","width:100%").addClass("pt-4 font-weight-bold text-muted").text("Please login to view.");break;default:$(".postCommentsLoader .lds-ring").attr("style","width:100%").addClass("pt-4 font-weight-bold text-muted").text("An error occurred, cannot fetch comments. Please try again later.")}else;}))},trimCaption:function(t){return t},profileUrl:function(t){return t.url},statusUrl:function(t){return t.url},replyFocus:function(){},likeReply:function(){},timeAgo:function(t){return App.util.format.timeAgo(t)},statusDeleted:function(){},ctxMenu:function(t){var e=this;this.ctxStatus=this.feed[t],setTimeout((function(){e.$refs.cMenu.open()}),300)},submitComment:function(){this.postingComment=!0;var t={item:this.status.id,comment:this.composeText,sensitive:this.sensitive},e=this;axios.post("/i/comment",t).then((function(t){e.composeText=null;var s=t.data.entity;e.postingComment=!1,e.feed.unshift(s),e.pagination.total++})).catch((function(t){swal("Oops!","An error occured, please try again later.","error"),e.postingComment=!1}))},formatCount:function(t){return App.util.format.count(t)},loadMoreComments:function(){var t=this;this.loadingMoreComments=!0;var e="/api/v2/comments/"+this.status.account.id+"/status/"+this.status.id;axios.get(e,{params:{page:this.page}}).then((function(e){var s;(s=t.feed).push.apply(s,o(e.data.data)),t.pagination=e.data.meta.pagination,t.loadingMoreComments=!1,t.page++})).catch((function(e){t.loadingMoreComments=!1}))}}},l=(s("qWIm"),s("KHd+")),c=Object(l.a)(r,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.loaded?s("div",[t.showReplyForm?s("div",{staticClass:"card card-body shadow-none border bg-light"},[s("div",{staticClass:"media"},[s("img",{staticClass:"rounded-circle border mr-3",attrs:{src:t.profile.avatar,width:"32px",height:"32px"}}),t._v(" "),s("div",{staticClass:"media-body"},[s("div",{staticClass:"reply-form form-group mb-0"},[!t.composeText||t.composeText.length<40?s("input",{directives:[{name:"model",rawName:"v-model",value:t.composeText,expression:"composeText"}],staticClass:"form-control rounded-pill",attrs:{placeholder:"Add a comment..."},domProps:{value:t.composeText},on:{input:function(e){e.target.composing||(t.composeText=e.target.value)}}}):s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.composeText,expression:"composeText"}],staticClass:"form-control",attrs:{placeholder:"Add a comment...",rows:"4"},domProps:{value:t.composeText},on:{input:function(e){e.target.composing||(t.composeText=e.target.value)}}}),t._v(" "),t.composeText&&t.composeText.length?s("div",{staticClass:"btn btn-primary btn-sm rounded-pill font-weight-bold px-3",on:{click:t.submitComment}},[t.postingComment?s("span",[t._m(0)]):s("span",[t._v("Post")])]):t._e()]),t._v(" "),t.composeText?s("div",{staticClass:"reply-options",model:{value:t.visibility,callback:function(e){t.visibility=e},expression:"visibility"}},[t._m(1),t._v(" "),s("div",{staticClass:"custom-control custom-switch"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.sensitive,expression:"sensitive"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"sensitive"},domProps:{checked:Array.isArray(t.sensitive)?t._i(t.sensitive,null)>-1:t.sensitive},on:{change:function(e){var s=t.sensitive,i=e.target,n=!!i.checked;if(Array.isArray(s)){var o=t._i(s,null);i.checked?o<0&&(t.sensitive=s.concat([null])):o>-1&&(t.sensitive=s.slice(0,o).concat(s.slice(o+1)))}else t.sensitive=n}}}),t._v(" "),t._m(2)]),t._v(" "),s("span",{staticClass:"text-muted font-weight-bold small"},[t._v("\n\t\t\t\t\t\t\t"+t._s(t.composeText.length)+" / 500\n\t\t\t\t\t\t")])]):t._e()])])]):t._e(),t._v(" "),s("div",{staticClass:"d-none card card-body shadow-none border rounded-0 border-top-0 bg-light"},[s("div",{staticClass:"d-flex justify-content-between align-items-center"},[s("p",{staticClass:"font-weight-bold text-muted mb-0 mr-md-5"},[s("i",{staticClass:"fas fa-comment mr-1"}),t._v("\n\t\t\t\t\t"+t._s(t.formatCount(t.pagination.total))+"\n\t\t\t\t")]),t._v(" "),s("h4",{staticClass:"font-weight-bold mb-0 text-lighter"},[t._v("Comments")]),t._v(" "),t._m(3)])]),t._v(" "),t._l(t.feed,(function(t,e){return s("status-card",{key:"replies:"+e,attrs:{status:t,size:"small"}})})),t._v(" "),t.pagination.links.hasOwnProperty("next")?s("div",{staticClass:"card card-body shadow-none rounded-0 border border-top-0 py-3"},[t.loadingMoreComments?s("button",{staticClass:"btn btn-primary",attrs:{disabled:""}},[t._m(4)]):s("button",{staticClass:"btn btn-primary font-weight-bold",on:{click:t.loadMoreComments}},[t._v("Load more comments")])]):t._e(),t._v(" "),t.ctxStatus&&t.profile?s("context-menu",{ref:"cMenu",attrs:{status:t.ctxStatus,profile:t.profile},on:{"status-delete":t.statusDeleted}}):t._e()],2):s("div")])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[this._v("Loading...")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("select",{staticClass:"form-control form-control-sm rounded-pill font-weight-bold"},[e("option",{attrs:{value:"public"}},[this._v("Public")]),this._v(" "),e("option",{attrs:{value:"private"}},[this._v("Followers Only")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"custom-control-label font-weight-bold text-lighter",attrs:{for:"sensitive"}},[e("span",{staticClass:"d-none d-md-inline-block"},[this._v("Sensitive/")]),this._v("NSFW\n\t\t\t\t\t\t\t")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-group mb-0"},[e("select",{staticClass:"form-control form-control-sm"},[e("option",[this._v("New")]),this._v(" "),e("option",[this._v("Oldest")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[this._v("Loading...")])])}],!1,null,"ee374dfe",null);e.a=c.exports},"7n9v":function(t,e,s){(t.exports=s("I1BE")(!1)).push([t.i,".status-card-component .status-content {\n  font-size: 17px;\n}\n.status-card-component.status-card-sm .status-content {\n  font-size: 14px;\n}\n.status-card-component.status-card-sm .fa-lg {\n  font-size: unset;\n  line-height: unset;\n  vertical-align: unset;\n}",""])},"9ZH6":function(t,e,s){(t.exports=s("I1BE")(!1)).push([t.i,".reply-form[data-v-ee374dfe] {\n  position: relative;\n}\n.reply-form input[data-v-ee374dfe] {\n  padding-right: 90px;\n}\n.reply-form textarea[data-v-ee374dfe] {\n  padding-right: 80px;\n  align-items: center;\n}\n.reply-form .btn[data-v-ee374dfe] {\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n  right: 6px;\n}\n.reply-options[data-v-ee374dfe] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-top: 15px;\n}\n.reply-options .form-control[data-v-ee374dfe] {\n  max-width: 140px;\n}",""])},"9tPo":function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var s=e.protocol+"//"+e.host,i=s+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(t,e){var n,o=e.trim().replace(/^"(.*)"$/,(function(t,e){return e})).replace(/^'(.*)'$/,(function(t,e){return e}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?t:(n=0===o.indexOf("//")?o:0===o.indexOf("/")?s+o:i+o.replace(/^\.\//,""),"url("+JSON.stringify(n)+")")}))}},"9wGH":function(t,e,s){"use strict";s.r(e);var i={props:["status"]},n=s("KHd+"),o=Object(n.a)(i,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return 1==t.status.sensitive?s("div",[s("details",{staticClass:"details-animated"},[s("summary",[s("p",{staticClass:"mb-0 lead font-weight-bold"},[t._v(t._s(t.status.spoiler_text?t.status.spoiler_text:"CW / NSFW / Hidden Media"))]),t._v(" "),s("p",{staticClass:"font-weight-light"},[t._v("(click to show)")])]),t._v(" "),s("b-carousel",{staticStyle:{"text-shadow":"1px 1px 2px #333","background-color":"#000"},attrs:{id:t.status.id+"-carousel",controls:"","img-blank":"",background:"#ffffff",interval:0}},t._l(t.status.media_attachments,(function(t,e){return s("b-carousel-slide",{key:t.id+"-media"},[s("video",{staticClass:"embed-responsive-item",attrs:{slot:"img",preload:"none",controls:"",playsinline:"",loop:"",alt:t.description,width:"100%",height:"100%",poster:t.preview_url},slot:"img"},[s("source",{attrs:{src:t.url,type:t.mime}})])])})),1)],1)]):s("div",[s("b-carousel",{staticStyle:{"text-shadow":"1px 1px 2px #333","background-color":"#000"},attrs:{id:t.status.id+"-carousel",controls:"","img-blank":"",background:"#ffffff",interval:0}},t._l(t.status.media_attachments,(function(t,e){return s("b-carousel-slide",{key:t.id+"-media"},[s("video",{staticClass:"embed-responsive-item",attrs:{slot:"img",preload:"none",controls:"",playsinline:"",loop:"",alt:t.description,width:"100%",height:"100%",poster:t.preview_url},slot:"img"},[s("source",{attrs:{src:t.url,type:t.mime}})])])})),1)],1)}),[],!1,null,null,null);e.default=o.exports},A4gt:function(t,e,s){"use strict";s("uLPH")},ArTN:function(t,e,s){(t.exports=s("I1BE")(!1)).push([t.i,"\n.card-img-top[data-v-64a93274] {\n  border-top-left-radius: 0 !important;\n  border-top-right-radius: 0 !important;\n}\n.content-label-wrapper[data-v-64a93274] {\n\tposition: relative;\n}\n.content-label[data-v-64a93274] {\n\tmargin: 0;\n\tposition: absolute;\n\ttop:50%;\n\tleft:50%;\n\ttransform: translate(-50%, -50%);\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tjustify-content: center;\n\twidth: 100%;\n\theight: 100%;\n\tz-index: 2;\n\tbackground: rgba(0, 0, 0, 0.2)\n}\n",""])},CIxD:function(t,e,s){(t.exports=s("I1BE")(!1)).push([t.i,"\n.card-img-top[data-v-95e5da64] {\n  border-top-left-radius: 0 !important;\n  border-top-right-radius: 0 !important;\n}\n.content-label-wrapper[data-v-95e5da64] {\n\tposition: relative;\n}\n.content-label[data-v-95e5da64] {\n\tmargin: 0;\n\tposition: absolute;\n\ttop:50%;\n\tleft:50%;\n\ttransform: translate(-50%, -50%);\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tjustify-content: center;\n\twidth: 100%;\n\theight: 100%;\n\tz-index: 2;\n\tbackground: rgba(0, 0, 0, 0.2)\n}\n",""])},"CJs/":function(t,e,s){Vue.component("photo-presenter",s("d+I4").default),Vue.component("video-presenter",s("2Jpm").default),Vue.component("photo-album-presenter",s("Mrqh").default),Vue.component("video-album-presenter",s("9wGH").default),Vue.component("mixed-album-presenter",s("exej").default),Vue.component("post-menu",s("yric").default),Vue.component("post-component",s("6ZA0").default),Vue.component("post-next",s("VUSk").default)},EPQ0:function(t,e,s){"use strict";s("h/Wo")},I1BE:function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var s=function(t,e){var s=t[1]||"",i=t[3];if(!i)return s;if(e&&"function"==typeof btoa){var n=(a=i,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),o=i.sources.map((function(t){return"/*# sourceURL="+i.sourceRoot+t+" */"}));return[s].concat(o).concat([n]).join("\n")}var a;return[s].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+s+"}":s})).join("")},e.i=function(t,s){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},n=0;n<this.length;n++){var o=this[n][0];"number"==typeof o&&(i[o]=!0)}for(n=0;n<t.length;n++){var a=t[n];"number"==typeof a[0]&&i[a[0]]||(s&&!a[2]?a[2]=s:s&&(a[2]="("+a[2]+") and ("+s+")"),e.push(a))}},e}},JMt0:function(t,e,s){"use strict";var i=s("4KG8"),n=s.n(i),o={name:"vue-tribute",props:{options:{type:Object,required:!0}},watch:{options:{immediate:!1,deep:!0,handler:function(){var t=this;this.tribute&&setTimeout((function(){var e=t.$slots.default[0].elm;t.tribute.detach(e),setTimeout((function(){e=t.$slots.default[0].elm,t.tribute=new n.a(t.options),t.tribute.attach(e),e.tributeInstance=t.tribute}),0)}),0)}}},mounted:function(){if(void 0===n.a)throw new Error("[vue-tribute] cannot locate tributejs!");var t=this.$slots.default[0].elm;this.tribute=new n.a(this.options),this.tribute.attach(t),t.tributeInstance=this.tribute,t.addEventListener("tribute-replaced",(function(t){t.target.dispatchEvent(new Event("input",{bubbles:!0}))}))},beforeDestroy:function(){var t=this.$slots.default[0].elm;this.tribute&&this.tribute.detach(t)},render:function(t){return t("div",{staticClass:"v-tribute"},this.$slots.default)}};"undefined"!=typeof window&&window.Vue&&window.Vue.component(o.name,o),e.a=o},"KHd+":function(t,e,s){"use strict";function i(t,e,s,i,n,o,a,r){var l,c="function"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=s,c._compiled=!0),i&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),a?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},c._ssrRegister=l):n&&(l=r?function(){n.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:n),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(t,e){return l.call(e),u(t,e)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:t,options:c}}s.d(e,"a",(function(){return i}))},Lp1U:function(t,e,s){"use strict";s("na7+")},LpPv:function(t,e,s){"use strict";s("oUKU")},Mrqh:function(t,e,s){"use strict";s.r(e);var i={props:["status"],data:function(){return{sensitive:this.status.sensitive,cursor:0}},created:function(){},beforeDestroy:function(){},methods:{toggleContentWarning:function(t){this.$emit("togglecw")},altText:function(t){var e=t.description;return e||"Photo was not tagged with any alt text."},keypressNavigation:function(t){var e=this.$refs.carousel;if("37"==t.keyCode){t.preventDefault();e.advancePage("backward"),e.$emit("navigation-click","backward")}if("39"==t.keyCode){t.preventDefault();e.advancePage("forward"),e.$emit("navigation-click","forward")}}}},n=(s("5CDs"),s("KHd+")),o=Object(n.a)(i,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return 1==t.status.sensitive?s("div",{staticClass:"content-label-wrapper"},[s("div",{staticClass:"text-light content-label"},[t._m(0),t._v(" "),s("p",{staticClass:"h4 font-weight-bold text-center"},[t._v("\n\t\t\tSensitive Content\n\t\t")]),t._v(" "),s("p",{staticClass:"text-center py-2"},[t._v("\n\t\t\t"+t._s(t.status.spoiler_text?t.status.spoiler_text:"This album may contain sensitive content.")+"\n\t\t")]),t._v(" "),s("p",{staticClass:"mb-0"},[s("button",{staticClass:"btn btn-outline-light btn-block btn-sm font-weight-bold",on:{click:function(e){return t.toggleContentWarning()}}},[t._v("See Post")])])]),t._v(" "),s("blur-hash-image",{attrs:{width:"32",height:"32",punch:1,hash:t.status.media_attachments[0].blurhash,alt:t.altText(t.status)}})],1):s("div",{staticClass:"w-100 h-100 p-0"},[s("carousel",{ref:"carousel",staticClass:"p-0 m-0",attrs:{centerMode:!0,loop:!1,"per-page":1,paginationPosition:"bottom-overlay",paginationActiveColor:"#3897f0",paginationColor:"#dbdbdb"}},t._l(t.status.media_attachments,(function(e,i){return s("slide",{key:"px-carousel-"+e.id+"-"+i,staticStyle:{background:"#000",display:"flex","align-items":"center"},attrs:{title:e.description}},[s("img",{class:e.filter_class+" img-fluid w-100 p-0",attrs:{src:e.url,alt:t.altText(e),onerror:"this.onerror=null;this.src='/storage/no-preview.png'"}}),t._v(" "),!t.status.sensitive&&t.sensitive?s("p",{staticStyle:{"margin-top":"0",padding:"10px",color:"#fff","font-size":"10px","text-align":"right",position:"absolute",top:"0",right:"0","border-top-left-radius":"5px",cursor:"pointer",background:"linear-gradient(0deg, rgba(0,0,0,0.5), rgba(0,0,0,0.5))"},on:{click:function(e){t.status.sensitive=!0}}},[s("i",{staticClass:"fas fa-eye-slash fa-lg"})]):t._e(),t._v(" "),t.status.media_attachments[0].license?s("p",{staticStyle:{"margin-bottom":"0",padding:"0 5px",color:"#fff","font-size":"10px","text-align":"right",position:"absolute",bottom:"0",right:"0","border-top-left-radius":"5px",background:"linear-gradient(0deg, rgba(0,0,0,0.5), rgba(0,0,0,0.5))"}},[s("a",{staticClass:"font-weight-bold text-light",attrs:{href:t.status.url}},[t._v("Photo")]),t._v(" by "),s("a",{staticClass:"font-weight-bold text-light",attrs:{href:t.status.account.url}},[t._v("@"+t._s(t.status.account.username))]),t._v(" licensed under "),s("a",{staticClass:"font-weight-bold text-light",attrs:{href:t.status.media_attachments[0].license.url}},[t._v(t._s(t.status.media_attachments[0].license.title))])]):t._e()])})),1)],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"text-center"},[e("i",{staticClass:"far fa-eye-slash fa-2x"})])}],!1,null,"64a93274",null);e.default=o.exports},"NOE/":function(t,e,s){var i=s("9ZH6");"string"==typeof i&&(i=[[t.i,i,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};s("aET+")(i,n);i.locals&&(t.exports=i.locals)},OCAn:function(t,e,s){(t.exports=s("I1BE")(!1)).push([t.i,"\n.content-label-wrapper[data-v-5e63aaf2] {\n\tposition: relative;\n}\n.content-label[data-v-5e63aaf2] {\n\tmargin: 0;\n\tposition: absolute;\n\ttop:50%;\n\tleft:50%;\n\ttransform: translate(-50%, -50%);\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tjustify-content: center;\n\twidth: 100%;\n\theight: 100%;\n\tz-index: 2;\n\tbackground: rgba(0, 0, 0, 0.2)\n}\n",""])},QVH2:function(t,e,s){"use strict";s("oXZq")},RePV:function(t,e,s){"use strict";s("dfRi")},T5SB:function(t,e,s){(t.exports=s("I1BE")(!1)).push([t.i,"\n.status-comments[data-v-0993a4c2],\n.reactions[data-v-0993a4c2] {\n\tbackground: #fff;\n}\n.postPresenterContainer[data-v-0993a4c2] {\n\tbackground: #fff;\n}\n@media(min-width: 720px) {\n.postPresenterContainer[data-v-0993a4c2] {\n\t\tmin-height: 600px;\n}\n}\n[data-v-0993a4c2]::-webkit-scrollbar {\n\t\twidth: 0px;\n\t\tbackground: transparent;\n}\n.reply-btn[data-v-0993a4c2] {\n\tposition: absolute;\n\tbottom: 12px;\n\tright: 20px;\n\twidth: 60px;\n\ttext-align: center;\n\tborder-radius: 0 3px 3px 0;\n}\n.text-lighter[data-v-0993a4c2] {\n\tcolor:#B8C2CC !important;\n}\n.text-break[data-v-0993a4c2] {\n\toverflow-wrap: break-word;\n}\n.comments p[data-v-0993a4c2] {\n\tmargin-bottom: 0;\n}\n.comment-reaction[data-v-0993a4c2] {\n\tfont-size: 80%;\n}\n.show-reply-bar[data-v-0993a4c2] {\n\tdisplay: inline-block;\n\tborder-bottom: 1px solid #999;\n\theight: 0;\n\tmargin-right: 16px;\n\tvertical-align: middle;\n\twidth: 24px;\n}\n.comment-thread[data-v-0993a4c2] {\n\tmargin-top: 1rem;\n}\n.emoji-reactions .nav-item[data-v-0993a4c2] {\n\tfont-size: 1.2rem;\n\tpadding: 9px;\n\tcursor: pointer;\n}\n.emoji-reactions[data-v-0993a4c2]::-webkit-scrollbar {\n\twidth: 0px;\n\theight: 0px;\n\tbackground: transparent;\n}\n@media (min-width: 1200px) {\n.container[data-v-0993a4c2] {\n\t\tmax-width: 1100px;\n}\n}\n\n",""])},VUSk:function(t,e,s){"use strict";s.r(e);var i=s("/jad"),n={props:{post:{type:Object},profile:{type:Object},user:{type:Object},media:{type:Array}},data:function(){return{loading:!0,shortcuts:void 0,mediaIndex:0}},mounted:function(){this.initShortcuts()},beforeDestroy:function(){document.removeEventListener("keyup",this.shortcuts)},methods:{navPrev:function(){var t=this;if(0==this.mediaIndex)return this.loading=!0,void axios.get("/api/v1/accounts/"+this.profile.id+"/statuses",{params:{limit:1,max_id:this.post.id}}).then((function(e){if(!e.data.length)return t.mediaIndex=t.media.length-1,void(t.loading=!1);t.$emit("navigate",e.data[0]),t.mediaIndex=0;var s=window.location.origin+"/@".concat(t.post.account.username,"/post/").concat(t.post.id);history.pushState(null,null,s)})).catch((function(e){t.mediaIndex=t.media.length-1,t.loading=!1}));this.mediaIndex--},navNext:function(){var t=this;if(this.mediaIndex==this.media.length-1)return this.loading=!0,void axios.get("/api/v1/accounts/"+this.profile.id+"/statuses",{params:{limit:1,min_id:this.post.id}}).then((function(e){if(!e.data.length)return t.mediaIndex=0,void(t.loading=!1);t.$emit("navigate",e.data[0]),t.mediaIndex=0;var s=window.location.origin+"/@".concat(t.post.account.username,"/post/").concat(t.post.id);history.pushState(null,null,s)})).catch((function(e){t.mediaIndex=0,t.loading=!1}));this.mediaIndex++},initShortcuts:function(){var t=this;this.shortcuts=document.addEventListener("keyup",(function(e){"ArrowLeft"===e.key&&t.navPrev(),"ArrowRight"===e.key&&t.navNext()}))}}},o=s("KHd+"),a=Object(o.a)(n,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"bg-black p-2",staticStyle:{"min-height":"500px!important"}},[s("div",{staticClass:"d-flex justify-content-between align-items-center text-muted",staticStyle:{height:"600px !important",overflow:"hidden"}},[s("button",{staticClass:"btn btn-link text-dark",on:{click:t.navPrev}},[s("i",{staticClass:"fal fa-chevron-left fa-3x"})]),t._v(" "),s("div",{staticClass:"p-5",staticStyle:{width:"70vw"}},["photo"===t.post.pf_type?s("photo-presenter",{attrs:{status:t.post}}):"photo:album"===t.post.pf_type?s("div",[s("img",{staticStyle:{width:"100%",height:"500px","object-fit":"contain"},attrs:{src:t.media[t.mediaIndex].url}}),t._v(" "),s("div",{staticClass:"d-flex mt-3 justify-content-center"},t._l(t.media,(function(e,i){return s("div",{staticClass:"mr-2 border rounded p-1",class:[i===t.mediaIndex?"border-light":"border-dark"],on:{click:function(e){t.mediaIndex=i}}},[s("img",{staticStyle:{"object-fit":"cover"},attrs:{src:e.preview_url,width:"60",height:"40"}})])})),0)]):"video"===t.post.pf_type?s("video-presenter",{attrs:{status:t.post},on:{togglecw:function(e){t.post.sensitive=!1}}}):t._e()],1),t._v(" "),s("button",{staticClass:"btn btn-link text-dark",on:{click:t.navNext}},[s("i",{staticClass:"fal fa-chevron-right fa-3x"})])])])}),[],!1,null,null,null).exports,r=s("1gDp"),l={props:{post:{type:Object},user:{type:Object},profile:{type:Object}},components:{"context-menu":r.a},data:function(){return{loaded:!1}},mounted:function(){var t=this;setTimeout((function(){t.loaded=!0}),500)},methods:{openMenu:function(){event.currentTarget.blur(),this.$refs.ctxMenu.open()},goToLink:function(t){location.href=t},handleDelete:function(){location.href="/"}}},c=Object(o.a)(l,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"media align-items-center mb-4"},[s("img",{staticClass:"rounded-circle border p-1 mr-3",attrs:{src:t.profile.avatar,width:"96",height:"96"}}),t._v(" "),s("div",{staticClass:"media-body"},[s("p",{staticClass:"h4 font-weight-bold mb-0 text-break"},[t._v("@"+t._s(t.profile.acct))]),t._v(" "),s("p",{staticClass:"font-weight-bold text-muted mb-0 text-break"},[t._v(t._s(t.profile.display_name))])]),t._v(" "),s("button",{staticClass:"btn btn-light font-weight-bold shadow-sm",on:{click:function(e){return t.goToLink("/@"+t.profile.username)}}},[t._v("\n\t\tView Profile\n\t")]),t._v(" "),s("button",{staticClass:"btn btn-light font-weight-bold shadow-sm ml-2",on:{click:t.openMenu}},[s("i",{staticClass:"far fa-ellipsis-v"})]),t._v(" "),t.loaded?s("context-menu",{ref:"ctxMenu",attrs:{status:t.post,profile:t.user},on:{"status-delete":t.handleDelete}}):t._e()],1)}),[],!1,null,null,null).exports,u=s("lb/t"),d=(s("i3gq"),s("JMt0")),p={props:{status:{type:Object},cursorLimit:{type:Number,default:200}},data:function(){return{fullContent:null,content:null,cursor:200}},mounted:function(){this.cursor=this.cursorLimit,this.fullContent=this.status.content,this.content=this.status.content.substr(0,this.cursor)},methods:{readMore:function(){this.cursor=this.cursor+200,this.content=this.fullContent.substr(0,this.cursor)}}},m=Object(o.a)(p,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"read-more-component",staticStyle:{"word-break":"break-all"}},[t.status.content.length<200?s("div",{domProps:{innerHTML:t._s(t.content)}}):s("div",[s("span",{domProps:{innerHTML:t._s(t.content)}}),t._v(" "),200==t.cursor||t.fullContent.length>t.cursor?s("a",{staticClass:"font-weight-bold text-muted",staticStyle:{display:"block","white-space":"nowrap"},attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.readMore.apply(null,arguments)}}},[s("i",{staticClass:"d-none fas fa-caret-down"}),t._v(" Read more...\n\t\t")]):t._e()])])}),[],!1,null,null,null).exports,h={props:{post:{type:Object},user:{type:Object}},components:{Autocomplete:u.a,VueTribute:d.a,ContextMenu:r.a,ReadMore:m},data:function(){return{composeText:void 0,config:App.config,comments:[],tributeSettings:void 0,contextIndex:0,isPosting:!1,loaded:!1}},beforeMount:function(){this.tributeSettings={collection:[{trigger:"@",menuShowMinLength:2,values:function(t,e){axios.get("/api/compose/v0/search/mention",{params:{q:t}}).then((function(t){e(t.data)})).catch((function(t){console.log(t)}))}},{trigger:"#",menuShowMinLength:2,values:function(t,e){axios.get("/api/compose/v0/search/hashtag",{params:{q:t}}).then((function(t){e(t.data)})).catch((function(t){console.log(t)}))}}]}},mounted:function(){this.fetchContext()},methods:{fetchContext:function(){var t=this,e="/api/v2/comments/"+this.post.account.id+"/status/"+this.post.id;axios.get(e).then((function(e){t.comments=e.data.data,t.loaded=!0,console.log(e.data)}))},owner:function(t){return!!this.user&&t.account.id==this.user.id},ownerOrAdmin:function(t){return!!this.user&&(this.user.is_admin||t.account.id===this.user.id)},timeago:function(t){return App.util.format.timeAgo(t)},postComment:function(){var t=this;this.isPosting=!0;var e={item:this.post.id,comment:this.composeText,sensitive:!1};axios.post("/i/comment",e).then((function(e){t.contextIndex=0,t.composeText="",t.comments.unshift(e.data.entity),t.isPosting=!1,t.$emit("increment-comment-count")})).catch((function(e){swal("Oops!","An error occured while attempting to post your comment","error"),t.isPosting=!1}))},profileUrl:function(t){return 1==t.local?t.account.url:"/i/web/profile/_/"+t.account.id},statusUrl:function(t){return 1==t.local?t.url:"/i/web/post/_/"+t.account.id+"/"+t.id},loadContextMenu:function(t){var e=this;event.currentTarget.blur(),this.contextIndex=t,this.$nextTick((function(){e.$refs.ctxMenu.open()}))},deleteComment:function(t){this.comments=this.comments.filter((function(e){return e.id!=t})),this.$emit("decrement-comment-count")},likeComment:function(t){var e=this;axios.post("/i/like",{item:this.comments[t].id}).then((function(s){e.comments[t].favourited=!e.comments[t].favourited}))}}},f=(s("m31g"),Object(o.a)(h,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"post-comments-component"},[t.user?s("div",{staticClass:"form-group mb-3"},[s("div",{staticClass:"shadow-sm rounded"},[s("vue-tribute",{attrs:{options:t.tributeSettings}},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.composeText,expression:"composeText"}],staticClass:"form-control border-0 no-focus",staticStyle:{resize:"none"},attrs:{rows:"3",placeholder:"Add a comment...",maxlength:t.config.uploader.max_caption_length,disabled:t.isPosting},domProps:{value:t.composeText},on:{input:function(e){e.target.composing||(t.composeText=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"bg-white text-lighter p-2 d-flex align-items-end justify-content-between rounded"},[s("div",[t._v("\n\t\t\t\t\t"+t._s(t.composeText?t.composeText.length:0)),s("span",{staticStyle:{margin:"auto 2px"}},[t._v("/")]),t._v(t._s(t.config.uploader.max_caption_length)+"\n\t\t\t\t")]),t._v(" "),t._m(0)])],1),t._v(" "),t.composeText&&t.composeText.length?s("p",{staticClass:"text-right mt-2"},[s("button",{staticClass:"btn btn-primary btn-sm font-weight-bold",staticStyle:{width:"70px"},on:{click:t.postComment}},[t.isPosting?s("b-spinner",{attrs:{small:""}}):s("span",[t._v("POST")])],1)]):t._e()]):t._e(),t._v(" "),s("p",{staticClass:"font-weight-bold"},[t._v("Comments")]),t._v(" "),t._l(t.comments,(function(e,i){return s("div",{key:"cs"+e.id,staticClass:"media media-status align-items-top mt-3"},[s("a",{attrs:{href:t.profileUrl(e)}},[s("img",{staticClass:"rounded-circle media-avatar border",attrs:{src:e.account.avatar,width:"32",height:"32"}})]),t._v(" "),s("div",{staticClass:"media-body"},[e.media_attachments.length?t._e():s("div",{staticClass:"media-body-comment"},[s("p",{staticClass:"media-body-comment-username"},[s("a",{attrs:{href:t.profileUrl(e)}},[t._v("\n\t\t\t\t\t\t"+t._s(e.account.acct)+"\n\t\t\t\t\t")])]),t._v(" "),s("read-more",{attrs:{status:e}})],1),t._v(" "),s("p",{staticClass:"media-body-reactions"},[t.user?s("a",{staticClass:"font-weight-bold",class:[e.favourited?"text-primary":"text-muted"],attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.likeComment(i)}}},[t._v("\n\t\t\t\t\t\t"+t._s(e.favourited?"Liked":"Like")+"\n\t\t\t\t\t")]):t._e(),t._v(" "),s("span",{staticClass:"mx-1"},[t._v("·")]),t._v(" "),s("a",{staticClass:"text-muted font-weight-bold",attrs:{href:"#"}},[t._v("Reply")]),t._v(" "),t.user?s("span",{staticClass:"mx-1"},[t._v("·")]):t._e(),t._v(" "),t._o(s("a",{staticClass:"font-weight-bold text-muted",attrs:{href:t.statusUrl(e)}},[t._v("\n\t\t\t\t\t"+t._s(t.timeago(e.created_at))+"\n\t\t\t\t")]),0,"cs"+e.id),t._v(" "),s("span",{staticClass:"mx-1"},[t._v("·")]),t._v(" "),s("a",{staticClass:"text-dark",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.loadContextMenu(i)}}},[s("i",{staticClass:"fas fa-ellipsis-h"})])])])])})),t._v(" "),t.loaded&&!t.comments.length?s("div",[s("p",{staticClass:"small font-weight-bold text-muted text-center"},[t._v("No comments yet")])]):t._e(),t._v(" "),t.loaded&&t.comments&&t.comments.length?s("context-menu",{ref:"ctxMenu",attrs:{status:t.comments[t.contextIndex],profile:t.user},on:{"status-delete":t.deleteComment}}):t._e()],2)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text-muted"},[e("span",[e("i",{staticClass:"fal fa-at",staticStyle:{"font-size":"20px"}})]),this._v(" "),e("span",{staticClass:"ml-2"},[e("i",{staticClass:"fal fa-smile",staticStyle:{"font-size":"20px"}})])])}],!1,null,"75de54b7",null).exports),v={props:{post:{type:Object},user:{type:Object},media:{type:Array}},methods:{formatCount:function(t){return App.util.format.count(t)},timeago:function(t){return App.util.format.timeAgo(t)},likePost:function(){var t=this;event.currentTarget.blur();var e=1==this.post.favourited?"unfavourite":"favourite",s="/api/v1/statuses/".concat(this.post.id,"/").concat(e);axios.post(s).then((function(e){t.post.favourited=e.data.favourited,t.post.favourites_count=e.data.favourites_count}))}}},g=Object(o.a)(v,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"btn-group btn-block shadow-sm"},[s("button",{staticClass:"btn btn-light px-4",attrs:{disabled:!t.user},on:{click:function(e){return t.likePost()}}},[s("i",{staticClass:"fa-heart fa-2x",class:[t.post.favourited?"fas text-primary":"fal"]}),s("br"),t._v(" "),s("span",{staticClass:"small font-weight-bold"},[t._v(t._s(t.formatCount(t.post.favourites_count)))])]),t._v(" "),s("button",{staticClass:"btn btn-light px-4",attrs:{disabled:!t.user}},[s("i",{staticClass:"fal fa-retweet-alt fa-2x"}),s("br"),t._v(" "),s("span",{staticClass:"small font-weight-bold"},[t._v(t._s(t.formatCount(t.post.reblogs_count)))])]),t._v(" "),s("button",{staticClass:"btn btn-light px-4",attrs:{disabled:!t.user}},[s("i",{staticClass:"fal fa-comment fa-2x"}),s("br"),t._v(" "),s("span",{staticClass:"small font-weight-bold"},[t._v(t._s(t.formatCount(t.post.reply_count)))])])]),t._v(" "),s("hr"),t._v(" "),s("div",{staticClass:"d-flex justify-content-between align-items-center"},[s("span",{staticClass:"text-muted small font-weight-bold"},[t._v("Uploaded")]),t._v(" "),s("span",{staticClass:"font-weight-bold",attrs:{title:t.post.created_at}},[t._v(t._s(t.timeago(t.post.created_at))+" ago")])]),t._v(" "),s("hr"),t._v(" "),s("div",{staticClass:"d-flex justify-content-between align-items-center"},[s("span",{staticClass:"text-muted small font-weight-bold"},[t._v("Visibility")]),t._v(" "),s("span",{staticClass:"font-weight-bold text-capitalize"},[t._v(t._s(t.post.visibility))])]),t._v(" "),t.media&&t.media.length&&t.media[0].license?s("hr"):t._e(),t._v(" "),t.media&&t.media.length&&t.media[0].license?s("div",{staticClass:"d-flex justify-content-between align-items-center"},[s("span",{staticClass:"text-muted small font-weight-bold"},[t._v("License")]),t._v(" "),s("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.media[0].license.title))])]):t._e(),t._v(" "),t.post.place?s("hr"):t._e(),t._v(" "),t.post.place?s("div",{staticClass:"d-flex justify-content-between align-items-center"},[s("span",{staticClass:"text-muted small font-weight-bold"},[t._v("Location")]),t._v(" "),s("a",{staticClass:"font-weight-bold text-primary",attrs:{href:"/discover/places/"+t.post.place.id+"/"+t.post.place.slug}},[t._v(t._s(t.post.place.name)+", "+t._s(t.post.place.country))])]):t._e(),t._v(" "),s("hr"),t._v(" "),t._m(0),t._v(" "),s("hr")])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"d-flex justify-content-between align-items-center"},[e("span",{staticClass:"text-muted small font-weight-bold"},[this._v("Device")]),this._v(" "),e("span",{staticClass:"font-weight-bold text-primary"},[this._v("iPhone 13 Pro")])])}],!1,null,null,null).exports,b={props:{accountId:{type:String},postId:{type:String},username:{type:String},cachedStatus:{type:Object},cachedProfile:{type:Object}},components:{"status-card":i.a,"media-container":a,"author-card":c,"comments-card":f,sidebar:g},data:function(){return{loading:!0,shortcuts:void 0,user:void 0,profile:void 0,post:void 0,media:[],mediaIndex:0}},mounted:function(){this.init()},methods:{init:function(){this.cachedStatus&&this.cachedProfile?(this.post=this.cachedStatus,this.media=this.post.media_attachments,this.profile=this.post.account,this.user=this.cachedProfile,this.loading=!1):(this.fetchSelf(),this.fetchPost()),$("body").css("background-color","#F3F4F6")},fetchSelf:function(){var t=this;axios.get("/api/v1/accounts/verify_credentials").then((function(e){t.user=e.data,window._sharedData.curUser=t.user,window.App.util.navatar()}))},fetchPost:function(){var t=this;axios.get("/api/v2/profile/"+this.username+"/status/"+this.postId).then((function(e){t.post=e.data.status,t.media=t.post.media_attachments,t.profile=t.post.account,t.loading=!1,t.fetchState(t.post.account.username,t.post.id)})).catch((function(e){t.loading=!1}))},fetchState:function(t,e){var s=this;axios.get("/api/v2/profile/"+t+"/status/"+e+"/state").then((function(t){s.post.favourited=t.data.reactions.liked,s.post.reblogged=t.data.reactions.shared,!s.post.favourites_count&&s.post.favourited&&(s.post.favourites_count=1)}))},formatCount:function(t){return App.util.format.count(t)},timeago:function(t){return App.util.format.timeAgo(t)},likePost:function(){},toHashid:function(t){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",s=e.length,i="",n="";t;)t=(t-(n=t%s))/s,i=e[n]+i;return i},incrementCommentCount:function(){this.post.reply_count++},decrementCommentCount:function(){this.post.reply_count--},loadStatus:function(t){this.post=t,this.media=t.media_attachments,this.profile=t.account,this.fetchState(t.account.username,t.id)}}},x=(s("QVH2"),Object(o.a)(b,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"post-component"},[t.loading?s("div",{staticClass:"fsl"},[s("div",{staticClass:"fsl-spinner"},[s("b-spinner",{attrs:{variant:"light"}})],1)]):s("div",["text"===t.post.pf_type?s("div",{staticClass:"container"},[s("div",{staticClass:"row justify-content-center"},[s("div",{staticClass:"col-12 col-md-7 mt-4"},[t.post.in_reply_to_id?s("div",{staticClass:"card card-body shadow-none px-2 py-1 mb-1"},[s("p",{staticClass:"mb-0 text-muted"},[s("i",{staticClass:"far fa-reply mr-2"}),t._v(" In reply to "),s("a",{attrs:{href:"/s/"+t.toHashid(t.post.in_reply_to_id)}},[t._v(t._s(t.post.in_reply_to_id))])])]):t._e(),t._v(" "),s("status-card",{staticClass:"border-top",attrs:{status:t.post}})],1)])]):s("div",[s("media-container",{attrs:{post:t.post,media:t.media,profile:t.profile,user:t.user},on:{navigate:t.loadStatus}}),t._v(" "),s("div",{staticClass:"w-100 h-100"},[s("div",{staticClass:"container"},[s("div",{staticClass:"row mt-5"},[s("div",{staticClass:"col-12 col-md-8"},[s("author-card",{attrs:{post:t.post,user:t.user,profile:t.profile}}),t._v(" "),t.post.content&&t.post.content.length?s("div",{staticClass:"bg-light rounded-lg p-3 shadow-sm mb-3"},[s("p",{staticClass:"lead mb-0",domProps:{innerHTML:t._s(t.post.content)}})]):t._e(),t._v(" "),s("hr"),t._v(" "),s("comments-card",{attrs:{post:t.post,user:t.user},on:{"increment-comment-count":t.incrementCommentCount,"decrement-comment-count":t.decrementCommentCount}})],1),t._v(" "),s("div",{staticClass:"col-12 col-md-4 text-center"},[s("sidebar",{attrs:{post:t.post,user:t.user,media:t.media}})],1)])])])],1)])])}),[],!1,null,"1e507a59",null));e.default=x.exports},a0SW:function(t,e,s){var i=s("3hST");"string"==typeof i&&(i=[[t.i,i,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};s("aET+")(i,n);i.locals&&(t.exports=i.locals)},"aET+":function(t,e,s){var i,n,o={},a=(i=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===n&&(n=i.apply(this,arguments)),n}),r=function(t,e){return e?e.querySelector(t):document.querySelector(t)},l=function(t){var e={};return function(t,s){if("function"==typeof t)return t();if(void 0===e[t]){var i=r.call(this,t,s);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}e[t]=i}return e[t]}}(),c=null,u=0,d=[],p=s("9tPo");function m(t,e){for(var s=0;s<t.length;s++){var i=t[s],n=o[i.id];if(n){n.refs++;for(var a=0;a<n.parts.length;a++)n.parts[a](i.parts[a]);for(;a<i.parts.length;a++)n.parts.push(x(i.parts[a],e))}else{var r=[];for(a=0;a<i.parts.length;a++)r.push(x(i.parts[a],e));o[i.id]={id:i.id,refs:1,parts:r}}}}function h(t,e){for(var s=[],i={},n=0;n<t.length;n++){var o=t[n],a=e.base?o[0]+e.base:o[0],r={css:o[1],media:o[2],sourceMap:o[3]};i[a]?i[a].parts.push(r):s.push(i[a]={id:a,parts:[r]})}return s}function f(t,e){var s=l(t.insertInto);if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=d[d.length-1];if("top"===t.insertAt)i?i.nextSibling?s.insertBefore(e,i.nextSibling):s.appendChild(e):s.insertBefore(e,s.firstChild),d.push(e);else if("bottom"===t.insertAt)s.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var n=l(t.insertAt.before,s);s.insertBefore(e,n)}}function v(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=d.indexOf(t);e>=0&&d.splice(e,1)}function g(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var i=function(){0;return s.nc}();i&&(t.attrs.nonce=i)}return b(e,t.attrs),f(t,e),e}function b(t,e){Object.keys(e).forEach((function(s){t.setAttribute(s,e[s])}))}function x(t,e){var s,i,n,o;if(e.transform&&t.css){if(!(o="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=o}if(e.singleton){var a=u++;s=c||(c=g(e)),i=C.bind(null,s,a,!1),n=C.bind(null,s,a,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(s=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",b(e,t.attrs),f(t,e),e}(e),i=k.bind(null,s,e),n=function(){v(s),s.href&&URL.revokeObjectURL(s.href)}):(s=g(e),i=y.bind(null,s),n=function(){v(s)});return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else n()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=a()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var s=h(t,e);return m(s,e),function(t){for(var i=[],n=0;n<s.length;n++){var a=s[n];(r=o[a.id]).refs--,i.push(r)}t&&m(h(t,e),e);for(n=0;n<i.length;n++){var r;if(0===(r=i[n]).refs){for(var l=0;l<r.parts.length;l++)r.parts[l]();delete o[r.id]}}}};var _,w=(_=[],function(t,e){return _[t]=e,_.filter(Boolean).join("\n")});function C(t,e,s,i){var n=s?"":i.css;if(t.styleSheet)t.styleSheet.cssText=w(e,n);else{var o=document.createTextNode(n),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function y(t,e){var s=e.css,i=e.media;if(i&&t.setAttribute("media",i),t.styleSheet)t.styleSheet.cssText=s;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(s))}}function k(t,e,s){var i=s.css,n=s.sourceMap,o=void 0===e.convertToAbsoluteUrls&&n;(e.convertToAbsoluteUrls||o)&&(i=p(i)),n&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */");var a=new Blob([i],{type:"text/css"}),r=t.href;t.href=URL.createObjectURL(a),r&&URL.revokeObjectURL(r)}},"d+I4":function(t,e,s){"use strict";s.r(e);var i={props:["status"],data:function(){return{sensitive:this.status.sensitive}},methods:{altText:function(t){var e=t.media_attachments[0].description;return e||"Photo was not tagged with any alt text."},toggleContentWarning:function(t){this.$emit("togglecw")},toggleLightbox:function(){this.$emit("lightbox")},width:function(){if(this.status.media_attachments[0].meta&&this.status.media_attachments[0].meta.original&&this.status.media_attachments[0].meta.original.width)return this.status.media_attachments[0].meta.original.width},height:function(){if(this.status.media_attachments[0].meta&&this.status.media_attachments[0].meta.original&&this.status.media_attachments[0].meta.original.height)return this.status.media_attachments[0].meta.original.height}}},n=(s("A4gt"),s("KHd+")),o=Object(n.a)(i,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return 1==t.status.sensitive?s("div",{staticClass:"content-label-wrapper"},[s("div",{staticClass:"text-light content-label"},[t._m(0),t._v(" "),s("p",{staticClass:"h4 font-weight-bold text-center"},[t._v("\n\t\t\tSensitive Content\n\t\t")]),t._v(" "),s("p",{staticClass:"text-center py-2"},[t._v("\n\t\t\t"+t._s(t.status.spoiler_text?t.status.spoiler_text:"This post may contain sensitive content.")+"\n\t\t")]),t._v(" "),s("p",{staticClass:"mb-0"},[s("button",{staticClass:"btn btn-outline-light btn-block btn-sm font-weight-bold",on:{click:function(e){return t.toggleContentWarning()}}},[t._v("See Post")])])]),t._v(" "),s("blur-hash-image",{attrs:{width:"32",height:"32",punch:1,hash:t.status.media_attachments[0].blurhash,alt:t.altText(t.status)}})],1):s("div",[s("div",{staticStyle:{position:"relative"},attrs:{title:t.status.media_attachments[0].description}},[s("img",{staticClass:"card-img-top",attrs:{src:t.status.media_attachments[0].url,loading:"lazy",alt:t.altText(t.status),width:t.width(),height:t.height(),onerror:"this.onerror=null;this.src='/storage/no-preview.png'"},on:{click:function(e){return e.preventDefault(),t.toggleLightbox.apply(null,arguments)}}}),t._v(" "),!t.status.sensitive&&t.sensitive?s("p",{staticStyle:{"margin-top":"0",padding:"10px",color:"#fff","font-size":"10px","text-align":"right",position:"absolute",top:"0",right:"0","border-top-left-radius":"5px",cursor:"pointer",background:"linear-gradient(0deg, rgba(0,0,0,0.5), rgba(0,0,0,0.5))"},on:{click:function(e){t.status.sensitive=!0}}},[s("i",{staticClass:"fas fa-eye-slash fa-lg"})]):t._e(),t._v(" "),t.status.media_attachments[0].license?s("p",{staticStyle:{"margin-bottom":"0",padding:"0 5px",color:"#fff","font-size":"10px","text-align":"right",position:"absolute",bottom:"0",right:"0","border-top-left-radius":"5px",background:"linear-gradient(0deg, rgba(0,0,0,0.5), rgba(0,0,0,0.5))"}},[s("a",{staticClass:"font-weight-bold text-light",attrs:{href:t.status.url}},[t._v("Photo")]),t._v(" by "),s("a",{staticClass:"font-weight-bold text-light",attrs:{href:t.status.account.url}},[t._v("@"+t._s(t.status.account.username))]),t._v(" licensed under "),s("a",{staticClass:"font-weight-bold text-light",attrs:{href:t.status.media_attachments[0].license.url}},[t._v(t._s(t.status.media_attachments[0].license.title))])]):t._e()])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"text-center"},[e("i",{staticClass:"far fa-eye-slash fa-2x"})])}],!1,null,"95e5da64",null);e.default=o.exports},dfRi:function(t,e,s){var i=s("7n9v");"string"==typeof i&&(i=[[t.i,i,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};s("aET+")(i,n);i.locals&&(t.exports=i.locals)},exej:function(t,e,s){"use strict";s.r(e);var i={props:["status"]},n=s("KHd+"),o=Object(n.a)(i,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return 1==t.status.sensitive?s("div",[s("details",{staticClass:"details-animated"},[s("summary",[s("p",{staticClass:"mb-0 lead font-weight-bold"},[t._v(t._s(t.status.spoiler_text?t.status.spoiler_text:"CW / NSFW / Hidden Media"))]),t._v(" "),s("p",{staticClass:"font-weight-light"},[t._v("(click to show)")])]),t._v(" "),s("b-carousel",{staticStyle:{"text-shadow":"1px 1px 2px #333","background-color":"#000"},attrs:{id:t.status.id+"-carousel",controls:"","img-blank":"",background:"#ffffff",interval:0}},t._l(t.status.media_attachments,(function(e,i){return s("b-carousel-slide",{key:e.id+"-media"},["Video"==e.type?s("video",{staticClass:"embed-responsive-item",attrs:{slot:"img",preload:"none",controls:"",playsinline:"",loop:"",alt:e.description,width:"100%",height:"100%",poster:e.preview_url},slot:"img"},[s("source",{attrs:{src:e.url,type:e.mime}})]):"Image"==e.type?s("div",{attrs:{slot:"img",title:e.description},slot:"img"},[s("img",{class:e.filter_class+" d-block img-fluid w-100",attrs:{src:e.url,alt:e.description,loading:"lazy",onerror:"this.onerror=null;this.src='/storage/no-preview.png'"}})]):s("p",{staticClass:"text-center p-0 font-weight-bold text-white"},[t._v("Error: Problem rendering preview.")])])})),1)],1)]):s("div",{staticClass:"w-100 h-100 p-0"},[s("carousel",{ref:"carousel",staticClass:"p-0 m-0",attrs:{centerMode:!0,loop:!1,"per-page":1,paginationPosition:"bottom-overlay",paginationActiveColor:"#3897f0",paginationColor:"#dbdbdb"}},t._l(t.status.media_attachments,(function(e,i){return s("slide",{key:"px-carousel-"+e.id+"-"+i,staticClass:"w-100 h-100 d-block mx-auto text-center",staticStyle:{background:"#000",display:"flex","align-items":"center"}},["Video"==e.type?s("video",{staticClass:"embed-responsive-item",attrs:{preload:"none",controls:"",loop:"",title:e.description,width:"100%",height:"100%",poster:e.preview_url}},[s("source",{attrs:{src:e.url,type:e.mime}})]):"Image"==e.type?s("div",{attrs:{title:e.description}},[s("img",{class:e.filter_class+" img-fluid w-100",attrs:{src:e.url,alt:e.description,loading:"lazy",onerror:"this.onerror=null;this.src='/storage/no-preview.png'"}})]):s("p",{staticClass:"text-center p-0 font-weight-bold text-white"},[t._v("Error: Problem rendering preview.")])])})),1)],1)}),[],!1,null,null,null);e.default=o.exports},"h/Wo":function(t,e,s){var i=s("+WV8");"string"==typeof i&&(i=[[t.i,i,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};s("aET+")(i,n);i.locals&&(t.exports=i.locals)},i3gq:function(t,e,s){var i=s("0ox+");"string"==typeof i&&(i=[[t.i,i,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};s("aET+")(i,n);i.locals&&(t.exports=i.locals)},iKvg:function(t,e,s){var i=s("x784");"string"==typeof i&&(i=[[t.i,i,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};s("aET+")(i,n);i.locals&&(t.exports=i.locals)},"lb/t":function(t,e,s){"use strict";(function(t){function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function n(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function o(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?n(Object(s),!0).forEach((function(e){i(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var a=function(t,e){return t.matches?t.matches(e):t.msMatchesSelector?t.msMatchesSelector(e):t.webkitMatchesSelector?t.webkitMatchesSelector(e):null},r=function(t,e){return t.closest?t.closest(e):function(t,e){for(var s=t;s&&1===s.nodeType;){if(a(s,e))return s;s=s.parentNode}return null}(t,e)},l=function(t){return Boolean(t&&"function"==typeof t.then)},c=function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=n.search,a=n.autoSelect,c=void 0!==a&&a,u=n.setValue,d=void 0===u?function(){}:u,p=n.setAttribute,m=void 0===p?function(){}:p,h=n.onUpdate,f=void 0===h?function(){}:h,v=n.onSubmit,g=void 0===v?function(){}:v,b=n.onShow,x=void 0===b?function(){}:b,_=n.onHide,w=void 0===_?function(){}:_,C=n.onLoading,y=void 0===C?function(){}:C,k=n.onLoaded,S=void 0===k?function(){}:k;s(this,t),i(this,"value",""),i(this,"searchCounter",0),i(this,"results",[]),i(this,"selectedIndex",-1),i(this,"handleInput",(function(t){var s=t.target.value;e.updateResults(s),e.value=s})),i(this,"handleKeyDown",(function(t){var s=t.key;switch(s){case"Up":case"Down":case"ArrowUp":case"ArrowDown":var i="ArrowUp"===s||"Up"===s?e.selectedIndex-1:e.selectedIndex+1;t.preventDefault(),e.handleArrows(i);break;case"Tab":e.selectResult();break;case"Enter":var n=e.results[e.selectedIndex];e.selectResult(),e.onSubmit(n);break;case"Esc":case"Escape":e.hideResults(),e.setValue();break;default:return}})),i(this,"handleFocus",(function(t){var s=t.target.value;e.updateResults(s),e.value=s})),i(this,"handleBlur",(function(){e.hideResults()})),i(this,"handleResultMouseDown",(function(t){t.preventDefault()})),i(this,"handleResultClick",(function(t){var s=t.target,i=r(s,"[data-result-index]");if(i){e.selectedIndex=parseInt(i.dataset.resultIndex,10);var n=e.results[e.selectedIndex];e.selectResult(),e.onSubmit(n)}})),i(this,"handleArrows",(function(t){var s=e.results.length;e.selectedIndex=(t%s+s)%s,e.onUpdate(e.results,e.selectedIndex)})),i(this,"selectResult",(function(){var t=e.results[e.selectedIndex];t&&e.setValue(t),e.hideResults()})),i(this,"updateResults",(function(t){var s=++e.searchCounter;e.onLoading(),e.search(t).then((function(t){s===e.searchCounter&&(e.results=t,e.onLoaded(),0!==e.results.length?(e.selectedIndex=e.autoSelect?0:-1,e.onUpdate(e.results,e.selectedIndex),e.showResults()):e.hideResults())}))})),i(this,"showResults",(function(){e.setAttribute("aria-expanded",!0),e.onShow()})),i(this,"hideResults",(function(){e.selectedIndex=-1,e.results=[],e.setAttribute("aria-expanded",!1),e.setAttribute("aria-activedescendant",""),e.onUpdate(e.results,e.selectedIndex),e.onHide()})),i(this,"checkSelectedResultVisible",(function(t){var s=t.querySelector('[data-result-index="'.concat(e.selectedIndex,'"]'));if(s){var i=t.getBoundingClientRect(),n=s.getBoundingClientRect();n.top<i.top?t.scrollTop-=i.top-n.top:n.bottom>i.bottom&&(t.scrollTop+=n.bottom-i.bottom)}})),this.search=l(o)?o:function(t){return Promise.resolve(o(t))},this.autoSelect=c,this.setValue=d,this.setAttribute=m,this.onUpdate=f,this.onSubmit=g,this.onShow=x,this.onHide=w,this.onLoading=y,this.onLoaded=S},u=0,d=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat(t).concat(++u)};const p=function(t,e,s,i,n,o,a,r,l,c){"boolean"!=typeof a&&(l=r,r=a,a=!1);const u="function"==typeof s?s.options:s;let d;if(t&&t.render&&(u.render=t.render,u.staticRenderFns=t.staticRenderFns,u._compiled=!0,n&&(u.functional=!0)),i&&(u._scopeId=i),o?(d=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,l(t)),t&&t._registeredComponents&&t._registeredComponents.add(o)},u._ssrRegister=d):e&&(d=a?function(t){e.call(this,c(t,this.$root.$options.shadowRoot))}:function(t){e.call(this,r(t))}),d)if(u.functional){const t=u.render;u.render=function(e,s){return d.call(s),t(e,s)}}else{const t=u.beforeCreate;u.beforeCreate=t?[].concat(t,d):[d]}return s}({render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"root"},[t._t("default",[s("div",t._b({},"div",t.rootProps,!1),[s("input",t._g(t._b({ref:"input",on:{input:t.handleInput,keydown:t.core.handleKeyDown,focus:t.core.handleFocus,blur:t.core.handleBlur}},"input",t.inputProps,!1),t.$listeners)),t._v(" "),s("ul",t._g(t._b({ref:"resultList"},"ul",t.resultListProps,!1),t.resultListListeners),[t._l(t.results,(function(e,i){return[t._t("result",[s("li",t._b({key:t.resultProps[i].id},"li",t.resultProps[i],!1),[t._v("\n              "+t._s(t.getResultValue(e))+"\n            ")])],{result:e,props:t.resultProps[i]})]}))],2)])],{rootProps:t.rootProps,inputProps:t.inputProps,inputListeners:t.inputListeners,resultListProps:t.resultListProps,resultListListeners:t.resultListListeners,results:t.results,resultProps:t.resultProps})],2)},staticRenderFns:[]},void 0,{name:"Autocomplete",inheritAttrs:!1,props:{search:{type:Function,required:!0},baseClass:{type:String,default:"autocomplete"},autoSelect:{type:Boolean,default:!1},getResultValue:{type:Function,default:function(t){return t}},defaultValue:{type:String,default:""},debounceTime:{type:Number,default:0}},data:function(){var t,e,s,i,n=new c({search:this.search,autoSelect:this.autoSelect,setValue:this.setValue,onUpdate:this.handleUpdate,onSubmit:this.handleSubmit,onShow:this.handleShow,onHide:this.handleHide,onLoading:this.handleLoading,onLoaded:this.handleLoaded});return this.debounceTime>0&&(n.handleInput=(t=n.handleInput,e=this.debounceTime,function(){var n=this,o=arguments,a=function(){i=null,s||t.apply(n,o)},r=s&&!i;clearTimeout(i),i=setTimeout(a,e),r&&t.apply(n,o)})),{core:n,value:this.defaultValue,resultListId:d("".concat(this.baseClass,"-result-list-")),results:[],selectedIndex:-1,expanded:!1,loading:!1,position:"below",resetPosition:!0}},computed:{rootProps:function(){return{class:this.baseClass,style:{position:"relative"},"data-expanded":this.expanded,"data-loading":this.loading,"data-position":this.position}},inputProps:function(){return o({class:"".concat(this.baseClass,"-input"),value:this.value,role:"combobox",autocomplete:"off",autocapitalize:"off",autocorrect:"off",spellcheck:"false","aria-autocomplete":"list","aria-haspopup":"listbox","aria-owns":this.resultListId,"aria-expanded":this.expanded?"true":"false","aria-activedescendant":this.selectedIndex>-1?this.resultProps[this.selectedIndex].id:""},this.$attrs)},inputListeners:function(){return{input:this.handleInput,keydown:this.core.handleKeyDown,focus:this.core.handleFocus,blur:this.core.handleBlur}},resultListProps:function(){var t="below"===this.position?"top":"bottom";return{id:this.resultListId,class:"".concat(this.baseClass,"-result-list"),role:"listbox",style:i({position:"absolute",zIndex:1,width:"100%",visibility:this.expanded?"visible":"hidden",pointerEvents:this.expanded?"auto":"none"},t,"100%")}},resultListListeners:function(){return{mousedown:this.core.handleResultMouseDown,click:this.core.handleResultClick}},resultProps:function(){var t=this;return this.results.map((function(e,s){return o({id:"".concat(t.baseClass,"-result-").concat(s),class:"".concat(t.baseClass,"-result"),"data-result-index":s,role:"option"},t.selectedIndex===s?{"aria-selected":"true"}:{})}))}},mounted:function(){document.body.addEventListener("click",this.handleDocumentClick)},beforeDestroy:function(){document.body.removeEventListener("click",this.handleDocumentClick)},updated:function(){var t,e,s,i;this.$refs.input&&this.$refs.resultList&&(this.resetPosition&&this.results.length>0&&(this.resetPosition=!1,this.position=(t=this.$refs.input,e=this.$refs.resultList,s=t.getBoundingClientRect(),i=e.getBoundingClientRect(),s.bottom+i.height>window.innerHeight&&window.innerHeight-s.bottom<s.top&&window.pageYOffset+s.top-i.height>0?"above":"below")),this.core.checkSelectedResultVisible(this.$refs.resultList))},methods:{setValue:function(t){this.value=t?this.getResultValue(t):""},handleUpdate:function(t,e){this.results=t,this.selectedIndex=e,this.$emit("update",t,e)},handleShow:function(){this.expanded=!0},handleHide:function(){this.expanded=!1,this.resetPosition=!0},handleLoading:function(){this.loading=!0},handleLoaded:function(){this.loading=!1},handleInput:function(t){this.value=t.target.value,this.core.handleInput(t)},handleSubmit:function(t){this.$emit("submit",t)},handleDocumentClick:function(t){this.$refs.root.contains(t.target)||this.core.hideResults()}}},void 0,!1,void 0,!1,void 0,void 0,void 0);function m(t){m.installed||(m.installed=!0,t.component("Autocomplete",p))}var h,f={install:m};"undefined"!=typeof window?h=window.Vue:void 0!==t&&(h=t.Vue),h&&h.use(f),p.install=m,e.a=p}).call(this,s("yLpj"))},m31g:function(t,e,s){"use strict";s("a0SW")},"na7+":function(t,e,s){var i=s("OCAn");"string"==typeof i&&(i=[[t.i,i,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};s("aET+")(i,n);i.locals&&(t.exports=i.locals)},ngXG:function(t,e,s){"use strict";var i=s("1gDp"),n={props:{reactions:{type:Object},status:{type:Object},profile:{type:Object},showBorder:{type:Boolean,default:!0},showBorderTop:{type:Boolean,default:!1},fetchState:{type:Boolean,default:!1}},components:{"context-menu":i.a},data:function(){return{authenticated:!1,tab:"vote",selectedIndex:null,refreshTimeout:void 0,activeRefreshTimeout:!1,refreshingResults:!1}},mounted:function(){var t=this;this.fetchState?axios.get("/api/v1/polls/"+this.status.poll.id).then((function(e){t.status.poll=e.data,e.data.voted&&(t.selectedIndex=e.data.own_votes[0],t.tab="voted"),t.status.poll.expired=new Date(t.status.poll.expires_at)<new Date,t.status.poll.expired&&(t.tab=t.status.poll.voted?"voted":"results")})):(this.status.poll.voted&&(this.tab="voted"),this.status.poll.expired=new Date(this.status.poll.expires_at)<new Date,this.status.poll.expired&&(this.tab=this.status.poll.voted?"voted":"results"),this.status.poll.own_votes.length&&(this.selectedIndex=this.status.poll.own_votes[0])),this.authenticated=$("body").hasClass("loggedIn")},methods:{selectOption:function(t){event.currentTarget.blur(),this.selectedIndex=t},submitVote:function(){var t=this;axios.post("/api/v1/polls/"+this.status.poll.id+"/votes",{choices:[this.selectedIndex]}).then((function(e){console.log(e.data),t.status.poll=e.data})),this.tab="voted"},viewResultsTab:function(){this.tab="results"},viewPollTab:function(){this.tab=null!=this.selectedIndex?"voted":"vote"},formatCount:function(t){return App.util.format.count(t)},statusUrl:function(t){return 1==t.local?t.url:"/i/web/post/_/"+t.account.id+"/"+t.id},profileUrl:function(t){return 1==t.local?t.account.url:"/i/web/profile/_/"+t.account.id},timestampFormat:function(t){var e=new Date(t);return e.toDateString()+" "+e.toLocaleTimeString()},shortTimestamp:function(t){return window.App.util.format.timeAgo(t)},shortTimestampAhead:function(t){return window.App.util.format.timeAhead(t)},refreshResults:function(){var t=this;this.activeRefreshTimeout=!0,this.refreshingResults=!0,axios.get("/api/v1/polls/"+this.status.poll.id).then((function(e){t.status.poll=e.data,t.status.poll.voted&&(t.selectedIndex=t.status.poll.own_votes[0],t.tab="voted",t.setActiveRefreshTimeout(),t.refreshingResults=!1)})).catch((function(e){swal("Oops!","An error occured while fetching the latest poll results. Please try again later.","error"),t.setActiveRefreshTimeout(),t.refreshingResults=!1}))},setActiveRefreshTimeout:function(){var t=this;this.refreshTimeout=setTimeout((function(){t.activeRefreshTimeout=!1}),3e4)},statusDeleted:function(t){this.$emit("status-delete",t)},ctxMenu:function(){this.$refs.contextMenu.open()},likeStatus:function(){this.$emit("likeStatus",this.status)},calculatePercentage:function(t){var e=this.status;return 0==e.poll.votes_count?0:Math.round(t.votes_count/e.poll.votes_count*100)}}},o=s("KHd+"),a=Object(o.a)(n,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"card shadow-none rounded-0",class:{border:t.showBorder,"border-top-0":!t.showBorderTop}},[s("div",{staticClass:"card-body"},[s("div",{staticClass:"media"},[s("img",{staticClass:"rounded-circle box-shadow mr-2",attrs:{src:t.status.account.avatar,width:"32px",height:"32px",alt:"avatar"}}),t._v(" "),s("div",{staticClass:"media-body"},[s("div",{staticClass:"pl-2 d-flex align-items-top"},[s("a",{staticClass:"username font-weight-bold text-dark text-decoration-none text-break",attrs:{href:"#"}},[t._v("\n\t\t\t\t\t\t\t"+t._s(t.status.account.acct)+"\n\t\t\t\t\t\t")]),t._v(" "),s("span",{staticClass:"px-1 text-lighter"},[t._v("\n\t\t\t\t\t\t\t·\n\t\t\t\t\t\t")]),t._v(" "),s("a",{staticClass:"font-weight-bold text-lighter",attrs:{href:t.statusUrl(t.status)}},[t._v("\n\t\t\t\t\t\t\t"+t._s(t.shortTimestamp(t.status.created_at))+"\n\t\t\t\t\t\t")]),t._v(" "),s("span",{staticClass:"d-none d-md-block px-1 text-lighter"},[t._v("\n\t\t\t\t\t\t\t·\n\t\t\t\t\t\t")]),t._v(" "),t._m(0),t._v(" "),s("span",{staticClass:"d-none d-md-block px-1 text-lighter"},[t._v("\n\t\t\t\t\t\t\t·\n\t\t\t\t\t\t")]),t._v(" "),s("span",{staticClass:"d-none d-md-block px-1 text-lighter font-weight-bold"},[t.status.poll.expired?s("span",[t._v("\n\t\t\t\t\t\t\t\tClosed\n\t\t\t\t\t\t\t")]):s("span",[t._v("\n\t\t\t\t\t\t\t\tCloses in "+t._s(t.shortTimestampAhead(t.status.poll.expires_at))+"\n\t\t\t\t\t\t\t")])]),t._v(" "),s("span",{staticClass:"text-right",staticStyle:{"flex-grow":"1"}},[s("button",{staticClass:"btn btn-link text-dark py-0",attrs:{type:"button"},on:{click:function(e){return t.ctxMenu()}}},[s("span",{staticClass:"fas fa-ellipsis-h text-lighter"}),t._v(" "),s("span",{staticClass:"sr-only"},[t._v("Post Menu")])])])]),t._v(" "),s("div",{staticClass:"pl-2"},[s("div",{staticClass:"poll py-3"},[s("div",{staticClass:"pt-2 text-break d-flex align-items-center mb-3",staticStyle:{"font-size":"17px"}},[t._m(1),t._v(" "),s("span",{staticClass:"font-weight-bold ml-3",domProps:{innerHTML:t._s(t.status.content)}})]),t._v(" "),s("div",{staticClass:"mb-2"},["vote"===t.tab?s("div",[t._l(t.status.poll.options,(function(e,i){return s("p",[s("button",{staticClass:"btn btn-block lead rounded-pill",class:[i==t.selectedIndex?"btn-primary":"btn-outline-primary"],attrs:{disabled:!t.authenticated},on:{click:function(e){return t.selectOption(i)}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.title)+"\n\t\t\t\t\t\t\t\t\t\t")])])})),t._v(" "),null!=t.selectedIndex?s("p",{staticClass:"text-right"},[s("button",{staticClass:"btn btn-primary btn-sm font-weight-bold px-3",on:{click:function(e){return t.submitVote()}}},[t._v("Vote")])]):t._e()],2):"voted"===t.tab?s("div",t._l(t.status.poll.options,(function(e,i){return s("div",{staticClass:"mb-3"},[s("button",{staticClass:"btn btn-block lead rounded-pill",class:[i==t.selectedIndex?"btn-primary":"btn-outline-secondary"],attrs:{disabled:""}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.title)+"\n\t\t\t\t\t\t\t\t\t\t")]),t._v(" "),s("div",{staticClass:"font-weight-bold"},[s("span",{staticClass:"text-muted"},[t._v(t._s(t.calculatePercentage(e))+"%")]),t._v(" "),s("span",{staticClass:"small text-lighter"},[t._v("("+t._s(e.votes_count)+" "+t._s(1==e.votes_count?"vote":"votes")+")")])])])})),0):"results"===t.tab?s("div",t._l(t.status.poll.options,(function(e,i){return s("div",{staticClass:"mb-3"},[s("button",{staticClass:"btn btn-outline-secondary btn-block lead rounded-pill",attrs:{disabled:""}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.title)+"\n\t\t\t\t\t\t\t\t\t\t")]),t._v(" "),s("div",{staticClass:"font-weight-bold"},[s("span",{staticClass:"text-muted"},[t._v(t._s(t.calculatePercentage(e))+"%")]),t._v(" "),s("span",{staticClass:"small text-lighter"},[t._v("("+t._s(e.votes_count)+" "+t._s(1==e.votes_count?"vote":"votes")+")")])])])})),0):t._e()]),t._v(" "),s("div",[s("p",{staticClass:"mb-0 small text-lighter font-weight-bold d-flex justify-content-between"},[s("span",[t._v(t._s(t.status.poll.votes_count)+" votes")]),t._v(" "),"results"!=t.tab&&t.authenticated&&!t.activeRefreshTimeout&1!=t.status.poll.expired&&t.status.poll.voted?s("a",{staticClass:"text-lighter",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.refreshResults()}}},[t._v("Refresh Results")]):t._e(),t._v(" "),"results"!=t.tab&&t.authenticated&&t.refreshingResults?s("span",{staticClass:"text-lighter"},[t._m(2)]):t._e()])]),t._v(" "),s("div",[s("span",{staticClass:"d-block d-md-none small text-lighter font-weight-bold"},[t.status.poll.expired?s("span",[t._v("\n\t\t\t\t\t\t\t\t\t\tClosed\n\t\t\t\t\t\t\t\t\t")]):s("span",[t._v("\n\t\t\t\t\t\t\t\t\t\tCloses in "+t._s(t.shortTimestampAhead(t.status.poll.expires_at))+"\n\t\t\t\t\t\t\t\t\t")])])])])])])])])]),t._v(" "),s("context-menu",{ref:"contextMenu",attrs:{status:t.status,profile:t.profile},on:{"status-delete":t.statusDeleted}})],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"d-none d-md-block px-1 text-primary font-weight-bold"},[e("i",{staticClass:"fas fa-poll-h"}),this._v(" Poll "),e("sup",{staticClass:"text-lighter"},[this._v("BETA")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"btn btn-primary px-2 py-1"},[e("i",{staticClass:"fas fa-poll-h fa-lg"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[this._v("Loading...")])])}],!1,null,null,null);e.a=a.exports},oUKU:function(t,e,s){var i=s("T5SB");"string"==typeof i&&(i=[[t.i,i,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};s("aET+")(i,n);i.locals&&(t.exports=i.locals)},oXZq:function(t,e,s){var i=s("xLyW");"string"==typeof i&&(i=[[t.i,i,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};s("aET+")(i,n);i.locals&&(t.exports=i.locals)},qWIm:function(t,e,s){"use strict";s("NOE/")},uLPH:function(t,e,s){var i=s("CIxD");"string"==typeof i&&(i=[[t.i,i,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};s("aET+")(i,n);i.locals&&(t.exports=i.locals)},x784:function(t,e,s){(t.exports=s("I1BE")(!1)).push([t.i,"\n.text-lighter[data-v-1002e7e2] {\n\tcolor:#B8C2CC !important;\n}\n.modal-body[data-v-1002e7e2] {\n\tpadding: 0;\n}\n",""])},xLyW:function(t,e,s){(t.exports=s("I1BE")(!1)).push([t.i,".post-component[data-v-1e507a59] {\n  width: 100%;\n  height: 100%;\n  margin-bottom: 50vh;\n}\n.post-component .bg-black[data-v-1e507a59] {\n  background-color: #000;\n}\n.fsl[data-v-1e507a59] {\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  width: 100%;\n  height: 100%;\n  overflow: hidden !important;\n  background-color: rgba(0, 0, 0, 0.7);\n  z-index: 100;\n}\n.fsl-spinner[data-v-1e507a59] {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translateX(-50%);\n  transform: translateY(-50%);\n}",""])},yLpj:function(t,e){var s;s=function(){return this}();try{s=s||new Function("return this")()}catch(t){"object"==typeof window&&(s=window)}t.exports=s},yric:function(t,e,s){"use strict";s.r(e);var i={props:["feed","status","profile","size","modal"],data:function(){return{activeSession:!1}},mounted:function(){var t=document.querySelector("body");this.activeSession=!!t.classList.contains("loggedIn")},methods:{reportUrl:function(t){return"/i/report?type="+(t.in_reply_to?"comment":"post")+"&id="+t.id},timestampFormat:function(t){var e=new Date(t);return e.toDateString()+" "+e.toLocaleTimeString()},editUrl:function(t){return t.url+"/edit"},redirect:function(t){window.location.href=t},replyUrl:function(t){return"/p/"+this.profile.username+"/"+(t.account.id==this.profile.id?t.id:t.in_reply_to_id)},mentionUrl:function(t){return"/p/"+t.account.username+"/"+t.id},statusOwner:function(t){return parseInt(t.account.id)==parseInt(this.profile.id)},deletePost:function(){this.$emit("deletePost"),$("#mt_pid_"+this.status.id).modal("hide")},hidePost:function(t){t.sensitive=!0,$("#mt_pid_"+t.id).modal("hide")},moderatePost:function(t,e,s){var i=t.account.username;switch(e){case"autocw":var n="Are you sure you want to enforce CW for "+i+" ?";swal({title:"Confirm",text:n,icon:"warning",buttons:!0,dangerMode:!0});break;case"suspend":n="Are you sure you want to suspend the account of "+i+" ?",swal({title:"Confirm",text:n,icon:"warning",buttons:!0,dangerMode:!0})}},muteProfile:function(t){0!=$("body").hasClass("loggedIn")&&axios.post("/i/mute",{type:"user",item:t.account.id}).then((function(e){swal("Success","You have successfully muted "+t.account.acct,"success")})).catch((function(t){swal("Error","Something went wrong. Please try again later.","error")}))},blockProfile:function(t){0!=$("body").hasClass("loggedIn")&&axios.post("/i/block",{type:"user",item:t.account.id}).then((function(e){swal("Success","You have successfully blocked "+t.account.acct,"success")})).catch((function(t){swal("Error","Something went wrong. Please try again later.","error")}))},statusUrl:function(t){return 1==t.local?t.url:"/i/web/post/_/"+t.account.id+"/"+t.id},profileUrl:function(t){return 1==t.local?t.account.url:"/i/web/profile/_/"+t.account.id},closeModal:function(){$("#mt_pid_"+this.status.id).modal("hide")}}},n=(s("zzgW"),s("KHd+")),o=Object(n.a)(i,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",["true"!=t.modal?s("div",{staticClass:"dropdown"},[s("button",{staticClass:"btn btn-link text-dark no-caret dropdown-toggle py-0",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",title:"Post options"}},[s("span",{class:["lg"==t.size?"fas fa-ellipsis-v fa-lg text-muted":"fas fa-ellipsis-v fa-sm text-lighter"]})]),t._v(" "),s("div",{staticClass:"dropdown-menu dropdown-menu-right"},[s("a",{staticClass:"dropdown-item font-weight-bold text-decoration-none",attrs:{href:t.status.url}},[t._v("Go to post")]),t._v(" "),1==t.activeSession&&0==t.statusOwner(t.status)?s("span",[s("a",{staticClass:"dropdown-item font-weight-bold",attrs:{href:t.reportUrl(t.status)}},[t._v("Report")])]):t._e(),t._v(" "),1==t.activeSession&&1==t.statusOwner(t.status)?s("span",[s("a",{staticClass:"dropdown-item font-weight-bold text-decoration-none",on:{click:function(e){return e.preventDefault(),t.muteProfile(t.status)}}},[t._v("Mute Profile")]),t._v(" "),s("a",{staticClass:"dropdown-item font-weight-bold text-decoration-none",on:{click:function(e){return e.preventDefault(),t.blockProfile(t.status)}}},[t._v("Block Profile")])]):t._e(),t._v(" "),1==t.activeSession&&1==t.profile.is_admin?s("span",[s("div",{staticClass:"dropdown-divider"}),t._v(" "),s("a",{staticClass:"dropdown-item font-weight-bold text-danger text-decoration-none",on:{click:function(e){return t.deletePost(t.status)}}},[t._v("Delete")]),t._v(" "),s("div",{staticClass:"dropdown-divider"}),t._v(" "),s("h6",{staticClass:"dropdown-header"},[t._v("Mod Tools")]),t._v(" "),s("a",{staticClass:"dropdown-item font-weight-bold text-decoration-none",on:{click:function(e){return t.moderatePost(t.status,"autocw")}}},[s("p",{staticClass:"mb-0"},[t._v("Enforce CW")]),t._v(" "),t._m(0)]),t._v(" "),s("a",{staticClass:"dropdown-item font-weight-bold text-decoration-none",on:{click:function(e){return t.moderatePost(t.status,"noautolink")}}},[s("p",{staticClass:"mb-0"},[t._v("No Autolinking")]),t._v(" "),t._m(1)]),t._v(" "),s("a",{staticClass:"dropdown-item font-weight-bold text-decoration-none",on:{click:function(e){return t.moderatePost(t.status,"unlisted")}}},[s("p",{staticClass:"mb-0"},[t._v("Unlisted Posts")]),t._v(" "),t._m(2)]),t._v(" "),s("a",{staticClass:"dropdown-item font-weight-bold text-decoration-none",on:{click:function(e){return t.moderatePost(t.status,"disable")}}},[s("p",{staticClass:"mb-0"},[t._v("Disable Account")]),t._v(" "),t._m(3)]),t._v(" "),s("a",{staticClass:"dropdown-item font-weight-bold text-decoration-none",on:{click:function(e){return t.moderatePost(t.status,"suspend")}}},[s("p",{staticClass:"mb-0"},[t._v("Suspend Account")]),t._v(" "),t._m(4)])]):t._e()])]):t._e(),t._v(" "),"true"==t.modal?s("div",[s("span",{attrs:{"data-toggle":"modal","data-target":"#mt_pid_"+t.status.id}},[s("span",{class:["lg"==t.size?"fas fa-ellipsis-v fa-lg text-muted":"fas fa-ellipsis-v fa-sm text-lighter"]})]),t._v(" "),s("div",{staticClass:"modal",attrs:{tabindex:"-1",role:"dialog",id:"mt_pid_"+t.status.id}},[s("div",{staticClass:"modal-dialog modal-sm modal-dialog-centered",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-body text-center"},[s("div",{staticClass:"list-group"},[s("a",{staticClass:"list-group-item text-dark text-decoration-none",attrs:{href:t.statusUrl(t.status)}},[t._v("Go to post")]),t._v(" "),s("a",{staticClass:"list-group-item text-dark text-decoration-none",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.hidePost(t.status)}}},[t._v("Hide")]),t._v(" "),1!=t.activeSession||t.statusOwner(t.status)?t._e():s("a",{staticClass:"list-group-item text-danger font-weight-bold text-decoration-none",attrs:{href:t.reportUrl(t.status)}},[t._v("Report")]),t._v(" "),1==t.activeSession&&1==t.statusOwner(t.status)||1==t.profile.is_admin?s("div",{staticClass:"list-group-item text-danger font-weight-bold cursor-pointer",on:{click:function(e){return e.preventDefault(),t.deletePost.apply(null,arguments)}}},[t._v("Delete")]):t._e(),t._v(" "),s("a",{staticClass:"list-group-item text-lighter text-decoration-none",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.closeModal()}}},[t._v("Close")])])])])])])]):t._e()])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"mb-0  small text-muted"},[this._v("Adds a CW to every post "),e("br"),this._v(" made by this account.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"mb-0 small text-muted"},[this._v("Do not transform mentions, "),e("br"),this._v(" hashtags or urls into HTML.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"mb-0 small text-muted"},[this._v("Removes account from "),e("br"),this._v(" public/network timelines.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"mb-0 small text-muted"},[this._v("Temporarily disable account "),e("br"),this._v(" until next time user log in.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"mb-0 small text-muted"},[this._v("This prevents any new interactions, "),e("br"),this._v(" without deleting existing data.")])}],!1,null,"1002e7e2",null);e.default=o.exports},"z6B+":function(t,e,s){var i=s("ArTN");"string"==typeof i&&(i=[[t.i,i,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};s("aET+")(i,n);i.locals&&(t.exports=i.locals)},zzgW:function(t,e,s){"use strict";s("iKvg")}},[[5,0]]]);