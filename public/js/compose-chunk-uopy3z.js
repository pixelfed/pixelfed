"use strict";(self.webpackChunkpixelfed=self.webpackChunkpixelfed||[]).push([[47],{31453:(t,e,i)=>{i.r(e),i.d(e,{default:()=>l});var s=i(42755),a=i(88231),o=i(14205),n=i(64439);const l={components:{drawer:s.default,sidebar:a.default,"compose-desktop":o.default,"compose-modal":n.default},data:function(){return{isLoaded:!1,profile:void 0,showNew:!1}},mounted:function(){this.profile=window._sharedData.user,this.isLoaded=!0;var t=new URLSearchParams(window.location.search);t.has("fl")&&"v5"==t.get("fl")&&(this.showNew=!0)},methods:{closeModal:function(){this.$router.push("/i/web")}}}},61043:(t,e,i)=>{i.r(e),i.d(e,{default:()=>r});var s=i(17652),a=(i(81943),i(29655)),o=(i(99101),i(15235));function n(t){return function(t){if(Array.isArray(t))return l(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return l(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return l(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,s=new Array(e);i<e;i++)s[i]=t[i];return s}const r={components:{VueCropper:s.default,Autocomplete:a.default,VueTribute:o.default},data:function(){return{config:App.config,tab:"home",tabs:["home","crop","edit","caption","alt-text","settings"],profile:[],media:[],mediaIndex:0,maxFileSize:15e3,ids:[],activeCrop:!1,cropRatios:[0,1,.8,16/9],cropRatio:0,crops:[],filters:App.util.filters,activeFilter:null,composeText:null,composeScope:"public",composeDisabledComments:!1,tributeSettings:{collection:[{trigger:"@",menuShowMinLength:2,values:function(t,e){axios.get("/api/compose/v0/search/mention",{params:{q:t}}).then((function(t){e(t.data)})).catch((function(t){console.log(t)}))}},{trigger:"#",menuShowMinLength:2,values:function(t,e){axios.get("/api/compose/v0/search/hashtag",{params:{q:t}}).then((function(t){e(t.data)})).catch((function(t){console.log(t)}))}}]},availableLicenses:[{id:1,name:"All Rights Reserved",title:""},{id:5,name:"Public Domain Work",title:""},{id:6,name:"Public Domain Dedication (CC0)",title:"CC0"},{id:11,name:"Attribution",title:"CC BY"},{id:12,name:"Attribution-ShareAlike",title:"CC BY-SA"},{id:13,name:"Attribution-NonCommercial",title:"CC BY-NC"},{id:14,name:"Attribution-NonCommercial-ShareAlike",title:"CC BY-NC-SA"},{id:15,name:"Attribution-NoDerivs",title:"CC BY-ND"},{id:16,name:"Attribution-NonCommercial-NoDerivs",title:"CC BY-NC-ND"}],licenseIndex:0,sensitive:!1,altTextModel:null,uploading:!1,uploadProgress:100,editTab:"filters",editTabs:["filters","edit"],settingsTitle:"Advanced Settings",settingsTab:"home",settingTabs:["home","audience","license","media","schedule","collection","group"],schedule:{enabled:!1,date:void 0,time:"00:00:00",tz:void 0,minDate:void 0,maxDate:void 0},collections:[],collectionsSelected:[],collectionsLoaded:!1,collectionsPage:1,collectionsCanLoadMore:!1,edit:{brightness:100,contrast:100,saturation:100},previewCssFilters:"",isPosting:!1}},mounted:function(){var t=this;this.maxFileSize=filesize(1024*this.config.uploader.max_photo_size,{round:!1}),this.setScheduleDateLimits(),axios.get("/api/pixelfed/v1/accounts/verify_credentials").then((function(e){t.profile=e.data}))},methods:{resetData:function(){this.tab="home",this.profile=[],this.media=[],this.mediaIndex=0,this.ids=[],this.activeCrop=!1,this.crops=[],this.activeFilter=null,this.composeText=null,this.composeScope="public",this.composeDisabledComments=!1,this.licenseIndex=0,this.sensitive=!1,this.altTextModel=null,this.uploading=!1,this.uploadProgress=100,this.editTab="filters",this.settingsTitle="Advanced Settings",this.settingsTab="home",this.collections=[],this.collectionsSelected=[],this.collectionsLoaded=!1,this.collectionsPage=1,this.collectionsCanLoadMore=!1,this.previewCssFilters="",this.isPosting=!1},selectMedia:function(){event.currentTarget.blur(),this.$refs.dz.click()},previewFilters:function(){var t=this.edit;this.previewCssFilters={filter:"brightness(".concat(t.brightness,"%) contrast(").concat(t.contrast,"%) saturate(").concat(t.saturation,"%)")}},uploadMedia:function(){var t=this,e=event.target.files;Array.prototype.forEach.call(e,(function(e,i){if(0==t.config.uploader.media_types.split(",").includes(e.type))return t.uploading=!1,void swal("Invalid File Type","You can only upload the following mime types: "+t.config.uploader.media_types,"error");var s=new FormData;s.append("file",e);var a={onUploadProgress:function(e){var i=Math.round(100*e.loaded/e.total);t.uploadProgress=i}};axios.post("/api/compose/v0/media/upload",s,a).then((function(e){var i=e.data;i.edit={brightness:100,contrast:100,saturation:100},t.uploadProgress=100,t.ids.push(e.data.id),t.crops.push({}),t.media.push(i),t.uploading=!1,t.$nextTick((function(){t.compareEdits(i.edit,t.edit)||(t.media[t.mediaIndex].edit=t.edit,t.edit=i.edit),t.tab="crop",t.mediaIndex=t.media.length-1})),setTimeout((function(){document.querySelector(".media-thumbs").scrollLeft+=999999}),300)})).catch((function(i){switch(i.response.status){case 451:t.uploading=!1,e.value=null,swal("Banned Content","This content has been banned and cannot be uploaded.","error"),t.page=2;break;case 429:t.uploading=!1,e.value=null,swal("Limit Reached","You can upload up to 250 photos or videos per day and you've reached that limit. Please try again later.","error"),t.page=2;break;default:t.uploading=!1,e.value=null,swal("Oops, something went wrong!","An unexpected error occurred.","error"),t.page=2}})),e.value=null,t.uploadProgress=0}))},cropMedia:function(){this.tab="edit"},selectFilter:function(t){event.currentTarget.blur(),this.activeFilter=t},applyEdit:function(){this.tab="caption"},timeago:function(t){return window.App.util.format.timeAgo(t)},goBack:function(){switch(event.currentTarget.blur(),this.tab){case"crop":this.tab="home";break;case"edit":this.tab="crop";break;case"caption":this.tab="edit";break;case"alt-text":this.tab="caption",this.settingsTab="home";break;case"settings":if(this.tab="home"==this.settingsTab?"caption":"settings","schedule"==this.settingsTab)return void this.validateSchedule();"home"==this.settingsTab?this.settingsTitle="Advanced Settings":(this.settingsTitle="Advanced Settings",this.settingsTab="home");break;default:this.tab="home",this.settingsTab="home"}},toggleCropRatio:function(t){event.currentTarget.blur(),this.cropRatio=t,this.$refs.croppa.setAspectRatio(this.cropRatios[t])},sharePost:function(){var t=this;this.isPosting=!0;var e={media:this.media,caption:this.composeText,visibility:this.composeScope,cw:this.sensitive,comments_disabled:this.composeDisabledComments,tagged:[]};axios.post("/api/compose/v0/publish",e).then((function(e){t.resetData(),e.data&&e.data.length?location.href="/i/web/post/"+e.data.split("/").at(-1):location.href="/i/web"}))},toggleSensitive:function(){event.currentTarget.blur(),this.sensitive=!this.sensitive},editAltText:function(){this.tab="alt-text"},advancedSettings:function(){this.tab="settings"},selectMediaIndex:function(t){this.compareEdits(this.media[this.mediaIndex].edit,this.edit)||(this.media[this.mediaIndex].edit=this.edit),this.activeCrop&&(this.$refs.croppa.setData(this.crops[t]),this.$refs.croppa.replace(this.media[t].url),this.$refs.croppa.reset()),this.edit=this.media[t].edit,this.mediaIndex=t},compareEdits:function(t,e){return t.brightness===e.brightness&&t.contrast===e.contrast&&t.saturation===e.saturation},onCropEnd:function(){this.crops[this.mediaIndex]=this.$refs.croppa.getData()},editAudience:function(){this.tab="settings",this.settingsTitle="Edit Audience",this.settingsTab="audience"},editLicense:function(){this.tab="settings",this.settingsTitle="Edit License",this.settingsTab="license"},setScope:function(t){this.composeScope=t,this.tab="settings",this.settingsTitle="Advanced Settings",this.settingsTab="home"},setLicense:function(t){this.licenseIndex=t,this.tab="settings",this.settingsTitle="Advanced Settings",this.settingsTab="home"},toggleDisableComments:function(){event.currentTarget.blur(),this.composeDisabledComments=!this.composeDisabledComments},toggleSchedule:function(){event.currentTarget.blur(),this.schedule.enabled=!this.schedule.enabled},editMedia:function(){this.tab="settings",this.settingsTitle="Media Settings",this.settingsTab="media"},editSchedule:function(){this.tab="settings",this.settingsTitle="Schedule Post",this.settingsTab="schedule"},editCollection:function(){this.tab="settings",this.settingsTitle="Share to Collection",this.settingsTab="collection",this.collectionsLoaded||this.fetchCollections()},editGroup:function(){this.tab="settings",this.settingsTitle="Share to Group",this.settingsTab="group"},setScheduleDateLimits:function(){var t=new Date,e=new Date(t.getFullYear(),t.getMonth(),t.getDate());this.schedule.tz=Intl.DateTimeFormat().resolvedOptions().timeZone,this.schedule.date="".concat(t.getFullYear(),"-").concat(t.getMonth()+1,"-").concat(t.getDate());var i=new Date(e);i.setMonth(i.getMonth()+2),this.schedule.minDate=e,this.schedule.maxDate=i},validateSchedule:function(){if(this.schedule.enabled){var t=new Date,e="".concat(t.getFullYear(),"-").concat(t.getMonth()+1,"-").concat(t.getDate());if(this.schedule.date==e){var i=t.getHours();if(this.schedule.time.split(":")[0]<=i)return void swal("Invalid Date/Time","Please adjust your scheduled date and time, it must be in the future.","error")}}this.settingsTitle="Advanced Settings",this.settingsTab="home"},getScheduleDate:function(){var t="".concat(this.schedule.date," ").concat(this.schedule.time);return"in "+window.App.util.format.timeAhead(t,!1)},fetchCollections:function(){var t=this;axios.get("/api/local/profile/collections/".concat(this.profile.id)).then((function(e){t.collections=e.data,t.collectionsLoaded=!0,t.collectionsCanLoadMore=9==e.data.length,t.collectionsPage++}))},collectionsLoadMore:function(){var t=this;axios.get("/api/local/profile/collections/".concat(this.profile.id),{params:{page:this.collectionsPage}}).then((function(e){var i;(i=t.collections).push.apply(i,n(e.data)),t.collectionsCanLoadMore=9==e.data.length,t.collectionsPage++}))},addToCollections:function(t){if(this.collectionsSelected.includes(t))this.collectionsSelected=this.collectionsSelected.filter((function(e){return e!=t}));else{if(5==this.collectionsSelected.length)return void swal("Oops!","You can only share to 5 collections.","info");this.collectionsSelected.push(t)}},editTaggingPeople:function(){this.tab="settings",this.settingsTitle="Tag People",this.settingsTab="tag"},toggleEditTab:function(t){this.editTab=t},dropHandler:function(t){t.preventDefault(),this.uploading=!0;var e=this;t.dataTransfer.files&&t.dataTransfer.files.length&&Array.prototype.forEach.call(t.dataTransfer.files,(function(t,i){if(e.media.length>=e.config.uploader.album_limit)return swal("Oops!","Posts can have up to "+e.config.uploader.album_limit+" photos or videos, you cannot add any more.","error"),void(e.uploading=!1);if(0==e.config.uploader.media_types.split(",").includes(t.type))return swal("Invalid File Type","You can only upload the following mime types: "+e.config.uploader.media_types,"error"),void(e.uploading=!1);var s=new FormData;s.append("file",t);var a={onUploadProgress:function(t){var i=Math.round(100*t.loaded/t.total);e.uploadProgress=i}};axios.post("/api/compose/v0/media/upload",s,a).then((function(t){var i=t.data;i.edit={brightness:100,contrast:100,saturation:100},e.uploadProgress=100,e.ids.push(t.data.id),e.crops.push({}),e.media.push(i),2!=e.media.map((function(t){return t.mime})).filter((function(t,e,i){return i.indexOf(t)===e})).length?(e.uploading=!1,e.$nextTick((function(){e.compareEdits(i.edit,e.edit)||(e.media[e.mediaIndex].edit=e.edit,e.edit=i.edit),e.tab="crop",e.mediaIndex=e.media.length-1})),setTimeout((function(){document.querySelector(".media-thumbs").scrollLeft+=999999}),300)):swal("Oops!","Your post must contain a single photo or video or multiple photos","error")})).catch((function(i){switch(i.response.status){case 451:e.uploading=!1,t.value=null,swal("Banned Content","This content has been banned and cannot be uploaded.","error"),e.page=2;break;case 429:e.uploading=!1,t.value=null,swal("Limit Reached","You can upload up to 250 photos or videos per day and you've reached that limit. Please try again later.","error"),e.page=2;break;default:e.uploading=!1,t.value=null,swal("Oops, something went wrong!","An unexpected error occurred.","error"),e.page=2}})),t.value=null,e.uploadProgress=0}))},dragOverHandler:function(t){t.preventDefault()}},watch:{edit:{handler:function(t,e){this.previewFilters()},deep:!0}}}},49144:(t,e,i)=>{i.r(e),i.d(e,{default:()=>c});var s=i(17652),a=(i(81943),i(29655)),o=(i(99101),i(15235)),n=i(19755);function l(t){return function(t){if(Array.isArray(t))return r(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return r(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return r(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,s=new Array(e);i<e;i++)s[i]=t[i];return s}const c={components:{VueCropper:s.default,Autocomplete:a.default,VueTribute:o.default},data:function(){return{config:window.App.config,pageLoading:!1,profile:window._sharedData.curUser,composeText:"",composeTextLength:0,nsfw:!1,filters:[],currentFilter:!1,ids:[],media:[],carouselCursor:0,uploading:!1,uploadProgress:100,mode:"photo",modes:["photo","video","plain"],page:1,composeState:"publish",visibility:"public",visibilityTag:"Public",place:!1,commentsDisabled:!1,optimizeMedia:!0,mediaCropped:!1,pageTitle:"",cropper:{aspectRatio:1,viewMode:1,zoomable:!0,zoom:0},namedPages:["cropPhoto","tagPeople","addLocation","advancedSettings","visibility","altText","addToCollection","schedulePost","mediaMetadata","addToStory","editMedia","cameraRoll","tagPeopleHelp","textOptions","licensePicker"],cameraRollMedia:[],taggedUsernames:[],taggedPeopleSearch:null,textMode:!1,tributeSettings:{noMatchTemplate:function(){return null},collection:[{trigger:"@",menuShowMinLength:2,values:function(t,e){axios.get("/api/compose/v0/search/mention",{params:{q:t}}).then((function(t){e(t.data)})).catch((function(t){console.log(t)}))}},{trigger:"#",menuShowMinLength:2,values:function(t,e){axios.get("/api/compose/v0/search/hashtag",{params:{q:t}}).then((function(t){e(t.data)})).catch((function(t){console.log(t)}))}}]},availableLicenses:[{id:1,name:"All Rights Reserved",title:""},{id:5,name:"Public Domain Work",title:""},{id:6,name:"Public Domain Dedication (CC0)",title:"CC0"},{id:11,name:"Attribution",title:"CC BY"},{id:12,name:"Attribution-ShareAlike",title:"CC BY-SA"},{id:13,name:"Attribution-NonCommercial",title:"CC BY-NC"},{id:14,name:"Attribution-NonCommercial-ShareAlike",title:"CC BY-NC-SA"},{id:15,name:"Attribution-NoDerivs",title:"CC BY-ND"},{id:16,name:"Attribution-NonCommercial-NoDerivs",title:"CC BY-NC-ND"}],licenseIndex:0,video:{title:"",description:""},composeSettings:{default_license:null,media_descriptions:!1},licenseId:1,licenseTitle:null,maxAltTextLength:140,pollOptionModel:null,pollOptions:[],pollExpiry:1440,postingPoll:!1,collections:[],collectionsSelected:[],collectionsLoaded:!1,collectionsPage:1,collectionsCanLoadMore:!1}},beforeMount:function(){var t=this;this.filters=window.App.util.filters,axios.get("/api/compose/v0/settings").then((function(e){t.composeSettings=e.data,t.licenseId=t.composeSettings.default_license,t.maxAltTextLength=e.data.max_altext_length,t.licenseId>10&&(t.licenseTitle=t.availableLicenses.filter((function(e){return e.id==t.licenseId})).map((function(t){return t.title}))[0]),t.fetchProfile()}))},mounted:function(){this.mediaWatcher()},methods:{timeAgo:function(t){return App.util.format.timeAgo(t)},fetchProfile:function(){var t=this,e={public:"Public",private:"Followers Only",unlisted:"Unlisted"};if(window._sharedData.curUser.id){if(this.profile=window._sharedData.curUser,this.composeSettings&&this.composeSettings.hasOwnProperty("default_scope")&&this.composeSettings.default_scope){var i=this.composeSettings.default_scope;this.visibility=i,this.visibilityTag=e[i]}1==this.profile.locked&&(this.visibility="private",this.visibilityTag="Followers Only")}else axios.get("/api/pixelfed/v1/accounts/verify_credentials").then((function(i){if(window._sharedData.currentUser=i.data,t.profile=i.data,t.composeSettings&&t.composeSettings.hasOwnProperty("default_scope")&&t.composeSettings.default_scope){var s=t.composeSettings.default_scope;t.visibility=s,t.visibilityTag=e[s]}1==t.profile.locked&&(t.visibility="private",t.visibilityTag="Followers Only")})).catch((function(t){}))},addMedia:function(t){var e=n(t.target);e.attr("disabled",""),n('.file-input[name="media"]').trigger("click"),e.blur(),e.removeAttr("disabled")},addText:function(t){this.pageTitle="New Text Post",this.page="addText",this.textMode=!0,this.mode="text"},mediaWatcher:function(){var t=this;n(document).on("change","#pf-dz",(function(e){t.mediaUpload()}))},mediaUpload:function(){var t=this;t.uploading=!0;var e=document.querySelector("#pf-dz");e.files.length||(t.uploading=!1),Array.prototype.forEach.call(e.files,(function(e,i){if(t.media&&t.media.length+i>=t.config.uploader.album_limit)return swal("Error","You can only upload "+t.config.uploader.album_limit+" photos per album","error"),t.uploading=!1,void(t.page=2);var s=e.type,a=t.config.uploader.media_types.split(",");if(-1==n.inArray(s,a))return swal("Invalid File Type","The file you are trying to add is not a valid mime type. Please upload a "+t.config.uploader.media_types+" only.","error"),t.uploading=!1,void(t.page=2);var o=new FormData;o.append("file",e);var l={onUploadProgress:function(e){var i=Math.round(100*e.loaded/e.total);t.uploadProgress=i}};axios.post("/api/compose/v0/media/upload",o,l).then((function(e){t.uploadProgress=100,t.ids.push(e.data.id),t.media.push(e.data),t.uploading=!1,setTimeout((function(){t.page=3}),300)})).catch((function(i){switch(i.response.status){case 451:t.uploading=!1,e.value=null,swal("Banned Content","This content has been banned and cannot be uploaded.","error"),t.page=2;break;case 429:t.uploading=!1,e.value=null,swal("Limit Reached","You can upload up to 250 photos or videos per day and you've reached that limit. Please try again later.","error"),t.page=2;break;default:t.uploading=!1,e.value=null,swal("Oops, something went wrong!","An unexpected error occurred.","error"),t.page=2}})),e.value=null,t.uploadProgress=0}))},toggleFilter:function(t,e){this.media[this.carouselCursor].filter_class=e,this.currentFilter=e},deleteMedia:function(){var t=this;if(0!=window.confirm("Are you sure you want to delete this media?")){var e=this.media[this.carouselCursor].id;axios.delete("/api/compose/v0/media/delete",{params:{id:e}}).then((function(e){t.ids.splice(t.carouselCursor,1),t.media.splice(t.carouselCursor,1),0==t.media.length?(t.ids=[],t.media=[],t.carouselCursor=0):t.carouselCursor=0})).catch((function(t){swal("Whoops!","An error occured when attempting to delete this, please try again","error")}))}},compose:function(){var t=this,e=this.composeState;if(100==this.uploadProgress&&0!=this.ids.length)if(this.composeText.length>this.config.uploader.max_caption_length)swal("Error","Caption is too long","error");else switch(e){case"publish":if(!0===this.composeSettings.media_descriptions)if(this.media.filter((function(t){return!t.hasOwnProperty("alt")||t.alt.length<2})).length)return void swal("Missing media descriptions","You have enabled mandatory media descriptions. Please add media descriptions under Advanced settings to proceed. For more information, please see the media settings page.","warning");if(0==this.media.length)return void swal("Whoops!","You need to add media before you can save this!","warning");"Add optional caption..."==this.composeText&&(this.composeText="");var i={media:this.media,caption:this.composeText,visibility:this.visibility,cw:this.nsfw,comments_disabled:this.commentsDisabled,place:this.place,tagged:this.taggedUsernames,optimize_media:this.optimizeMedia,license:this.licenseId,video:this.video};return this.collectionsSelected.length&&(i.collections=this.collectionsSelected.map((function(e){return t.collections[e].id}))),void axios.post("/api/compose/v0/publish",i).then((function(t){"/i/web/compose"===location.pathname&&t.data&&t.data.length?location.href="/i/web/post/"+t.data.split("/").slice(-1)[0]:location.href=t.data})).catch((function(t){if(t.response){var e=t.response.data.message?t.response.data.message:"An unexpected error occured.";swal("Oops, something went wrong!",e,"error")}else swal("Oops, something went wrong!",t.message,"error")}));case"delete":return this.ids=[],this.media=[],this.carouselCursor=0,this.composeText="",this.composeTextLength=0,void n("#composeModal").modal("hide")}},composeTextPost:function(){var t=this.composeState;if(this.composeText.length>this.config.uploader.max_caption_length)swal("Error","Caption is too long","error");else switch(t){case"publish":var e={caption:this.composeText,visibility:this.visibility,cw:this.nsfw,comments_disabled:this.commentsDisabled,place:this.place,tagged:this.taggedUsernames};return void axios.post("/api/compose/v0/publish/text",e).then((function(t){var e=t.data;window.location.href=e})).catch((function(t){var e=t.response.data.message?t.response.data.message:"An unexpected error occured.";swal("Oops, something went wrong!",e,"error")}));case"delete":return this.ids=[],this.media=[],this.carouselCursor=0,this.composeText="",this.composeTextLength=0,void n("#composeModal").modal("hide")}},closeModal:function(){n("#composeModal").modal("hide"),this.$emit("close")},goBack:function(){switch(this.pageTitle="",this.mode){case"photo":switch(this.page){case"addText":case"video-2":this.page=1;break;case"textOptions":this.page="addText";break;case"cropPhoto":case"editMedia":this.page=2;break;case"tagPeopleHelp":this.showTagCard();break;case"licensePicker":this.page=3;break;default:-1!=this.namedPages.indexOf(this.page)?this.page=3:this.page--}break;case"video":this.page,this.page="video-2";break;default:switch(this.page){case"addText":case"video-2":this.page=1;break;case"textOptions":this.page="addText";break;case"cropPhoto":case"editMedia":this.page=2;break;case"tagPeopleHelp":this.showTagCard();break;case"licensePicker":this.page=3;break;default:-1!=this.namedPages.indexOf(this.page)?this.page="text"==this.mode?"addText":3:"text"==this.mode||this.page--}}},nextPage:function(){switch(this.pageTitle="",this.page){case 1:this.page=2;break;case"cropPhoto":this.pageLoading=!0;var t=this;this.$refs.cropper.getCroppedCanvas({maxWidth:4096,maxHeight:4096,fillColor:"#fff",imageSmoothingEnabled:!1,imageSmoothingQuality:"high"}).toBlob((function(e){t.mediaCropped=!0;var i=new FormData;i.append("file",e),i.append("id",t.ids[t.carouselCursor]);axios.post("/api/compose/v0/media/update",i).then((function(e){t.media[t.carouselCursor].url=e.data.url,t.pageLoading=!1,t.page=2})).catch((function(t){}))}));break;case 2:this.currentFilter?window.confirm("Are you sure you want to apply this filter?")&&(this.applyFilterToMedia(),this.page++):this.page++;break;case 3:this.page++}},rotate:function(){this.$refs.cropper.rotate(90)},changeAspect:function(t){this.cropper.aspectRatio=t,this.$refs.cropper.setAspectRatio(t)},showTagCard:function(){this.pageTitle="Tag People",this.page="tagPeople"},showTagHelpCard:function(){this.pageTitle="About Tag People",this.page="tagPeopleHelp"},showLocationCard:function(){this.pageTitle="Add Location",this.page="addLocation"},showAdvancedSettingsCard:function(){this.pageTitle="Advanced Settings",this.page="advancedSettings"},locationSearch:function(t){if(t.length<1)return[];return axios.get("/api/compose/v0/search/location",{params:{q:t}}).then((function(t){return t.data}))},getResultValue:function(t){return t.name+", "+t.country},onSubmitLocation:function(t){switch(this.place=t,this.mode){case"photo":this.pageTitle="",this.page=3;break;case"video":this.pageTitle="Edit Video Details",this.page="video-2";break;case"text":this.pageTitle="New Text Post",this.page="addText"}},showVisibilityCard:function(){this.pageTitle="Post Visibility",this.page="visibility"},showAddToStoryCard:function(){this.pageTitle="Add to Story",this.page="addToStory"},showCropPhotoCard:function(){this.pageTitle="Edit Photo",this.page="cropPhoto"},toggleVisibility:function(t){switch(this.visibility=t,this.visibilityTag={public:"Public",private:"Followers Only",unlisted:"Unlisted"}[t],this.mode){case"photo":this.pageTitle="",this.page=3;break;case"video":this.pageTitle="Edit Video Details",this.page="video-2";break;case"text":this.pageTitle="New Text Post",this.page="addText"}},showMediaDescriptionsCard:function(){this.pageTitle="Media Descriptions",this.page="altText"},showAddToCollectionsCard:function(){this.pageTitle="Add to Collection",this.page="addToCollection"},showSchedulePostCard:function(){this.pageTitle="Schedule Post",this.page="schedulePost"},showEditMediaCard:function(){this.pageTitle="Edit Media",this.page="editMedia"},fetchCameraRollDrafts:function(){var t=this;axios.get("/api/pixelfed/local/drafts").then((function(e){t.cameraRollMedia=e.data}))},applyFilterToMedia:function(){var t=navigator.userAgent.toLowerCase();if(-1!=t.indexOf("firefox")||-1!=t.indexOf("chrome"))for(var e=this.media,i=null,s=document.getElementById("pr_canvas"),a=s.getContext("2d"),o=document.getElementById("pr_img"),n=null,l=e.length-1;l>=0;l--)(i=e[l]).filter_class&&(o.src=i.url,o.addEventListener("load",(function(t){s.width=o.width,s.height=o.height,a.filter=App.util.filterCss[i.filter_class],a.drawImage(o,0,0,o.width,o.height),a.save(),s.toBlob((function(t){(n=new FormData).append("file",t),n.append("id",i.id),axios.post("/api/compose/v0/media/update",n).then((function(t){})).catch((function(t){}))}))}),i.mime,.9),a.clearRect(0,0,o.width,o.height));else swal("Oops!","Your browser does not support the filter feature.","error")},tagSearch:function(t){if(t.length<1)return[];var e=this;return axios.get("/api/compose/v0/search/tag",{params:{q:t}}).then((function(t){if(t.data.length)return t.data.filter((function(t){return 0==e.taggedUsernames.filter((function(e){return e.id==t.id})).length}))}))},getTagResultValue:function(t){return"@"+t.name},onTagSubmitLocation:function(t){this.taggedUsernames.filter((function(e){return e.id==t.id})).length||(this.taggedUsernames.push(t),this.$refs.autocomplete.value="")},untagUsername:function(t){this.taggedUsernames.splice(t,1)},showTextOptions:function(){this.page="textOptions",this.pageTitle="Text Post Options"},showLicenseCard:function(){this.pageTitle="Select a License",this.page="licensePicker"},toggleLicense:function(t){var e=this;switch(this.licenseId=t.id,this.licenseId>10?this.licenseTitle=this.availableLicenses.filter((function(t){return t.id==e.licenseId})).map((function(t){return t.title}))[0]:this.licenseTitle=null,this.mode){case"photo":this.pageTitle="",this.page=3;break;case"video":this.pageTitle="Edit Video Details",this.page="video-2";break;case"text":this.pageTitle="New Text Post",this.page="addText"}},newPoll:function(){this.page="poll"},savePollOption:function(){-1==this.pollOptions.indexOf(this.pollOptionModel)?(this.pollOptions.push(this.pollOptionModel),this.pollOptionModel=null):this.pollOptionModel=null},deletePollOption:function(t){this.pollOptions.splice(t,1)},postNewPoll:function(){var t=this;this.postingPoll=!0,axios.post("/api/compose/v0/poll",{caption:this.composeText,cw:!1,visibility:this.visibility,comments_disabled:!1,expiry:this.pollExpiry,pollOptions:this.pollOptions}).then((function(e){if(!e.data.hasOwnProperty("url"))return swal("Oops!","An error occured while attempting to create this poll. Please refresh the page and try again.","error"),void(t.postingPoll=!1);window.location.href=e.data.url})).catch((function(e){if(console.log(e.response.data.error),e.response.data.hasOwnProperty("error")&&"Duplicate detected."==e.response.data.error)return t.postingPoll=!1,void swal("Oops!","The poll you are trying to create is similar to an existing poll you created. Please make the poll question (caption) unique.","error");t.postingPoll=!1,swal("Oops!","An error occured while attempting to create this poll. Please refresh the page and try again.","error")}))},filesize:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return filesize(1024*t,{round:0})})),showCollectionCard:function(){this.pageTitle="Add to Collection(s)",this.page="addToCollection",this.collectionsLoaded||this.fetchCollections()},fetchCollections:function(){var t=this;axios.get("/api/local/profile/collections/".concat(this.profile.id)).then((function(e){t.collections=e.data,t.collectionsLoaded=!0,t.collectionsCanLoadMore=9==e.data.length,t.collectionsPage++}))},toggleCollectionItem:function(t){if(this.collectionsSelected.includes(t))this.collectionsSelected=this.collectionsSelected.filter((function(e){return e!=t}));else{if(7==this.collectionsSelected.length)return void swal("Oops!","You can only share to 5 collections.","info");this.collectionsSelected.push(t)}},clearSelectedCollections:function(){this.collectionsSelected=[],this.pageTitle="Compose",this.page=3},loadMoreCollections:function(){var t=this;this.collectionsCanLoadMore=!1,axios.get("/api/local/profile/collections/".concat(this.profile.id),{params:{page:this.collectionsPage}}).then((function(e){var i,s=t.collections.map((function(t){return t.id})),a=e.data.filter((function(t){return!s.includes(t.id)}));a&&a.length&&((i=t.collections).push.apply(i,l(a)),t.collectionsPage++,t.collectionsCanLoadMore=!0)}))}}}},72727:(t,e,i)=>{i.r(e),i.d(e,{default:()=>o});var s=i(23645),a=i.n(s)()((function(t){return t[1]}));a.push([t.id,'.compose-desktop .tab-flex[data-v-5779f6cf]{align-items:center;display:flex;justify-content:center;min-height:600px}.compose-desktop .tab[data-v-5779f6cf]{min-height:600px}.compose-desktop .crop-dimension-btn[data-v-5779f6cf]{align-items:center;display:flex;justify-content:space-between;margin-bottom:10px;padding-left:0;text-decoration:none;width:100%}.compose-desktop .crop-dimension-btn-label[data-v-5779f6cf]{align-items:center;color:#212529;display:flex}.compose-desktop .crop-dimension-btn-label-icon[data-v-5779f6cf]{margin-right:10px;text-align:center;width:40px}.compose-desktop .crop-dimension-btn-label-name[data-v-5779f6cf]{font-size:.99rem;font-weight:300}.compose-desktop .crop-dimension-btn.active .crop-dimension-btn-indicator i[data-v-5779f6cf]{color:#2c78bf!important}.compose-desktop .crop-dimension-btn.active .crop-dimension-btn-indicator .fa-circle[data-v-5779f6cf]:before{content:"ï†’"}.compose-desktop .crop-dimension-btn[disabled=disabled] .crop-dimension-btn-indicator[data-v-5779f6cf],.compose-desktop .crop-dimension-btn[disabled=disabled] .crop-dimension-btn-label[data-v-5779f6cf]{color:#b8c2cc!important}.compose-desktop .hide-scroll[data-v-5779f6cf]{-ms-overflow-style:none;overflow-y:scroll;scrollbar-width:none}.compose-desktop .hide-scroll[data-v-5779f6cf]::-webkit-scrollbar{display:none}.compose-desktop .no-focus[data-v-5779f6cf]{border-color:none;box-shadow:none;outline:0}.compose-desktop .list-btn[data-v-5779f6cf]{align-items:center;background-color:#fff;border:1px solid rgba(0,0,0,.125);border-left:0;border-right:0;display:flex;justify-content:space-between;padding:.75rem 1.25rem;position:relative}.compose-desktop .list-btn[data-v-5779f6cf]:not(:first-child){border-top:0}.compose-desktop .list-btn .lead[data-v-5779f6cf]{font-size:1rem}.compose-desktop .list-btn.active[data-v-5779f6cf]{background-color:#f3f4f6}.compose-desktop .list-btn.active .lead[data-v-5779f6cf]{font-weight:500}.compose-desktop .settings-tab[data-v-5779f6cf]{border-radius:0;display:flex;flex-direction:column;flex-grow:1;margin-bottom:0;margin-left:-1rem;margin-top:-17px;max-height:600px;overflow-y:auto;padding-left:0}.compose-desktop .media-square[data-v-5779f6cf]{border:1px solid #dee2e6;border-radius:.25rem;cursor:pointer;height:70px;margin:auto .5rem;-o-object-fit:cover;object-fit:cover;width:70px}.compose-desktop .media-square.active[data-v-5779f6cf]{border:3px solid #3b82f6;padding:2px}.compose-desktop .media-square.activeold[data-v-5779f6cf]{border:3px dashed #bfdbfe;padding:2px}.compose-desktop .media-add-square[data-v-5779f6cf]{right:0}.compose-desktop .media-add-square[data-v-5779f6cf],.compose-desktop .media-remove-square[data-v-5779f6cf]{align-items:center;display:flex;height:70px;justify-content:center;position:-webkit-sticky;position:sticky;text-decoration:none;top:0;width:30px}.compose-desktop .media-remove-square[data-v-5779f6cf]{left:0}.compose-desktop .media-remove-square .fa-minus-circle[data-v-5779f6cf]{color:#b8c2cc!important}.compose-desktop .media-thumbs[data-v-5779f6cf]{-ms-overflow-style:none;display:flex;height:auto;justify-content:center;margin-top:1rem;max-width:500px;overflow-y:auto;position:relative;scrollbar-width:none;width:100%}.compose-desktop .media-thumbs[data-v-5779f6cf]::-webkit-scrollbar{display:none}.compose-desktop .edit-nav-tab[data-v-5779f6cf]{border-bottom:1px solid #dee2e6!important;color:#b8c2cc;cursor:pointer;font-weight:400;-webkit-user-select:none!important;-moz-user-select:none!important;-ms-user-select:none!important;user-select:none!important}.compose-desktop .edit-nav-tab.active[data-v-5779f6cf]{border-bottom:1px solid #000!important;color:#212529;font-weight:700}',""]);const o=a},42770:(t,e,i)=>{i.r(e),i.d(e,{default:()=>o});var s=i(23645),a=i.n(s)()((function(t){return t[1]}));a.push([t.id,".compose-modal-component .media-drawer-filters{flex-wrap:unset;overflow-x:scroll}.compose-modal-component .media-drawer-filters::-webkit-scrollbar{background:transparent;width:0}.compose-modal-component .media-drawer-filters .nav-link{min-width:100px;padding-bottom:1rem;padding-top:1rem}.compose-modal-component .media-drawer-filters .active{color:#fff;font-weight:700}@media(hover:none)and (pointer:coarse){.compose-modal-component .media-drawer-filters::-webkit-scrollbar{display:none}}.compose-modal-component .no-focus{border-color:none;box-shadow:none;outline:0}.compose-modal-component a.list-group-item{text-decoration:none}.compose-modal-component a.list-group-item:hover{background-color:#f8f9fa!important;text-decoration:none}.compose-modal-component .compose-action:hover{background-color:#f8f9fa!important;cursor:pointer}.compose-modal-component .collections-list-group{max-height:500px;overflow-y:auto}.compose-modal-component .collections-list-group .list-group-item.active{background-color:#dbeafe!important;border-color:#60a5fa!important;color:#212529}",""]);const o=a},50864:(t,e,i)=>{i.r(e),i.d(e,{default:()=>l});var s=i(93379),a=i.n(s),o=i(72727),n={insert:"head",singleton:!1};a()(o.default,n);const l=o.default.locals||{}},55898:(t,e,i)=>{i.r(e),i.d(e,{default:()=>l});var s=i(93379),a=i.n(s),o=i(42770),n={insert:"head",singleton:!1};a()(o.default,n);const l=o.default.locals||{}},55763:(t,e,i)=>{i.r(e),i.d(e,{default:()=>n});var s=i(24601),a=i(55489),o={};for(const t in a)"default"!==t&&(o[t]=()=>a[t]);i.d(e,o);const n=(0,i(51900).default)(a.default,s.render,s.staticRenderFns,!1,null,null,null).exports},14205:(t,e,i)=>{i.r(e),i.d(e,{default:()=>n});var s=i(56864),a=i(89997),o={};for(const t in a)"default"!==t&&(o[t]=()=>a[t]);i.d(e,o);i(17143);const n=(0,i(51900).default)(a.default,s.render,s.staticRenderFns,!1,null,"5779f6cf",null).exports},64439:(t,e,i)=>{i.r(e),i.d(e,{default:()=>n});var s=i(96967),a=i(10594),o={};for(const t in a)"default"!==t&&(o[t]=()=>a[t]);i.d(e,o);i(40309);const n=(0,i(51900).default)(a.default,s.render,s.staticRenderFns,!1,null,null,null).exports},55489:(t,e,i)=>{i.r(e),i.d(e,{default:()=>o});var s=i(31453),a={};for(const t in s)"default"!==t&&(a[t]=()=>s[t]);i.d(e,a);const o=s.default},89997:(t,e,i)=>{i.r(e),i.d(e,{default:()=>o});var s=i(61043),a={};for(const t in s)"default"!==t&&(a[t]=()=>s[t]);i.d(e,a);const o=s.default},10594:(t,e,i)=>{i.r(e),i.d(e,{default:()=>o});var s=i(49144),a={};for(const t in s)"default"!==t&&(a[t]=()=>s[t]);i.d(e,a);const o=s.default},17143:(t,e,i)=>{i.r(e);var s=i(50864),a={};for(const t in s)"default"!==t&&(a[t]=()=>s[t]);i.d(e,a)},40309:(t,e,i)=>{i.r(e);var s=i(55898),a={};for(const t in s)"default"!==t&&(a[t]=()=>s[t]);i.d(e,a)},24601:(t,e,i)=>{i.r(e);var s=i(27938),a={};for(const t in s)"default"!==t&&(a[t]=()=>s[t]);i.d(e,a)},56864:(t,e,i)=>{i.r(e);var s=i(84326),a={};for(const t in s)"default"!==t&&(a[t]=()=>s[t]);i.d(e,a)},96967:(t,e,i)=>{i.r(e);var s=i(66425),a={};for(const t in s)"default"!==t&&(a[t]=()=>s[t]);i.d(e,a)},27938:(t,e,i)=>{i.r(e),i.d(e,{render:()=>s,staticRenderFns:()=>a});var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"web-wrapper"},[t.isLoaded?i("div",{staticClass:"container-fluid mt-3"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-3 d-md-block"},[i("sidebar",{attrs:{user:t.profile}})],1),t._v(" "),i("div",{staticClass:"col-md-8"},[t.showNew?i("div",[i("compose-desktop")],1):i("div",{staticClass:"row"},[i("div",{staticClass:"col-12 col-md-8 offset-md-1"},[i("compose-modal",{on:{close:t.closeModal}})],1)])])]),t._v(" "),i("drawer")],1):t._e()])},a=[]},84326:(t,e,i)=>{i.r(e),i.d(e,{render:()=>s,staticRenderFns:()=>a});var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"compose-desktop"},[i("input",{ref:"dz",staticClass:"w-100 h-100 d-none file-input",attrs:{type:"file",name:"media",accept:t.config.uploader.media_types},on:{change:t.uploadMedia}}),t._v(" "),i("canvas",{staticClass:"d-none",attrs:{id:"pr_canvas"}}),t._v(" "),i("img",{staticClass:"d-none",attrs:{id:"pr_img"}}),t._v(" "),i("div",{staticClass:"card shadow-sm",staticStyle:{"border-radius":"15px"},on:{drop:function(e){return t.dropHandler(e)},dragover:function(e){return t.dragOverHandler(e)}}},[i("div",{staticClass:"card-header",staticStyle:{"border-top-left-radius":"15px","border-top-right-radius":"15px"}},["home"==t.tab?i("div",{staticClass:"d-flex justify-content-between align-items-center"},[t._m(0),t._v(" "),i("span",{staticClass:"lead font-weight-bold"},[t._v("Compose")]),t._v(" "),t._m(1)]):t._e(),t._v(" "),"crop"==t.tab?i("div",{staticClass:"d-flex justify-content-between align-items-center"},[i("button",{staticClass:"btn btn-link p-0",on:{click:function(e){return t.goBack()}}},[i("i",{staticClass:"fal fa-chevron-left fa-lg text-lighter"})]),t._v(" "),i("span",{staticClass:"lead font-weight-bold"},[t._v("Crop")]),t._v(" "),t._m(2)]):t._e(),t._v(" "),"edit"==t.tab?i("div",{staticClass:"d-flex justify-content-between align-items-center"},[i("button",{staticClass:"btn btn-link p-0",on:{click:function(e){return t.goBack()}}},[i("i",{staticClass:"fal fa-chevron-left fa-lg text-lighter"})]),t._v(" "),i("span",{staticClass:"lead font-weight-bold"},[t._v("Edit")]),t._v(" "),t._m(3)]):t._e(),t._v(" "),"caption"==t.tab?i("div",{staticClass:"d-flex justify-content-between align-items-center"},[i("button",{staticClass:"btn btn-link p-0",on:{click:function(e){return t.goBack()}}},[i("i",{staticClass:"fal fa-chevron-left fa-lg text-lighter"})]),t._v(" "),i("span",{staticClass:"lead font-weight-bold"},[t._v("Compose")]),t._v(" "),t._m(4)]):t._e(),t._v(" "),"alt-text"==t.tab?i("div",{staticClass:"d-flex justify-content-between align-items-center"},[i("button",{staticClass:"btn btn-link p-0",on:{click:function(e){return t.goBack()}}},[i("i",{staticClass:"fal fa-chevron-left fa-lg text-lighter"})]),t._v(" "),i("span",{staticClass:"lead font-weight-bold"},[t._v("Alt Text")]),t._v(" "),t._m(5)]):t._e(),t._v(" "),"settings"==t.tab?i("div",{staticClass:"d-flex justify-content-between align-items-center"},[i("button",{staticClass:"btn btn-link p-0",on:{click:function(e){return t.goBack()}}},[i("i",{staticClass:"fal fa-chevron-left fa-lg text-lighter"})]),t._v(" "),i("span",{staticClass:"lead font-weight-bold"},[t._v(t._s(t.settingsTitle))]),t._v(" "),t._m(6)]):t._e()]),t._v(" "),t.uploading?i("div",{staticClass:"card-body p-0 d-flex justify-content-center align-items-center",staticStyle:{height:"600px"}},[i("div",{staticClass:"text-center"},[i("b-spinner"),t._v(" "),i("p",[t._v(t._s(t.$t("post.uploading"))+"...")])],1)]):i("div",{staticClass:"card-body p-0"},["home"==t.tab?i("div",[i("div",{staticClass:"tab-flex"},[i("div",{staticClass:"d-flex justify-content-between align-items-center"},[t._m(7),t._v(" "),i("span",{staticClass:"font-weight-bold mx-4"},[t._v("or")]),t._v(" "),i("button",{staticClass:"btn btn-light shadow text-center mx-4 p-3",staticStyle:{"border-radius":"18px"},on:{click:t.selectMedia}},[i("i",{staticClass:"fal fa-upload fa-3x my-3 text-lighter"}),t._v(" "),i("p",{staticClass:"font-weight-bold text-dark mb-0"},[t._v("Browse from my device")])])])]),t._v(" "),i("div",{staticClass:"text-center"},[i("p",{staticClass:"text-muted"},[t._v("Photos and videos can be up to "),i("strong",[t._v(t._s(t.maxFileSize))]),t._v(" in size, and must be one of the following formats:\n\t\t\t\t\t\t"),t._l(t.config.uploader.media_types.split(","),(function(e){return i("span",{staticClass:"mr-1"},[i("kbd",[t._v(t._s(e.split("/")[1]))])])}))],2)])]):t._e(),t._v(" "),"crop"==t.tab?i("div",{staticClass:"tab row"},[i("div",{staticClass:"col-8 border-right d-flex justify-content-center align-items-center"},[i("div",{staticClass:"py-4",staticStyle:{width:"60%",height:"auto"}},[t.activeCrop?i("vue-cropper",{ref:"croppa",staticClass:"p-0 img-fluid",attrs:{aspectRatio:t.cropRatios[t.cropRatio],viewMode:3,dragMode:"move",autoCropArea:1,guides:!1,highlight:!1,cropBoxMovable:!1,cropBoxResizable:!1,toggleDragModeOnDblclick:!1,src:t.media[t.mediaIndex].url,data:t.crops[t.mediaIndex]},on:{crop:t.onCropEnd,zoom:t.onCropEnd}}):i("img",{staticStyle:{"object-fit":"contain"},style:t.previewCssFilters,attrs:{src:t.media[t.mediaIndex].url,width:"100%",height:"400"}}),t._v(" "),i("transition",{attrs:{name:"fade"}},[i("div",{staticClass:"media-thumbs"},[i("button",{staticClass:"btn btn-link media-remove-square",on:{click:t.selectMedia}},[i("i",{staticClass:"fal fa-minus-circle fa-lg text-dark"})]),t._v(" "),t._l(t.media,(function(e,s){return i("img",{staticClass:"media-square",class:{active:t.mediaIndex===s},attrs:{src:e.url},on:{click:function(e){return t.selectMediaIndex(s)}}})})),t._v(" "),i("button",{staticClass:"btn btn-link media-add-square",on:{click:t.selectMedia}},[i("i",{staticClass:"fal fa-plus-circle fa-lg text-dark"})])],2)])],1)]),t._v(" "),i("div",{staticClass:"col-4 m-0 p-3 d-flex justify-content-between flex-column"},[i("div",[i("h5",{staticClass:"font-weight-bold mb-3"},[t._v("Select a Crop")]),t._v(" "),t._m(8),t._v(" "),i("button",{staticClass:"btn crop-dimension-btn",class:{active:1==t.cropRatio},attrs:{disabled:""},on:{click:function(e){return t.toggleCropRatio(1)}}},[t._m(9),t._v(" "),t._m(10)]),t._v(" "),i("button",{staticClass:"btn crop-dimension-btn",class:{active:2==t.cropRatio},attrs:{disabled:""},on:{click:function(e){return t.toggleCropRatio(2)}}},[t._m(11),t._v(" "),t._m(12)]),t._v(" "),i("button",{staticClass:"btn crop-dimension-btn",class:{active:3==t.cropRatio},attrs:{disabled:""},on:{click:function(e){return t.toggleCropRatio(3)}}},[t._m(13),t._v(" "),t._m(14)])]),t._v(" "),i("div",{staticClass:"ml-n3 px-3 pt-3 border-top"},[i("button",{staticClass:"btn btn-primary font-weight-bold btn-block py-1",on:{click:t.cropMedia}},[t._v("Next")])])])]):t._e(),t._v(" "),"edit"==t.tab?i("div",{staticClass:"tab row"},[i("div",{staticClass:"col-8 border-right d-flex justify-content-center align-items-center"},[i("div",{staticClass:"py-4",staticStyle:{width:"60%",height:"auto"}},[i("img",{staticStyle:{"object-fit":"contain"},style:t.previewCssFilters,attrs:{src:t.media[t.mediaIndex].url,width:"100%",height:"400"}}),t._v(" "),i("transition",{attrs:{name:"fade"}},[i("div",{staticClass:"media-thumbs"},[i("button",{staticClass:"btn btn-link media-remove-square",on:{click:t.selectMedia}},[i("i",{staticClass:"fal fa-minus-circle fa-lg text-dark"})]),t._v(" "),t._l(t.media,(function(e,s){return i("img",{staticClass:"media-square",class:{active:t.mediaIndex===s},attrs:{src:e.url},on:{click:function(e){return t.selectMediaIndex(s)}}})})),t._v(" "),i("button",{staticClass:"btn btn-link media-add-square",on:{click:t.selectMedia}},[i("i",{staticClass:"fal fa-plus-circle fa-lg text-dark"})])],2)])],1)]),t._v(" "),i("div",{staticClass:"col-4 m-0 p-3 d-flex justify-content-between flex-column"},[i("nav",{staticClass:"nav nav-fill text-uppercase",staticStyle:{"margin-left":"-16px"}},[i("div",{staticClass:"nav-link edit-nav-tab",class:{active:"filters"==t.editTab},on:{click:function(e){return t.toggleEditTab("filters")}}},[t._v("\n\t\t\t\t\t\t\tFilters\n\t\t\t\t\t\t")]),t._v(" "),i("div",{staticClass:"nav-link edit-nav-tab",class:{active:"edit"==t.editTab},on:{click:function(e){return t.toggleEditTab("edit")}}},[t._v("\n\t\t\t\t\t\t\tEdit\n\t\t\t\t\t\t")])]),t._v(" "),"filters"==t.editTab?i("div",{staticClass:"row pr-3 hide-scroll mt-2",staticStyle:{height:"450px","overflow-y":"auto"}},[i("div",{staticClass:"col-4 mb-3",on:{click:function(e){return t.selectFilter(null)}}},[i("p",{staticClass:"font-weight-bold text-center small mb-1",class:[null==t.activeFilter?"text-dark":"text-lighter"]},[t._v("Original")]),t._v(" "),i("span",{staticClass:"border rounded d-block overflow-hidden",class:[null==t.activeFilter?"shadow-lg":""]},[t._m(15)])]),t._v(" "),t._l(t.filters,(function(e,s){return i("div",{staticClass:"col-4 mb-3",on:{click:function(e){return t.selectFilter(s)}}},[i("p",{staticClass:"font-weight-bold text-center small mb-1",class:[t.activeFilter==s?"text-dark":"text-lighter"]},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e[0])+"\n\t\t\t\t\t\t\t")]),t._v(" "),i("span",{staticClass:"border rounded d-block overflow-hidden",class:[t.activeFilter==s?"shadow-lg":""]},[i("span",{staticClass:"d-block",class:e[1]},[i("img",{staticStyle:{width:"100%",height:"auto"},attrs:{src:"https://pixelfed.test/storage/m/_v2/321493203255693312/f98697a52-a34568/N3fVbXluhhaO/qmqOrgXvjyWVa7GyTHYP6Vs9ZNskrQ4YNbdks2DZ.jpg"}})])])])}))],2):t._e(),t._v(" "),"edit"==t.editTab?i("div",{staticClass:"settings-tab hide-scroll mt-0"},[i("button",{staticClass:"list-btn border-top-0 pb-1",attrs:{type:"button"}},[i("div",{staticClass:"text-left mr-3",staticStyle:{"flex-grow":"1"}},[i("p",{staticClass:"mb-0 font-weight-bold"},[t._v("\n\t\t\t\t\t\t\t\t\tBrightness\n\t\t\t\t\t\t\t\t")]),t._v(" "),i("b-form-input",{attrs:{type:"range",min:"0",max:"200"},model:{value:t.edit.brightness,callback:function(e){t.$set(t.edit,"brightness",e)},expression:"edit.brightness"}})],1),t._v(" "),i("p",{staticClass:"font-weight-light mb-0",staticStyle:{width:"50px"}},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.edit.brightness-100)+"\n\t\t\t\t\t\t\t")])]),t._v(" "),i("button",{staticClass:"list-btn border-top-0 pb-1",attrs:{type:"button"}},[i("div",{staticClass:"text-left mr-3",staticStyle:{"flex-grow":"1"}},[i("p",{staticClass:"mb-0 font-weight-bold"},[t._v("\n\t\t\t\t\t\t\t\t\tContrast\n\t\t\t\t\t\t\t\t")]),t._v(" "),i("b-form-input",{attrs:{type:"range",min:"0",max:"200"},model:{value:t.edit.contrast,callback:function(e){t.$set(t.edit,"contrast",e)},expression:"edit.contrast"}})],1),t._v(" "),i("p",{staticClass:"font-weight-light mb-0",staticStyle:{width:"50px"}},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.edit.contrast-100)+"\n\t\t\t\t\t\t\t")])]),t._v(" "),i("button",{staticClass:"list-btn border-top-0 pb-1",attrs:{type:"button"}},[i("div",{staticClass:"text-left mr-3",staticStyle:{"flex-grow":"1"}},[i("p",{staticClass:"mb-0 font-weight-bold"},[t._v("\n\t\t\t\t\t\t\t\t\tSaturation\n\t\t\t\t\t\t\t\t")]),t._v(" "),i("b-form-input",{attrs:{type:"range",min:"0",max:"200"},model:{value:t.edit.saturation,callback:function(e){t.$set(t.edit,"saturation",e)},expression:"edit.saturation"}})],1),t._v(" "),i("p",{staticClass:"font-weight-light mb-0",staticStyle:{width:"50px"}},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.edit.saturation-100)+"\n\t\t\t\t\t\t\t")])])]):t._e(),t._v(" "),i("div",{staticClass:"ml-n3 px-3 pt-3 border-top"},[i("button",{staticClass:"btn btn-primary font-weight-bold btn-block py-1",on:{click:t.applyEdit}},[t._v("Next")])])])]):t._e(),t._v(" "),"caption"==t.tab?i("div",{staticClass:"tab row"},[i("div",{staticClass:"col-8 border-right d-flex justify-content-center align-items-center"},[i("div",{staticClass:"py-4",staticStyle:{width:"60%",height:"auto"}},[i("img",{staticStyle:{"object-fit":"contain"},style:t.previewCssFilters,attrs:{src:t.media[t.mediaIndex].url,width:"100%",height:"400"}}),t._v(" "),i("transition",{attrs:{name:"fade"}},[i("div",{staticClass:"media-thumbs"},[t._l(t.media,(function(e,s){return i("img",{staticClass:"media-square",class:{active:t.mediaIndex===s},attrs:{src:e.url},on:{click:function(e){return t.selectMediaIndex(s)}}})})),t._v(" "),i("button",{staticClass:"btn btn-link media-add-square",on:{click:t.selectMedia}},[i("i",{staticClass:"fal fa-plus-circle fa-lg text-dark"})])],2)])],1)]),t._v(" "),i("div",{staticClass:"col-4 m-0 p-3 d-flex justify-content-between flex-column"},[i("div",{staticClass:"pr-3"},[i("div",{staticClass:"media align-items-center mb-3"},[i("img",{staticClass:"rounded-circle mr-3",attrs:{src:t.profile.avatar,width:"30",height:"30"}}),t._v(" "),i("div",{staticClass:"media-body lead font-weight-bold"},[t._v(t._s(t.profile.username))])]),t._v(" "),i("div",{staticClass:"form-group mb-3"},[i("div",{staticClass:"border rounded"},[i("vue-tribute",{attrs:{options:t.tributeSettings}},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.composeText,expression:"composeText"}],staticClass:"form-control border-0 no-focus",staticStyle:{resize:"none","border-radius":"8px"},attrs:{rows:"3",placeholder:"Add an optional caption...",maxlength:"1000"},domProps:{value:t.composeText},on:{input:function(e){e.target.composing||(t.composeText=e.target.value)}}})]),t._v(" "),i("div",{staticClass:"text-lighter p-2 d-flex align-items-end justify-content-between"},[i("div",[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(t.composeText?t.composeText.length:0)),i("span",{staticStyle:{margin:"auto 2px"}},[t._v("/")]),t._v("1000\n\t\t\t\t\t\t\t\t\t")]),t._v(" "),t._m(16)])],1)]),t._v(" "),t._m(17)]),t._v(" "),i("div",{staticClass:"list-group ml-n3 rounded-0 flex-grow-1"},[i("div",{staticClass:"list-btn"},[i("div",{staticClass:"lead mb-0"},[t._v("Sensitive")]),t._v(" "),i("button",{staticClass:"btn btn-link p-0",on:{click:t.toggleSensitive}},[i("i",{staticClass:"fal no-focus fa-2x",class:[t.sensitive?"fa-toggle-on text-danger":"fa-toggle-off text-lighter"]})])]),t._v(" "),i("button",{staticClass:"list-btn",attrs:{type:"button"},on:{click:t.editAltText}},[i("div",{staticClass:"lead mb-0"},[t._v("Accessibility")]),t._v(" "),i("div",{staticClass:"text-lighter"},[i("i",{staticClass:"fal fa-lg",class:[t.media.filter((function(t){return t&&t.description&&t.description.length})).length?"fa-check-circle text-success":"fa-chevron-right"]})])]),t._v(" "),i("button",{staticClass:"list-btn",attrs:{type:"button"},on:{click:t.advancedSettings}},[i("div",{staticClass:"lead mb-0"},[t._v("Advanced Settings")]),t._v(" "),t._m(18)]),t._v(" "),t.collections.length&&t.collectionsSelected.length?i("button",{staticClass:"list-btn",attrs:{type:"button"},on:{click:t.editCollection}},[i("div",{staticClass:"lead mb-0"},[t._v("Sharing to "+t._s(t.collectionsSelected.length)+" collections")]),t._v(" "),t._m(19)]):t._e()]),t._v(" "),i("div",{staticClass:"ml-n3 px-3 pt-3 border-top"},[i("button",{staticClass:"btn btn-primary font-weight-bold btn-block py-1",attrs:{disabled:t.isPosting},on:{click:t.sharePost}},[t.isPosting?i("b-spinner",{attrs:{small:""}}):i("span",[t._v(t._s(t.$t("common.share")))])],1)])])]):t._e(),t._v(" "),"alt-text"==t.tab?i("div",{staticClass:"tab row"},[i("div",{staticClass:"col-8 border-right d-flex justify-content-center align-items-center"},[i("div",{staticClass:"py-4",staticStyle:{width:"60%",height:"auto"}},[i("img",{staticStyle:{"object-fit":"contain"},style:t.previewCssFilters,attrs:{src:t.media[t.mediaIndex].url,width:"100%",height:"400"}}),t._v(" "),i("transition",{attrs:{name:"fade"}},[i("div",{staticClass:"media-thumbs"},[t._l(t.media,(function(e,s){return i("img",{staticClass:"media-square",class:{active:t.mediaIndex===s},attrs:{src:e.url},on:{click:function(e){return t.selectMediaIndex(s)}}})})),t._v(" "),i("button",{staticClass:"btn btn-link media-add-square",on:{click:t.selectMedia}},[i("i",{staticClass:"fal fa-plus-circle fa-lg text-dark"})])],2)])],1)]),t._v(" "),i("div",{staticClass:"col-4 m-0 p-3 d-flex justify-content-between flex-column"},[i("div",{staticClass:"pr-3"},[i("p",{staticClass:"lead mt-3 pb-3"},[t._v("Describe your media for alt text that is used by people with limited vision")]),t._v(" "),i("div",{staticClass:"form-group mb-3"},[i("div",{staticClass:"border rounded"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.media[t.mediaIndex].description,expression:"media[mediaIndex].description"}],staticClass:"form-control border-0 no-focus",staticStyle:{resize:"none","border-radius":"8px"},attrs:{rows:"3",placeholder:"Add alt text here...",maxlength:"1000"},domProps:{value:t.media[t.mediaIndex].description},on:{input:function(e){e.target.composing||t.$set(t.media[t.mediaIndex],"description",e.target.value)}}}),t._v(" "),i("div",{staticClass:"text-lighter p-2 d-flex align-items-end justify-content-between"},[i("div",[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(t.media[t.mediaIndex].description?t.media[t.mediaIndex].description.length:0)),i("span",{staticStyle:{margin:"auto 2px"}},[t._v("/")]),t._v("1000\n\t\t\t\t\t\t\t\t\t")])])])])]),t._v(" "),i("div",{staticClass:"ml-n3 px-3 pt-3 border-top"},[i("button",{staticClass:"btn btn-light font-weight-bold btn-block py-1",on:{click:function(e){return t.goBack()}}},[t._v("Back")])])])]):t._e(),t._v(" "),"settings"==t.tab?i("div",{staticClass:"tab row"},[i("div",{staticClass:"col-8 border-right d-flex justify-content-center align-items-center"},[i("div",{staticClass:"py-4",staticStyle:{width:"60%",height:"auto"}},[i("img",{staticStyle:{"object-fit":"contain"},style:t.previewCssFilters,attrs:{src:t.media[t.mediaIndex].url,width:"100%",height:"400"}}),t._v(" "),i("transition",{attrs:{name:"fade"}},[i("div",{staticClass:"media-thumbs"},t._l(t.media,(function(e,s){return i("img",{staticClass:"media-square",class:{active:t.mediaIndex===s},attrs:{src:e.url},on:{click:function(e){return t.selectMediaIndex(s)}}})})),0)])],1)]),t._v(" "),i("div",{staticClass:"col-4 m-0 p-3 d-flex justify-content-between flex-column"},["home"==t.settingsTab?i("div",{staticClass:"settings-tab"},[i("button",{staticClass:"list-btn",attrs:{type:"button"},on:{click:t.editAudience}},[i("div",{staticClass:"lead mb-0"},[t._v("Audience")]),t._v(" "),i("div",{staticClass:"text-lighter"},[i("span",{staticClass:"btn btn-light btn-sm font-weight-bold mr-2 my-0 text-capitalize"},[t._v(t._s(t.composeScope))]),t._v(" "),i("i",{staticClass:"fal fa-chevron-right fa-lg"})])]),t._v(" "),i("div",{staticClass:"list-btn"},[i("div",{staticClass:"lead mb-0"},[t._v("Disable Comments")]),t._v(" "),i("button",{staticClass:"btn btn-link p-0",on:{click:t.toggleDisableComments}},[i("i",{staticClass:"fal no-focus fa-2x",class:[t.composeDisabledComments?"fa-toggle-on text-danger":"fa-toggle-off text-lighter"]})])]),t._v(" "),i("button",{staticClass:"list-btn",attrs:{type:"button"},on:{click:t.editLicense}},[i("div",{staticClass:"lead mb-0"},[t._v("License")]),t._v(" "),i("div",{staticClass:"text-lighter"},[i("span",{staticClass:"btn btn-light btn-sm font-weight-bold mr-2 my-0"},[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(t.licenseIndex>=2?t.availableLicenses[t.licenseIndex].title:t.availableLicenses[t.licenseIndex].name)+"\n\t\t\t\t\t\t\t\t")]),t._v(" "),i("i",{staticClass:"fal fa-chevron-right fa-lg"})])]),t._v(" "),i("button",{staticClass:"list-btn",attrs:{type:"button"},on:{click:t.editMedia}},[i("div",{staticClass:"lead mb-0"},[t._v("Media")]),t._v(" "),t._m(20)]),t._v(" "),i("button",{staticClass:"list-btn",attrs:{type:"button"},on:{click:t.editSchedule}},[i("div",{staticClass:"lead mb-0"},[t._v("Schedule")]),t._v(" "),i("div",{staticClass:"text-lighter"},[t.schedule.enabled?i("span",{staticClass:"btn btn-light btn-sm font-weight-bold mr-2 my-0"},[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(t.getScheduleDate())+"\n\t\t\t\t\t\t\t\t")]):t._e(),t._v(" "),i("i",{staticClass:"fal fa-chevron-right fa-lg"})])]),t._v(" "),i("button",{staticClass:"list-btn",attrs:{type:"button"},on:{click:t.editCollection}},[i("div",{staticClass:"lead mb-0"},[t._v("Share to Collection")]),t._v(" "),t._m(21)])]):t._e(),t._v(" "),"audience"==t.settingsTab?i("div",{staticClass:"settings-tab"},[i("button",{staticClass:"list-btn",class:{active:"public"==t.composeScope},attrs:{type:"button"},on:{click:function(e){return t.setScope("public")}}},[i("div",{staticClass:"lead mb-0"},[t._v("Public")]),t._v(" "),t._m(22)]),t._v(" "),i("button",{staticClass:"list-btn",class:{active:"unlisted"==t.composeScope},attrs:{type:"button"},on:{click:function(e){return t.setScope("unlisted")}}},[i("div",{staticClass:"lead mb-0"},[t._v("Unlisted")]),t._v(" "),t._m(23)]),t._v(" "),i("button",{staticClass:"list-btn",class:{active:"followers"==t.composeScope},attrs:{type:"button"},on:{click:function(e){return t.setScope("followers")}}},[i("div",{staticClass:"lead mb-0"},[t._v("Followers Only")]),t._v(" "),t._m(24)])]):t._e(),t._v(" "),"license"==t.settingsTab?i("div",{staticClass:"settings-tab"},t._l(t.availableLicenses,(function(e,s){return i("button",{staticClass:"list-btn",class:{active:t.licenseIndex==s},attrs:{type:"button"},on:{click:function(e){return t.setLicense(s)}}},[i("div",{staticClass:"lead mb-0"},[t._v(t._s(e.name))]),t._v(" "),t._m(25,!0)])})),0):t._e(),t._v(" "),"media"==t.settingsTab?i("div",{staticClass:"settings-tab"},[t._m(26),t._v(" "),t._m(27)]):t._e(),t._v(" "),"schedule"==t.settingsTab?i("div",{staticClass:"settings-tab"},[i("div",{staticClass:"list-btn"},[i("div",{staticClass:"lead mb-0"},[t._v("Schedule Post")]),t._v(" "),i("button",{staticClass:"btn btn-link p-0",on:{click:t.toggleSchedule}},[i("i",{staticClass:"fal no-focus fa-2x",class:[t.schedule.enabled?"fa-toggle-on text-danger":"fa-toggle-off text-lighter"]})])]),t._v(" "),i("div",{staticClass:"list-btn"},[t._m(28),t._v(" "),i("b-form-datepicker",{attrs:{min:t.schedule.minDate,max:t.schedule.maxDate,"date-format-options":{year:"numeric",month:"long",day:"2-digit"}},model:{value:t.schedule.date,callback:function(e){t.$set(t.schedule,"date",e)},expression:"schedule.date"}})],1),t._v(" "),i("div",{staticClass:"list-btn"},[t._m(29),t._v(" "),i("b-form-timepicker",{attrs:{locale:"en"},model:{value:t.schedule.time,callback:function(e){t.$set(t.schedule,"time",e)},expression:"schedule.time"}})],1),t._v(" "),i("div",{staticClass:"list-btn border-bottom-0"},[i("div",[i("p",{staticClass:"small text-muted mb-0"},[t._v("You can set a date up to 2 months away.")]),t._v(" "),i("p",{staticClass:"small text-muted"},[t._v("Date & time relative to "),i("strong",[t._v(t._s(t.schedule.tz))]),t._v(" timezone.")])])])]):t._e(),t._v(" "),"collection"==t.settingsTab?i("div",[t.collectionsLoaded?i("div",{staticClass:"settings-tab"},[t.collectionsSelected.length?i("div",{staticClass:"list-btn justify-content-center py-2 bg-light",staticStyle:{position:"sticky",top:"0","z-index":"1"}},[i("div",{staticClass:"text-center"},[i("p",{staticClass:"font-weight-bold mb-0"},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(t.collectionsSelected.length)+" "+t._s(1==t.collectionsSelected.length?"collection":"collections")+" selected\n\t\t\t\t\t\t\t\t\t")]),t._v(" "),5==t.collectionsSelected.length?i("p",{staticClass:"mb-0 small text-muted"},[t._v("5 collections max can be shared to")]):t._e()])]):t._e(),t._v(" "),t._l(t.collections,(function(e,s){return i("button",{staticClass:"list-btn",class:{"border-bottom-0":t.collections.length>=8&&s==t.collections.length-1&&!t.collectionsCanLoadMore},attrs:{type:"button",disabled:5==t.collectionsSelected.length&&-1==t.collectionsSelected.indexOf(e.id)},on:{click:function(i){return t.addToCollections(e.id)}}},[i("div",{staticClass:"media"},[i("img",{staticClass:"rounded-lg border mr-3",staticStyle:{"object-fit":"cover"},attrs:{src:e.thumb,width:"65",height:"65"}}),t._v(" "),i("div",{staticClass:"media-body text-left"},[i("p",{staticClass:"lead mb-0"},[t._v(t._s(e.title))]),t._v(" "),i("p",{staticClass:"small text-muted mb-1"},[t._v(t._s(e.description||"No description available"))]),t._v(" "),i("p",{staticClass:"small text-lighter mb-0 font-weight-bold"},[i("span",[t._v(t._s(e.post_count)+" posts")]),t._v(" "),i("span",[t._v("Â·")]),t._v(" "),i("span",[t._v("Created "+t._s(t.timeago(e.published_at))+" ago")])])])]),t._v(" "),i("div",{staticClass:"text-lighter"},[-1==t.collectionsSelected.indexOf(e.id)?i("i",{staticClass:"fal fa-circle fa-lg"}):i("i",{staticClass:"far fa-dot-circle fa-lg text-success"})])])})),t._v(" "),t.collectionsCanLoadMore?i("button",{staticClass:"list-btn border-bottom-0 justify-content-center py-4",attrs:{type:"button"},on:{click:t.collectionsLoadMore}},[i("i",{staticClass:"fal fa-plus-circle fa-2x"})]):t._e()],2):i("div",[i("b-spinner")],1)]):t._e(),t._v(" "),"group"==t.settingsTab?i("div",{staticClass:"settings-tab"},[i("div",{staticClass:"list-btn"},[t._v("\n\t\t\t\t\t\t\tGroups here\n\t\t\t\t\t\t")])]):t._e(),t._v(" "),"tag"==t.settingsTab?i("div",{staticClass:"settings-tab"},[i("div",{staticClass:"list-btn"},[t._v("\n\t\t\t\t\t\t\tTag ppl\n\t\t\t\t\t\t")])]):t._e(),t._v(" "),i("div",{staticClass:"ml-n3 px-3 pt-3 border-top"},[i("button",{staticClass:"btn btn-light font-weight-bold btn-block py-1",on:{click:function(e){return t.goBack()}}},[t._v("Back")])])])]):t._e()])])])},a=[function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("i",{staticClass:"fal fa-times fa-lg text-white"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("i",{staticClass:"fal fa-times fa-lg text-white"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("i",{staticClass:"fal fa-times fa-lg text-white"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("i",{staticClass:"fal fa-times fa-lg text-white"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("i",{staticClass:"fal fa-times fa-lg text-white"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("i",{staticClass:"fal fa-times fa-lg text-white"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("i",{staticClass:"fal fa-times fa-lg text-white"})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"card card-body shadow-none text-center mx-4",staticStyle:{"border-radius":"18px"}},[i("i",{staticClass:"fal fa-image fa-3x my-3 text-lighter"}),t._v(" "),i("p",{staticClass:"font-weight-bold text-dark mb-0"},[t._v("Drag photos or videos here")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("button",{staticClass:"btn crop-dimension-btn active"},[i("div",{staticClass:"crop-dimension-btn-label"},[i("span",{staticClass:"crop-dimension-btn-label-icon"},[i("i",{staticClass:"fal fa-image fa-2x"})]),t._v(" "),i("span",{staticClass:"crop-dimension-btn-label-name"},[t._v("Original")])]),t._v(" "),i("span",{staticClass:"crop-dimension-btn-indicator"},[i("i",{staticClass:"far fa-circle fa-lg text-lighter"})])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"crop-dimension-btn-label"},[i("span",{staticClass:"crop-dimension-btn-label-icon"},[i("i",{staticClass:"fal fa-square fa-2x"})]),t._v(" "),i("span",{staticClass:"crop-dimension-btn-label-name"},[t._v("Square (1:1)")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"crop-dimension-btn-indicator"},[e("i",{staticClass:"far fa-circle fa-lg text-lighter"})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"crop-dimension-btn-label"},[i("span",{staticClass:"crop-dimension-btn-label-icon"},[i("i",{staticClass:"fal fa-rectangle-portrait fa-2x"})]),t._v(" "),i("span",{staticClass:"crop-dimension-btn-label-name"},[t._v("Portrait (4:5)")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"crop-dimension-btn-indicator"},[e("i",{staticClass:"far fa-circle fa-lg text-lighter"})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"crop-dimension-btn-label"},[i("span",{staticClass:"crop-dimension-btn-label-icon"},[i("i",{staticClass:"fal fa-rectangle-landscape fa-2x"})]),t._v(" "),i("span",{staticClass:"crop-dimension-btn-label-name"},[t._v("Landscape (16:9)")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"crop-dimension-btn-indicator"},[e("i",{staticClass:"far fa-circle fa-lg text-lighter"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("img",{staticStyle:{width:"100%",height:"auto"},attrs:{src:"https://pixelfed.test/storage/m/_v2/321493203255693312/f98697a52-a34568/N3fVbXluhhaO/qmqOrgXvjyWVa7GyTHYP6Vs9ZNskrQ4YNbdks2DZ.jpg"}})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"text-lighter"},[i("span",[i("i",{staticClass:"fal fa-at",staticStyle:{"font-size":"20px"}})]),t._v(" "),i("span",{staticClass:"ml-2"},[i("i",{staticClass:"fal fa-hashtag",staticStyle:{"font-size":"20px"}})]),t._v(" "),i("span",{staticClass:"ml-2"},[i("i",{staticClass:"fal fa-smile",staticStyle:{"font-size":"20px"}})])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"form-group",staticStyle:{position:"relative"}},[i("input",{staticClass:"form-control",staticStyle:{"padding-left":"35px",height:"45px","font-size":"15px","border-radius":"8px"},attrs:{type:"text",placeholder:"Add Location",disabled:""}}),t._v(" "),i("span",{staticStyle:{left:"13px",top:"50%",transform:"translateY(-50%)",position:"absolute"}},[i("i",{staticClass:"fal fa-map-marker-alt text-lighter"})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text-lighter"},[e("i",{staticClass:"fal fa-chevron-right fa-lg"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text-lighter"},[e("i",{staticClass:"fal fa-chevron-right fa-lg"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text-lighter"},[e("i",{staticClass:"fal fa-chevron-right fa-lg"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text-lighter"},[e("i",{staticClass:"fal fa-chevron-right fa-lg"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text-lighter"},[e("i",{staticClass:"fal fa-chevron-right fa-lg"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text-lighter"},[e("i",{staticClass:"fal fa-chevron-right fa-lg"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text-lighter"},[e("i",{staticClass:"fal fa-chevron-right fa-lg"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text-lighter"},[e("i",{staticClass:"fal fa-chevron-right fa-lg"})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"list-btn"},[i("div",{staticClass:"text-left"},[i("div",{staticClass:"lead mb-0"},[t._v("Disable media optimization")]),t._v(" "),i("p",{staticClass:"small mb-0 text-muted"},[t._v("Prevents image optimization that may degrade quality. Only available for single photo posts.")])]),t._v(" "),i("button",{staticClass:"btn btn-link p-0",attrs:{disabled:""}},[i("i",{staticClass:"fal fa-toggle-off text-lighter no-focus fa-2x"})])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"list-btn"},[i("div",{staticClass:"text-left"},[i("div",{staticClass:"lead mb-0"},[t._v("Strip EXIF")]),t._v(" "),i("p",{staticClass:"small mb-0 text-muted"},[t._v("Strips all EXIF data that may leak location information.")])]),t._v(" "),i("button",{staticClass:"btn btn-link p-0",attrs:{disabled:""}},[i("i",{staticClass:"fal fa-toggle-on text-danger no-focus fa-2x"})])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"text-left"},[i("div",{staticClass:"lead mb-0 mr-4"},[t._v("Date")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"text-left"},[i("div",{staticClass:"lead mb-0 mr-4"},[t._v("Time")])])}]},66425:(t,e,i)=>{i.r(e),i.d(e,{render:()=>s,staticRenderFns:()=>a});var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"compose-modal-component"},[i("input",{staticClass:"w-100 h-100 d-none file-input",attrs:{type:"file",id:"pf-dz",name:"media",multiple:"",accept:t.config.uploader.media_types}}),t._v(" "),i("canvas",{staticClass:"d-none",attrs:{id:"pr_canvas"}}),t._v(" "),i("img",{staticClass:"d-none",attrs:{id:"pr_img"}}),t._v(" "),i("div",{staticClass:"timeline"},[t.uploading?i("div",[i("div",{staticClass:"card status-card card-md-rounded-0 w-100 h-100 bg-light py-3",staticStyle:{"border-bottom":"1px solid #f1f1f1"}},[i("div",{staticClass:"p-5 mt-2"},[i("b-progress",{attrs:{value:t.uploadProgress,max:100,striped:"",animated:!0}}),t._v(" "),i("p",{staticClass:"text-center mb-0 font-weight-bold"},[t._v("Uploading ... ("+t._s(t.uploadProgress)+"%)")])],1)])]):"cameraRoll"==t.page?i("div",[i("div",{staticClass:"card status-card card-md-rounded-0",staticStyle:{display:"flex"}},[t._m(0),t._v(" "),i("div",{staticClass:"h-100 card-body p-0 border-top",staticStyle:{width:"100%","min-height":"400px"}},[t.cameraRollMedia.length>0?i("div",{staticClass:"row p-0 m-0"},t._l(t.cameraRollMedia,(function(t,e){return i("div",{class:[0==e?"col-12 p-0":"col-3 p-0"]},[i("div",{staticClass:"card info-overlay p-0 rounded-0 shadow-none border"},[i("div",{staticClass:"square"},[i("img",{staticClass:"square-content",attrs:{src:t.preview_url}})])])])})),0):i("div",{staticClass:"w-100 h-100 d-flex justify-content-center align-items-center"},[i("span",{staticClass:"w-100 h-100"},[i("button",{staticClass:"btn btn-primary",attrs:{type:"button"}},[t._v("Upload")]),t._v(" "),i("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.fetchCameraRollDrafts()}}},[t._v("Load Camera Roll")])])])])])]):"poll"==t.page?i("div",[i("div",{staticClass:"card status-card card-md-rounded-0",staticStyle:{display:"flex"}},[i("div",{staticClass:"card-header d-inline-flex align-items-center justify-content-between bg-white"},[t._m(1),t._v(" "),i("span",{staticClass:"font-weight-bold"},[t._v("\n\t\t\t\t\t\tNew Poll\n\t\t\t\t\t")]),t._v(" "),t.postingPoll?i("span",[t._m(2)]):!t.postingPoll&&t.pollOptions.length>1&&t.composeText.length?i("button",{staticClass:"btn btn-primary btn-sm font-weight-bold",on:{click:t.postNewPoll}},[i("span",[t._v("Create Poll")])]):i("span",{staticClass:"font-weight-bold text-lighter"},[t._v("\n\t\t\t\t\t\tCreate Poll\n\t\t\t\t\t")])]),t._v(" "),i("div",{staticClass:"h-100 card-body p-0 border-top",staticStyle:{width:"100%","min-height":"400px"}},[i("div",{staticClass:"border-bottom mt-2"},[i("div",{staticClass:"media px-3"},[i("img",{staticClass:"rounded-circle",attrs:{src:t.profile.avatar,width:"42px",height:"42px"}}),t._v(" "),i("div",{staticClass:"media-body"},[i("div",{staticClass:"form-group"},[i("label",{staticClass:"font-weight-bold text-muted small d-none"},[t._v("Caption")]),t._v(" "),i("vue-tribute",{attrs:{options:t.tributeSettings}},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.composeText,expression:"composeText"}],staticClass:"form-control border-0 rounded-0 no-focus",attrs:{rows:"3",placeholder:"Write a poll question..."},domProps:{value:t.composeText},on:{keyup:function(e){t.composeTextLength=t.composeText.length},input:function(e){e.target.composing||(t.composeText=e.target.value)}}})]),t._v(" "),i("p",{staticClass:"help-text small text-right text-muted mb-0"},[t._v(t._s(t.composeTextLength)+"/"+t._s(t.config.uploader.max_caption_length))])],1)])])]),t._v(" "),i("div",{staticClass:"p-3"},[i("p",{staticClass:"font-weight-bold text-muted small"},[t._v("\n\t\t\t\t\t\t\tPoll Options\n\t\t\t\t\t\t")]),t._v(" "),t.pollOptions.length<4?i("div",{staticClass:"form-group mb-4"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.pollOptionModel,expression:"pollOptionModel"}],staticClass:"form-control rounded-pill",attrs:{type:"text",placeholder:"Add a poll option, press enter to save"},domProps:{value:t.pollOptionModel},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.savePollOption.apply(null,arguments)},input:function(e){e.target.composing||(t.pollOptionModel=e.target.value)}}})]):t._e(),t._v(" "),t._l(t.pollOptions,(function(e,s){return i("div",{staticClass:"form-group mb-4 d-flex align-items-center",staticStyle:{"max-width":"400px",position:"relative"}},[i("span",{staticClass:"font-weight-bold mr-2",staticStyle:{position:"absolute",left:"10px"}},[t._v(t._s(s+1)+".")]),t._v(" "),t.pollOptions[s].length<50?i("input",{directives:[{name:"model",rawName:"v-model",value:t.pollOptions[s],expression:"pollOptions[index]"}],staticClass:"form-control rounded-pill",staticStyle:{"padding-left":"30px","padding-right":"90px"},attrs:{type:"text",placeholder:"Add a poll option, press enter to save"},domProps:{value:t.pollOptions[s]},on:{input:function(e){e.target.composing||t.$set(t.pollOptions,s,e.target.value)}}}):i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.pollOptions[s],expression:"pollOptions[index]"}],staticClass:"form-control",staticStyle:{"padding-left":"30px","padding-right":"90px"},attrs:{placeholder:"Add a poll option, press enter to save",rows:"3"},domProps:{value:t.pollOptions[s]},on:{input:function(e){e.target.composing||t.$set(t.pollOptions,s,e.target.value)}}}),t._v(" "),i("button",{staticClass:"btn btn-danger btn-sm rounded-pill font-weight-bold",staticStyle:{position:"absolute",right:"5px"},on:{click:function(e){return t.deletePollOption(s)}}},[i("i",{staticClass:"fas fa-trash"}),t._v(" Delete\n\t\t\t\t\t\t\t")])])})),t._v(" "),i("hr"),t._v(" "),i("div",{staticClass:"d-flex justify-content-between"},[i("div",[i("p",{staticClass:"font-weight-bold text-muted small"},[t._v("\n\t\t\t\t\t\t\t\t\tPoll Expiry\n\t\t\t\t\t\t\t\t")]),t._v(" "),i("div",{staticClass:"form-group"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.pollExpiry,expression:"pollExpiry"}],staticClass:"form-control rounded-pill",staticStyle:{width:"200px"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.pollExpiry=e.target.multiple?i:i[0]}}},[i("option",{attrs:{value:"60"}},[t._v("1 hour")]),t._v(" "),i("option",{attrs:{value:"360"}},[t._v("6 hours")]),t._v(" "),i("option",{attrs:{value:"1440",selected:""}},[t._v("24 hours")]),t._v(" "),i("option",{attrs:{value:"10080"}},[t._v("7 days")])])])]),t._v(" "),i("div",[i("p",{staticClass:"font-weight-bold text-muted small"},[t._v("\n\t\t\t\t\t\t\t\t\tPoll Visibility\n\t\t\t\t\t\t\t\t")]),t._v(" "),i("div",{staticClass:"form-group"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.visibility,expression:"visibility"}],staticClass:"form-control rounded-pill",staticStyle:{"max-width":"200px"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.visibility=e.target.multiple?i:i[0]}}},[i("option",{attrs:{value:"public"}},[t._v("Public")]),t._v(" "),i("option",{attrs:{value:"private"}},[t._v("Followers Only")])])])])])],2)])])]):i("div",[i("div",{staticClass:"card status-card card-md-rounded-0 w-100 h-100",staticStyle:{display:"flex"}},[i("div",{staticClass:"card-header d-inline-flex align-items-center justify-content-between bg-white"},[i("div",[1==t.page?i("a",{staticClass:"font-weight-bold text-decoration-none text-muted",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.closeModal()}}},[i("i",{staticClass:"fas fa-times fa-lg"}),t._v(" "),i("span",{staticClass:"font-weight-bold mb-0"},[t._v(t._s(t.pageTitle))])]):2==t.page?i("span",[t.config.uploader.album_limit>t.media.length?i("button",{staticClass:"btn btn-outline-primary btn-sm font-weight-bold",attrs:{id:"cm-add-media-btn"},on:{click:function(e){return e.preventDefault(),t.addMedia.apply(null,arguments)}}},[i("i",{staticClass:"fas fa-plus"})]):i("button",{staticClass:"btn btn-outline-secondary btn-sm font-weight-bold",attrs:{disabled:""}},[i("i",{staticClass:"fas fa-plus"})]),t._v(" "),i("b-tooltip",{attrs:{target:"cm-add-media-btn",triggers:"hover"}},[t._v("\n\t\t\t\t\t\t\t\tUpload another photo or video\n\t\t\t\t\t\t\t")])],1):3==t.page?i("span",[i("a",{staticClass:"text-lighter text-decoration-none mr-3 d-flex align-items-center",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.goBack()}}},[i("i",{staticClass:"fas fa-long-arrow-alt-left fa-lg mr-2"}),t._v(" "),i("span",{staticClass:"btn btn-outline-secondary btn-sm px-2 py-0 disabled",attrs:{disabled:""}},[t._v(t._s(t.media.length))])]),t._v(" "),i("span",{staticClass:"font-weight-bold mb-0"},[t._v(t._s(t.pageTitle))])]):i("span",[i("a",{staticClass:"text-lighter text-decoration-none mr-3",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.goBack()}}},[i("i",{staticClass:"fas fa-long-arrow-alt-left fa-lg"})])]),t._v(" "),i("span",{staticClass:"font-weight-bold mb-0"},[t._v(t._s(t.pageTitle))])]),t._v(" "),2==t.page?i("div",[1==t.media.length?i("a",{staticClass:"text-center text-dark",attrs:{href:"#",title:"Crop & Resize",id:"cm-crop-btn"},on:{click:function(e){return e.preventDefault(),t.showCropPhotoCard.apply(null,arguments)}}},[i("i",{staticClass:"fas fa-crop-alt fa-lg"})]):t._e(),t._v(" "),i("b-tooltip",{attrs:{target:"cm-crop-btn",triggers:"hover"}},[t._v("\n\t\t\t\t\t\t\tCrop & Resize\n\t\t\t\t\t\t")])],1):t._e(),t._v(" "),i("div",[t.pageLoading?i("span",[t._m(3)]):i("span",[!t.pageLoading&&t.page>1&&t.page<=2||1==t.page&&0!=t.ids.length||"cropPhoto"==t.page?i("a",{staticClass:"font-weight-bold text-decoration-none",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.nextPage.apply(null,arguments)}}},[t._v("Next")]):t._e(),t._v(" "),t.pageLoading||3!=t.page?t._e():i("a",{staticClass:"font-weight-bold text-decoration-none",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.compose()}}},[t._v("Post")]),t._v(" "),t.pageLoading||"addText"!=t.page?t._e():i("a",{staticClass:"font-weight-bold text-decoration-none",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.composeTextPost()}}},[t._v("Post")]),t._v(" "),t.pageLoading||"video-2"!=t.page?t._e():i("a",{staticClass:"font-weight-bold text-decoration-none",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.compose()}}},[t._v("Post")])])])]),t._v(" "),i("div",{staticClass:"card-body p-0 border-top"},["licensePicker"==t.page?i("div",{staticClass:"w-100 h-100",staticStyle:{"min-height":"280px"}},[i("div",{staticClass:"list-group list-group-flush"},t._l(t.availableLicenses,(function(e,s){return i("div",{staticClass:"list-group-item cursor-pointer",class:{"text-primary":t.licenseId===e.id,"font-weight-bold":t.licenseId===e.id},on:{click:function(i){return t.toggleLicense(e)}}},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t\t\t\t")])})),0)]):t._e(),t._v(" "),"textOptions"==t.page?i("div",{staticClass:"w-100 h-100",staticStyle:{"min-height":"280px"}}):t._e(),t._v(" "),"addText"==t.page?i("div",{staticClass:"w-100 h-100",staticStyle:{"min-height":"280px"}},[i("div",{staticClass:"mt-2"},[i("div",{staticClass:"media px-3"},[i("div",{staticClass:"media-body"},[i("div",{staticClass:"form-group"},[i("label",{staticClass:"font-weight-bold text-muted small d-none"},[t._v("Body")]),t._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.composeText,expression:"composeText"}],staticClass:"form-control border-0 rounded-0 no-focus",staticStyle:{"font-size":"18px",resize:"none"},attrs:{rows:"7",placeholder:"What's happening?"},domProps:{value:t.composeText},on:{keyup:function(e){t.composeTextLength=t.composeText.length},input:function(e){e.target.composing||(t.composeText=e.target.value)}}}),t._v(" "),i("div",{staticClass:"border-bottom"}),t._v(" "),i("p",{staticClass:"help-text small text-right text-muted mb-0 font-weight-bold"},[t._v(t._s(t.composeTextLength)+"/"+t._s(t.config.uploader.max_caption_length))]),t._v(" "),i("p",{staticClass:"mb-0 mt-2"},[i("a",{staticClass:"btn btn-primary rounded-pill mr-2",staticStyle:{height:"37px"},attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.showTextOptions()}}},[i("i",{staticClass:"fas fa-palette px-3 text-white"})]),t._v(" "),i("a",{staticClass:"btn rounded-pill mx-3 d-inline-flex align-items-center",class:[t.nsfw?"btn-danger":"btn-outline-lighter"],staticStyle:{height:"37px"},attrs:{href:"#",title:"Mark as sensitive/not safe for work"},on:{click:function(e){e.preventDefault(),t.nsfw=!t.nsfw}}},[i("i",{staticClass:"far fa-flag px-3"}),t._v(" "),i("span",{staticClass:"text-muted small font-weight-bold"})]),t._v(" "),i("a",{staticClass:"btn btn-outline-lighter rounded-pill d-inline-flex align-items-center",staticStyle:{height:"37px"},attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.showVisibilityCard()}}},[i("i",{staticClass:"fas fa-eye mr-2"}),t._v(" "),i("span",{staticClass:"text-muted small font-weight-bold"},[t._v(t._s(t.visibilityTag))])])])])])])])]):t._e(),t._v(" "),1==t.page?i("div",{staticClass:"w-100 h-100 d-flex justify-content-center align-items-center",staticStyle:{"min-height":"400px"}},[i("div",{staticClass:"text-center"},[0==t.media.length?i("div",{staticClass:"card my-md-3 shadow-none border compose-action text-decoration-none text-dark"},[i("div",{staticClass:"card-body py-2",on:{click:function(e){return e.preventDefault(),t.addMedia.apply(null,arguments)}}},[i("div",{staticClass:"media"},[t._m(4),t._v(" "),i("div",{staticClass:"media-body text-left"},[t._m(5),t._v(" "),i("p",{staticClass:"mb-0 text-muted"},[t._v("Share up to "+t._s(t.config.uploader.album_limit)+" photos or videos")]),t._v(" "),i("p",{staticClass:"mb-0 text-muted small"},[i("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.config.uploader.media_types.split(",").map((function(t){return t.split("/")[1]})).join(", ")))]),t._v(" allowed up to "),i("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.filesize(t.config.uploader.max_photo_size)))])])])])])]):t._e(),t._v(" "),t._e(),t._v(" "),1==t.config.features.stories?i("a",{staticClass:"card my-md-3 shadow-none border compose-action text-decoration-none text-dark",attrs:{href:"/i/stories/new"}},[t._m(7)]):t._e(),t._v(" "),t._e(),t._v(" "),t._m(9),t._v(" "),t._m(10)])]):t._e(),t._v(" "),"cropPhoto"==t.page?i("div",{staticClass:"w-100 h-100"},[t.ids.length>0?i("div",[i("vue-cropper",{ref:"cropper",attrs:{relativeZoom:t.cropper.zoom,aspectRatio:t.cropper.aspectRatio,viewMode:t.cropper.viewMode,zoomable:t.cropper.zoomable,rotatable:!0,src:t.media[t.carouselCursor].url}})],1):t._e()]):t._e(),t._v(" "),2==t.page?i("div",{staticClass:"w-100 h-100"},[1==t.media.length?i("div",[i("div",{staticStyle:{display:"flex","min-height":"420px","align-items":"center"},attrs:{slot:"img"},slot:"img"},[i("img",{class:"d-block img-fluid w-100 "+[t.media[t.carouselCursor].filter_class?t.media[t.carouselCursor].filter_class:""],attrs:{src:t.media[t.carouselCursor].url,alt:t.media[t.carouselCursor].description,title:t.media[t.carouselCursor].description}})]),t._v(" "),i("hr"),t._v(" "),t.ids.length>0&&"image"==t.media[t.carouselCursor].type?i("div",{staticClass:"align-items-center px-2 pt-2"},[i("ul",{staticClass:"nav media-drawer-filters text-center"},[i("li",{staticClass:"nav-item"},[i("div",{staticClass:"p-1 pt-3"},[i("img",{staticClass:"cursor-pointer",attrs:{src:t.media[t.carouselCursor].url,width:"100px",height:"60px"},on:{click:function(e){return e.preventDefault(),t.toggleFilter(e,null)}}})]),t._v(" "),i("a",{class:[null==t.media[t.carouselCursor].filter_class?"nav-link text-primary active":"nav-link text-muted"],attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.toggleFilter(e,null)}}},[t._v("No Filter")])]),t._v(" "),t._l(t.filters,(function(e,s){return i("li",{staticClass:"nav-item"},[i("div",{staticClass:"p-1 pt-3"},[i("img",{class:e[1],attrs:{src:t.media[t.carouselCursor].url,width:"100px",height:"60px"},on:{click:function(i){return i.preventDefault(),t.toggleFilter(i,e[1])}}})]),t._v(" "),i("a",{class:[t.media[t.carouselCursor].filter_class==e[1]?"nav-link text-primary active":"nav-link text-muted"],attrs:{href:"#"},on:{click:function(i){return i.preventDefault(),t.toggleFilter(i,e[1])}}},[t._v(t._s(e[0]))])])}))],2)]):t._e()]):t.media.length>1?i("div",{staticClass:"d-flex-inline px-2 pt-2"},[i("ul",{staticClass:"nav media-drawer-filters text-center"},[i("li",{staticClass:"nav-item mx-md-4"},[t._v("Â ")]),t._v(" "),t._l(t.media,(function(e,s){return i("li",{staticClass:"nav-item mx-md-4"},[i("div",{staticClass:"nav-link",staticStyle:{display:"block",width:"300px",height:"300px"},on:{click:function(e){t.carouselCursor=s}}},[i("span",{class:[e.filter_class?e.filter_class:""]},[i("span",{class:"rounded border "+[s==t.carouselCursor?" border-primary shadow":""],style:"display:block;padding:5px;width:100%;height:100%;background-image: url("+e.url+");background-size:cover;border-width:3px !important;"})])]),t._v(" "),s==t.carouselCursor?i("div",{staticClass:"text-center mb-0 small text-lighter font-weight-bold pt-2"},[i("span",{staticClass:"cursor-pointer",on:{click:function(e){return e.preventDefault(),t.showCropPhotoCard.apply(null,arguments)}}},[t._v("Crop")]),t._v(" "),i("span",{staticClass:"cursor-pointer px-3",on:{click:function(e){return e.preventDefault(),t.showEditMediaCard()}}},[t._v("Edit")]),t._v(" "),i("span",{staticClass:"cursor-pointer",on:{click:function(e){return t.deleteMedia()}}},[t._v("Delete")])]):t._e()])})),t._v(" "),i("li",{staticClass:"nav-item mx-md-4"},[t._v("Â ")])],2),t._v(" "),i("hr"),t._v(" "),t.ids.length>0&&"image"==t.media[t.carouselCursor].type?i("div",{staticClass:"align-items-center px-2 pt-2"},[i("ul",{staticClass:"nav media-drawer-filters text-center"},[i("li",{staticClass:"nav-item"},[i("div",{staticClass:"p-1 pt-3"},[i("img",{staticClass:"cursor-pointer",attrs:{src:t.media[t.carouselCursor].url,width:"100px",height:"60px"},on:{click:function(e){return e.preventDefault(),t.toggleFilter(e,null)}}})]),t._v(" "),i("a",{class:[null==t.media[t.carouselCursor].filter_class?"nav-link text-primary active":"nav-link text-muted"],attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.toggleFilter(e,null)}}},[t._v("No Filter")])]),t._v(" "),t._l(t.filters,(function(e,s){return i("li",{staticClass:"nav-item"},[i("div",{staticClass:"p-1 pt-3"},[i("img",{class:e[1],attrs:{src:t.media[t.carouselCursor].url,width:"100px",height:"60px"},on:{click:function(i){return i.preventDefault(),t.toggleFilter(i,e[1])}}})]),t._v(" "),i("a",{class:[t.media[t.carouselCursor].filter_class==e[1]?"nav-link text-primary active":"nav-link text-muted"],attrs:{href:"#"},on:{click:function(i){return i.preventDefault(),t.toggleFilter(i,e[1])}}},[t._v(t._s(e[0]))])])}))],2)]):t._e()]):i("div",[i("p",{staticClass:"mb-0 p-5 text-center font-weight-bold"},[t._v("An error occured, please refresh the page.")])])]):t._e(),t._v(" "),3==t.page?i("div",{staticClass:"w-100 h-100"},[i("div",{staticClass:"border-bottom mt-2"},[i("div",{staticClass:"media px-3"},[i("img",{class:[t.media[0].filter_class?"mr-2 "+t.media[0].filter_class:"mr-2"],attrs:{src:t.media[0].url,width:"42px",height:"42px"}}),t._v(" "),i("div",{staticClass:"media-body"},[i("div",{staticClass:"form-group"},[i("label",{staticClass:"font-weight-bold text-muted small d-none"},[t._v("Caption")]),t._v(" "),i("vue-tribute",{attrs:{options:t.tributeSettings}},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.composeText,expression:"composeText"}],staticClass:"form-control border-0 rounded-0 no-focus",attrs:{rows:"3",placeholder:"Write a caption..."},domProps:{value:t.composeText},on:{keyup:function(e){t.composeTextLength=t.composeText.length},input:function(e){e.target.composing||(t.composeText=e.target.value)}}})]),t._v(" "),i("p",{staticClass:"help-text small text-right text-muted mb-0"},[t._v(t._s(t.composeTextLength)+"/"+t._s(t.config.uploader.max_caption_length))])],1)])])]),t._v(" "),i("div",{staticClass:"border-bottom d-flex justify-content-between px-4 mb-0 py-2 "},[t._m(11),t._v(" "),i("div",[i("div",{staticClass:"custom-control custom-switch",staticStyle:{"z-index":"9999"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.nsfw,expression:"nsfw"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"asnsfw"},domProps:{checked:Array.isArray(t.nsfw)?t._i(t.nsfw,null)>-1:t.nsfw},on:{change:function(e){var i=t.nsfw,s=e.target,a=!!s.checked;if(Array.isArray(i)){var o=t._i(i,null);s.checked?o<0&&(t.nsfw=i.concat([null])):o>-1&&(t.nsfw=i.slice(0,o).concat(i.slice(o+1)))}else t.nsfw=a}}}),t._v(" "),i("label",{staticClass:"custom-control-label",attrs:{for:"asnsfw"}})])])]),t._v(" "),i("div",{staticClass:"border-bottom"},[i("p",{staticClass:"px-4 mb-0 py-2 cursor-pointer",on:{click:function(e){return t.showTagCard()}}},[t._v("Tag people")])]),t._v(" "),i("div",{staticClass:"border-bottom"},[i("p",{staticClass:"px-4 mb-0 py-2 cursor-pointer",on:{click:function(e){return t.showCollectionCard()}}},[t._m(12),t._v(" "),i("span",{staticClass:"float-right"},[t.collectionsSelected.length?i("span",{staticClass:"btn btn-outline-secondary btn-sm small mr-3 mt-n1 disabled",staticStyle:{"font-size":"10px",padding:"3px 5px","text-transform":"uppercase"},attrs:{href:"#",disabled:""}},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(t.collectionsSelected.length)+"\n\t\t\t\t\t\t\t\t\t")]):t._e(),t._v(" "),t._m(13)])])]),t._v(" "),i("div",{staticClass:"border-bottom"},[i("p",{staticClass:"px-4 mb-0 py-2 cursor-pointer",on:{click:function(e){return t.showLicenseCard()}}},[i("span",[t._v("Add license")]),t._v(" "),i("span",{staticClass:"float-right"},[t.licenseTitle?i("a",{staticClass:"btn btn-outline-secondary btn-sm small mr-3 mt-n1 disabled",staticStyle:{"font-size":"10px",padding:"3px","text-transform":"uppercase"},attrs:{href:"#",disabled:""},on:{click:function(e){return e.preventDefault(),t.showLicenseCard()}}},[t._v(t._s(t.licenseTitle))]):t._e(),t._v(" "),i("a",{staticClass:"text-decoration-none",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.showLicenseCard()}}},[i("i",{staticClass:"fas fa-chevron-right fa-lg text-lighter"})])])])]),t._v(" "),i("div",{staticClass:"border-bottom"},[t.place?i("p",{staticClass:"px-4 mb-0 py-2"},[i("span",{staticClass:"text-lighter"},[t._v("Location:")]),t._v(" "+t._s(t.place.name)+", "+t._s(t.place.country)+"\n\t\t\t\t\t\t\t\t"),i("span",{staticClass:"float-right"},[i("a",{staticClass:"btn btn-outline-secondary btn-sm small mr-2",staticStyle:{"font-size":"10px",padding:"3px","text-transform":"uppercase"},attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.showLocationCard()}}},[t._v("Edit")]),t._v(" "),i("a",{staticClass:"btn btn-outline-secondary btn-sm small",staticStyle:{"font-size":"10px",padding:"3px","text-transform":"uppercase"},attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.place=!1}}},[t._v("Remove")])])]):i("p",{staticClass:"px-4 mb-0 py-2 cursor-pointer",on:{click:function(e){return t.showLocationCard()}}},[t._v("Add location")])]),t._v(" "),i("div",{staticClass:"border-bottom"},[i("p",{staticClass:"px-4 mb-0 py-2"},[i("span",[t._v("Audience")]),t._v(" "),i("span",{staticClass:"float-right"},[i("a",{staticClass:"btn btn-outline-secondary btn-sm small mr-3 mt-n1 disabled",staticStyle:{"font-size":"10px",padding:"3px","text-transform":"uppercase"},attrs:{href:"#",disabled:""},on:{click:function(e){return e.preventDefault(),t.showVisibilityCard()}}},[t._v(t._s(t.visibilityTag))]),t._v(" "),i("a",{staticClass:"text-decoration-none",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.showVisibilityCard()}}},[i("i",{staticClass:"fas fa-chevron-right fa-lg text-lighter"})])])])]),t._v(" "),i("div",{staticStyle:{"min-height":"200px"}},[i("p",{staticClass:"px-4 mb-0 py-2 small font-weight-bold text-muted cursor-pointer",on:{click:function(e){return t.showAdvancedSettingsCard()}}},[t._v("Advanced settings")])])]):t._e(),t._v(" "),"tagPeople"==t.page?i("div",{staticClass:"w-100 h-100 p-3"},[i("autocomplete",{directives:[{name:"show",rawName:"v-show",value:t.taggedUsernames.length<10,expression:"taggedUsernames.length < 10"}],ref:"autocomplete",attrs:{search:t.tagSearch,placeholder:"@pixelfed","aria-label":"Search usernames","get-result-value":t.getTagResultValue},on:{submit:t.onTagSubmitLocation}}),t._v(" "),i("p",{directives:[{name:"show",rawName:"v-show",value:t.taggedUsernames.length<10,expression:"taggedUsernames.length < 10"}],staticClass:"font-weight-bold text-muted small"},[t._v("You can tag "+t._s(10-t.taggedUsernames.length)+" more "+t._s(9==t.taggedUsernames.length?"person":"people")+"!")]),t._v(" "),i("p",{staticClass:"font-weight-bold text-center mt-3"},[t._v("Tagged People")]),t._v(" "),i("div",{staticClass:"list-group"},[t._l(t.taggedUsernames,(function(e,s){return i("div",{staticClass:"list-group-item d-flex justify-content-between"},[i("div",{staticClass:"media"},[i("img",{staticClass:"mr-2 rounded-circle border",attrs:{src:e.avatar,width:"24px",height:"24px"}}),t._v(" "),i("div",{staticClass:"media-body"},[i("span",{staticClass:"font-weight-bold"},[t._v(t._s(e.name))])])]),t._v(" "),i("div",{staticClass:"custom-control custom-switch"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.privacy,expression:"tag.privacy"}],staticClass:"custom-control-input disabled",attrs:{type:"checkbox",id:"cci-tagged-privacy-switch"+s,disabled:""},domProps:{checked:Array.isArray(e.privacy)?t._i(e.privacy,null)>-1:e.privacy},on:{change:function(i){var s=e.privacy,a=i.target,o=!!a.checked;if(Array.isArray(s)){var n=t._i(s,null);a.checked?n<0&&t.$set(e,"privacy",s.concat([null])):n>-1&&t.$set(e,"privacy",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(e,"privacy",o)}}}),t._v(" "),i("label",{staticClass:"custom-control-label font-weight-bold text-lighter",attrs:{for:"cci-tagged-privacy-switch"+s}},[t._v(t._s(e.privacy?"Public":"Private"))]),t._v(" "),i("a",{staticClass:"ml-3",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.untagUsername(s)}}},[i("i",{staticClass:"fas fa-times text-muted"})])])])})),t._v(" "),0==t.taggedUsernames.length?i("div",{staticClass:"list-group-item p-3"},[i("p",{staticClass:"text-center mb-0 font-weight-bold text-lighter"},[t._v("Search usernames to tag.")])]):t._e()],2),t._v(" "),i("p",{staticClass:"font-weight-bold text-center small text-muted pt-3 mb-0"},[t._v("When you tag someone, they are sent a notification."),i("br"),t._v("For more information on tagging, "),i("a",{staticClass:"text-primary",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.showTagHelpCard()}}},[t._v("click here")]),t._v(".")])],1):t._e(),t._v(" "),"tagPeopleHelp"==t.page?i("div",{staticClass:"w-100 h-100 p-3"},[i("p",{staticClass:"mb-0 text-center py-3 px-2 lead"},[t._v("Tagging someone is like mentioning them, with the option to make it private between you.")]),t._v(" "),i("p",{staticClass:"mb-3 py-3 px-2 font-weight-lighter"},[t._v("\n\t\t\t\t\t\t\tYou can choose to tag someone in public or private mode. Public mode will allow others to see who you tagged in the post and private mode tagged users will not be shown to others.\n\t\t\t\t\t\t")])]):t._e(),t._v(" "),"addLocation"==t.page?i("div",{staticClass:"w-100 h-100 p-3"},[i("p",{staticClass:"mb-0"},[t._v("Add Location")]),t._v(" "),i("autocomplete",{attrs:{search:t.locationSearch,placeholder:"Search locations ...","aria-label":"Search locations ...","get-result-value":t.getResultValue},on:{submit:t.onSubmitLocation}})],1):t._e(),t._v(" "),"advancedSettings"==t.page?i("div",{staticClass:"w-100 h-100"},[i("div",{staticClass:"list-group list-group-flush"},[i("div",{staticClass:"list-group-item d-flex justify-content-between"},[t._m(14),t._v(" "),i("div",[i("div",{staticClass:"custom-control custom-switch",staticStyle:{"z-index":"9999"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.commentsDisabled,expression:"commentsDisabled"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"asdisablecomments"},domProps:{checked:Array.isArray(t.commentsDisabled)?t._i(t.commentsDisabled,null)>-1:t.commentsDisabled},on:{change:function(e){var i=t.commentsDisabled,s=e.target,a=!!s.checked;if(Array.isArray(i)){var o=t._i(i,null);s.checked?o<0&&(t.commentsDisabled=i.concat([null])):o>-1&&(t.commentsDisabled=i.slice(0,o).concat(i.slice(o+1)))}else t.commentsDisabled=a}}}),t._v(" "),i("label",{staticClass:"custom-control-label",attrs:{for:"asdisablecomments"}})])])]),t._v(" "),i("a",{staticClass:"list-group-item",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.showMediaDescriptionsCard()}}},[t._m(15)])])]):t._e(),t._v(" "),"visibility"==t.page?i("div",{staticClass:"w-100 h-100"},[i("div",{staticClass:"list-group list-group-flush"},[t.profile.locked?t._e():i("div",{staticClass:"list-group-item lead cursor-pointer",class:{"text-primary":"public"==t.visibility},on:{click:function(e){return t.toggleVisibility("public")}}},[t._v("\n\t\t\t\t\t\t\t\tPublic\n\t\t\t\t\t\t\t")]),t._v(" "),t.profile.locked?t._e():i("div",{staticClass:"list-group-item lead cursor-pointer",class:{"text-primary":"unlisted"==t.visibility},on:{click:function(e){return t.toggleVisibility("unlisted")}}},[t._v("\n\t\t\t\t\t\t\t\tUnlisted\n\t\t\t\t\t\t\t")]),t._v(" "),i("div",{staticClass:"list-group-item lead cursor-pointer",class:{"text-primary":"private"==t.visibility},on:{click:function(e){return t.toggleVisibility("private")}}},[t._v("\n\t\t\t\t\t\t\t\tFollowers Only\n\t\t\t\t\t\t\t")])])]):t._e(),t._v(" "),"altText"==t.page?i("div",{staticClass:"w-100 h-100 p-3"},[t._l(t.media,(function(e,s){return i("div",[i("div",{staticClass:"media"},[i("img",{staticClass:"mr-3",attrs:{src:e.preview_url,width:"50px",height:"50px"}}),t._v(" "),i("div",{staticClass:"media-body"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.alt,expression:"m.alt"}],staticClass:"form-control",attrs:{placeholder:"Add a media description here...",maxlength:t.maxAltTextLength,rows:"4"},domProps:{value:e.alt},on:{input:function(i){i.target.composing||t.$set(e,"alt",i.target.value)}}}),t._v(" "),i("p",{staticClass:"help-text small text-right text-muted mb-0"},[t._v(t._s(e.alt?e.alt.length:0)+"/"+t._s(t.maxAltTextLength))])])]),t._v(" "),i("hr")])})),t._v(" "),i("p",{staticClass:"d-flex justify-content-between mb-0"},[i("button",{staticClass:"btn btn-link text-muted font-weight-bold text-decoration-none",attrs:{type:"button"},on:{click:function(e){return t.goBack()}}},[t._v("Cancel")]),t._v(" "),i("button",{staticClass:"btn btn-primary font-weight-bold",attrs:{type:"button"},on:{click:function(e){return t.goBack()}}},[t._v("Save")])])],2):t._e(),t._v(" "),"addToCollection"==t.page?i("div",{staticClass:"w-100 h-100 p-3"},[t.collectionsLoaded&&t.collections.length?i("div",{staticClass:"list-group mb-3 collections-list-group"},[t._l(t.collections,(function(e,s){return i("div",{staticClass:"list-group-item cursor-pointer compose-action border",class:{active:t.collectionsSelected.includes(s)},on:{click:function(e){return t.toggleCollectionItem(s)}}},[i("div",{staticClass:"media"},[i("img",{staticClass:"mr-3",attrs:{src:e.thumb,alt:"",width:"50px",height:"50px"}}),t._v(" "),i("div",{staticClass:"media-body"},[i("h5",{staticClass:"mt-0"},[t._v(t._s(e.title))]),t._v(" "),i("p",{staticClass:"mb-0 text-muted small"},[t._v(t._s(e.post_count)+" Posts - Created "+t._s(t.timeAgo(e.published_at))+" ago")])])])])})),t._v(" "),t.collectionsCanLoadMore?i("button",{staticClass:"btn btn-light btn-block font-weight-bold mt-3",on:{click:t.loadMoreCollections}},[t._v("\n\t\t\t\t\t\t\t\tLoad more\n\t\t\t\t\t\t\t")]):t._e()],2):t._e(),t._v(" "),i("p",{staticClass:"d-flex justify-content-between mb-0"},[i("button",{staticClass:"btn btn-link text-muted font-weight-bold text-decoration-none",attrs:{type:"button"},on:{click:function(e){return t.clearSelectedCollections()}}},[t._v("Clear")]),t._v(" "),i("button",{staticClass:"btn btn-primary font-weight-bold",attrs:{type:"button"},on:{click:function(e){return t.goBack()}}},[t._v("Save")])])]):t._e(),t._v(" "),"schedulePost"==t.page?i("div",{staticClass:"w-100 h-100 p-3"},[i("p",{staticClass:"text-center lead text-muted mb-0 py-5"},[t._v("This feature is not available yet.")])]):t._e(),t._v(" "),"mediaMetadata"==t.page?i("div",{staticClass:"w-100 h-100 p-3"},[i("p",{staticClass:"text-center lead text-muted mb-0 py-5"},[t._v("This feature is not available yet.")])]):t._e(),t._v(" "),"addToStory"==t.page?i("div",{staticClass:"w-100 h-100 p-3"},[i("p",{staticClass:"text-center lead text-muted mb-0 py-5"},[t._v("This feature is not available yet.")])]):t._e(),t._v(" "),"editMedia"==t.page?i("div",{staticClass:"w-100 h-100 p-3"},[i("div",{staticClass:"media"},[i("img",{staticClass:"mr-3",attrs:{src:t.media[t.carouselCursor].preview_url,width:"50px",height:"50px"}}),t._v(" "),i("div",{staticClass:"media-body"},[i("div",{staticClass:"form-group"},[i("label",{staticClass:"font-weight-bold text-muted small"},[t._v("Media Description")]),t._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.media[t.carouselCursor].alt,expression:"media[carouselCursor].alt"}],staticClass:"form-control",attrs:{placeholder:"Add a media description here...",maxlength:"140"},domProps:{value:t.media[t.carouselCursor].alt},on:{input:function(e){e.target.composing||t.$set(t.media[t.carouselCursor],"alt",e.target.value)}}}),t._v(" "),i("p",{staticClass:"help-text small text-muted mb-0 d-flex justify-content-between"},[i("span",[t._v("Describe your photo for people with visual impairments.")]),t._v(" "),i("span",[t._v(t._s(t.media[t.carouselCursor].alt?t.media[t.carouselCursor].alt.length:0)+"/140")])])]),t._v(" "),i("div",{staticClass:"form-group"},[i("label",{staticClass:"font-weight-bold text-muted small"},[t._v("License")]),t._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:t.licenseId,expression:"licenseId"}],staticClass:"form-control",on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.licenseId=e.target.multiple?i:i[0]}}},t._l(t.availableLicenses,(function(e,s){return i("option",{domProps:{value:e.id,selected:e.id==t.licenseId}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t\t\t\t\t\t\t")])})),0)])])]),t._v(" "),i("hr"),t._v(" "),i("p",{staticClass:"d-flex justify-content-between mb-0"},[i("button",{staticClass:"btn btn-link text-muted font-weight-bold text-decoration-none",attrs:{type:"button"},on:{click:function(e){return t.goBack()}}},[t._v("Cancel")]),t._v(" "),i("button",{staticClass:"btn btn-primary font-weight-bold",attrs:{type:"button"},on:{click:function(e){return t.goBack()}}},[t._v("Save")])])]):t._e(),t._v(" "),"video-2"==t.page?i("div",{staticClass:"w-100 h-100"},[t.video.title.length?i("div",{staticClass:"border-bottom"},[i("div",{staticClass:"media p-3"},[i("img",{class:[t.media[0].filter_class?"mr-2 "+t.media[0].filter_class:"mr-2"],attrs:{src:t.media[0].url,width:"100px",height:"70px"}}),t._v(" "),i("div",{staticClass:"media-body"},[i("p",{staticClass:"font-weight-bold mb-1"},[t._v(t._s(t.video.title?t.video.title.slice(0,70):"Untitled"))]),t._v(" "),i("p",{staticClass:"mb-0 text-muted small"},[t._v(t._s(t.video.description?t.video.description.slice(0,90):"No description"))])])])]):t._e(),t._v(" "),i("div",{staticClass:"border-bottom d-flex justify-content-between px-4 mb-0 py-2 "},[t._m(16),t._v(" "),i("div",[i("div",{staticClass:"custom-control custom-switch",staticStyle:{"z-index":"9999"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.nsfw,expression:"nsfw"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"asnsfw"},domProps:{checked:Array.isArray(t.nsfw)?t._i(t.nsfw,null)>-1:t.nsfw},on:{change:function(e){var i=t.nsfw,s=e.target,a=!!s.checked;if(Array.isArray(i)){var o=t._i(i,null);s.checked?o<0&&(t.nsfw=i.concat([null])):o>-1&&(t.nsfw=i.slice(0,o).concat(i.slice(o+1)))}else t.nsfw=a}}}),t._v(" "),i("label",{staticClass:"custom-control-label",attrs:{for:"asnsfw"}})])])]),t._v(" "),i("div",{staticClass:"border-bottom"},[i("p",{staticClass:"px-4 mb-0 py-2 cursor-pointer",on:{click:function(e){return t.showLicenseCard()}}},[t._v("Add license")])]),t._v(" "),i("div",{staticClass:"border-bottom"},[i("p",{staticClass:"px-4 mb-0 py-2"},[i("span",[t._v("Audience")]),t._v(" "),i("span",{staticClass:"float-right"},[i("a",{staticClass:"btn btn-outline-secondary btn-sm small mr-3 mt-n1 disabled",staticStyle:{"font-size":"10px",padding:"3px","text-transform":"uppercase"},attrs:{href:"#",disabled:""},on:{click:function(e){return e.preventDefault(),t.showVisibilityCard()}}},[t._v(t._s(t.visibilityTag))]),t._v(" "),i("a",{staticClass:"text-decoration-none",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.showVisibilityCard()}}},[i("i",{staticClass:"fas fa-chevron-right fa-lg text-lighter"})])])])]),t._v(" "),i("div",{staticClass:"p-3"},[i("div",{staticClass:"form-group"},[i("p",{staticClass:"small font-weight-bold text-muted mb-0"},[t._v("Title")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.video.title,expression:"video.title"}],staticClass:"form-control",attrs:{placeholder:"Add a good title"},domProps:{value:t.video.title},on:{input:function(e){e.target.composing||t.$set(t.video,"title",e.target.value)}}}),t._v(" "),i("p",{staticClass:"help-text mb-0 small text-muted"},[t._v(t._s(t.video.title.length)+"/70")])]),t._v(" "),i("div",{staticClass:"form-group mb-0"},[i("p",{staticClass:"small font-weight-bold text-muted mb-0"},[t._v("Description")]),t._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.video.description,expression:"video.description"}],staticClass:"form-control",attrs:{placeholder:"Add an optional description",maxlength:"5000",rows:"5"},domProps:{value:t.video.description},on:{input:function(e){e.target.composing||t.$set(t.video,"description",e.target.value)}}}),t._v(" "),i("p",{staticClass:"help-text mb-0 small text-muted"},[t._v(t._s(t.video.description.length)+"/5000")])])])]):t._e()]),t._v(" "),"cropPhoto"==t.page?i("div",{staticClass:"card-footer bg-white d-flex justify-content-between"},[i("div",[i("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:t.rotate}},[i("i",{staticClass:"fas fa-redo"})])]),t._v(" "),i("div",[i("div",{staticClass:"d-inline-block button-group"},[i("button",{class:"btn font-weight-bold "+[t.cropper.aspectRatio==16/9?"btn-primary":"btn-light"],on:{click:function(e){return e.preventDefault(),t.changeAspect(16/9)}}},[t._v("16:9")]),t._v(" "),i("button",{class:"btn font-weight-bold "+[t.cropper.aspectRatio==4/3?"btn-primary":"btn-light"],on:{click:function(e){return e.preventDefault(),t.changeAspect(4/3)}}},[t._v("4:3")]),t._v(" "),i("button",{class:"btn font-weight-bold "+[1.5==t.cropper.aspectRatio?"btn-primary":"btn-light"],on:{click:function(e){return e.preventDefault(),t.changeAspect(1.5)}}},[t._v("3:2")]),t._v(" "),i("button",{class:"btn font-weight-bold "+[1==t.cropper.aspectRatio?"btn-primary":"btn-light"],on:{click:function(e){return e.preventDefault(),t.changeAspect(1)}}},[t._v("1:1")]),t._v(" "),i("button",{class:"btn font-weight-bold "+[t.cropper.aspectRatio==2/3?"btn-primary":"btn-light"],on:{click:function(e){return e.preventDefault(),t.changeAspect(2/3)}}},[t._v("2:3")])])])]):t._e()])])])])},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"card-header d-inline-flex align-items-center justify-content-between bg-white"},[i("span",{staticClass:"pr-3"},[i("i",{staticClass:"fas fa-cog fa-lg text-muted"})]),t._v(" "),i("span",{staticClass:"font-weight-bold"},[t._v("\n\t\t\t\t\t\tCamera Roll\n\t\t\t\t\t")]),t._v(" "),i("span",{staticClass:"text-primary font-weight-bold"},[t._v("Upload")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"pr-3"},[e("i",{staticClass:"fas fa-info-circle fa-lg text-primary"})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status"}},[i("span",{staticClass:"sr-only"},[t._v("Loading...")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status"}},[i("span",{staticClass:"sr-only"},[t._v("Loading...")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mr-3 align-items-center justify-content-center",staticStyle:{display:"inline-flex",width:"40px",height:"40px","border-radius":"100%","background-color":"#008DF5"}},[e("i",{staticClass:"fal fa-bolt text-white fa-lg"})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",{staticClass:"mb-0"},[i("span",{staticClass:"h5 mt-0 font-weight-bold text-primary"},[t._v("New Post")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"media"},[i("div",{staticClass:"mr-3 align-items-center justify-content-center",staticStyle:{display:"inline-flex",width:"40px",height:"40px","border-radius":"100%",border:"2px solid #008DF5"}},[i("i",{staticClass:"far fa-edit text-primary fa-lg"})]),t._v(" "),i("div",{staticClass:"media-body text-left"},[i("p",{staticClass:"mb-0"},[i("span",{staticClass:"h5 mt-0 font-weight-bold text-primary"},[t._v("New Text Post")]),t._v(" "),i("sup",{staticClass:"float-right mt-2"},[i("span",{staticClass:"btn btn-outline-lighter p-1 btn-sm font-weight-bold py-0",staticStyle:{"font-size":"10px","line-height":"0.6"}},[t._v("BETA")])])]),t._v(" "),i("p",{staticClass:"mb-0 text-muted"},[t._v("Share a text only post")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"card-body py-2"},[i("div",{staticClass:"media"},[i("div",{staticClass:"mr-3 align-items-center justify-content-center",staticStyle:{display:"inline-flex",width:"40px",height:"40px","border-radius":"100%",border:"1px solid #008DF5"}},[i("i",{staticClass:"fas fa-history text-primary fa-lg"})]),t._v(" "),i("div",{staticClass:"media-body text-left"},[i("p",{staticClass:"mb-0"},[i("span",{staticClass:"h5 mt-0 font-weight-bold text-primary"},[t._v("New Story")]),t._v(" "),i("sup",{staticClass:"float-right mt-2"},[i("span",{staticClass:"btn btn-outline-lighter p-1 btn-sm font-weight-bold py-0",staticStyle:{"font-size":"10px","line-height":"0.6"}},[t._v("BETA")])])]),t._v(" "),i("p",{staticClass:"mb-0 text-muted"},[t._v("Add to your story")])])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"card-body py-2"},[i("div",{staticClass:"media"},[i("div",{staticClass:"mr-3 align-items-center justify-content-center",staticStyle:{display:"inline-flex",width:"40px",height:"40px","border-radius":"100%",border:"2px solid #008DF5"}},[i("i",{staticClass:"fas fa-poll-h text-primary fa-lg"})]),t._v(" "),i("div",{staticClass:"media-body text-left"},[i("p",{staticClass:"mb-0"},[i("span",{staticClass:"h5 mt-0 font-weight-bold text-primary"},[t._v("New Poll")]),t._v(" "),i("sup",{staticClass:"float-right mt-2"},[i("span",{staticClass:"btn btn-outline-lighter p-1 btn-sm font-weight-bold py-0",staticStyle:{"font-size":"10px","line-height":"0.6"}},[t._v("BETA")])])]),t._v(" "),i("p",{staticClass:"mb-0 text-muted"},[t._v("Create a poll")])])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("a",{staticClass:"card my-md-3 shadow-none border compose-action text-decoration-none text-dark",attrs:{href:"/i/collections/create"}},[i("div",{staticClass:"card-body py-2"},[i("div",{staticClass:"media"},[i("div",{staticClass:"mr-3 align-items-center justify-content-center",staticStyle:{display:"inline-flex",width:"40px",height:"40px","border-radius":"100%",border:"1px solid #008DF5"}},[i("i",{staticClass:"fal fa-images text-primary fa-lg"})]),t._v(" "),i("div",{staticClass:"media-body text-left"},[i("p",{staticClass:"mb-0"},[i("span",{staticClass:"h5 mt-0 font-weight-bold text-primary"},[t._v("New Collection")]),t._v(" "),i("sup",{staticClass:"float-right mt-2"},[i("span",{staticClass:"btn btn-outline-lighter p-1 btn-sm font-weight-bold py-0",staticStyle:{"font-size":"10px","line-height":"0.6"}},[t._v("BETA")])])]),t._v(" "),i("p",{staticClass:"mb-0 text-muted"},[t._v("New collection of posts")])])])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",{staticClass:"py-3"},[i("a",{staticClass:"font-weight-bold",attrs:{href:"/site/help"}},[t._v("Help")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"text-dark "},[t._v("Contains NSFW Media")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",[t._v("Add to Collection "),i("span",{staticClass:"ml-2 badge badge-primary"},[t._v("NEW")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"text-decoration-none"},[e("i",{staticClass:"fas fa-chevron-right fa-lg text-lighter"})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"text-dark "},[t._v("Turn off commenting")]),t._v(" "),i("p",{staticClass:"text-muted small mb-0"},[t._v("Disables comments for this post, you can change this later.")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"d-flex justify-content-between align-items-center"},[i("div",[i("div",{staticClass:"text-dark"},[t._v("Media Descriptions")]),t._v(" "),i("p",{staticClass:"text-muted small mb-0"},[t._v("Describe your photos for people with visual impairments.")])]),t._v(" "),i("div",[i("i",{staticClass:"fas fa-chevron-right fa-lg text-lighter"})])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"text-dark "},[t._v("Contains NSFW Media")])])}]}}]);